import{j as l,B as j,h as In,I as U,c as Ao,C as jo,s as Pn,a as Te,g as Ro,L as To,b as lt,D as Lo,d as Po,e as Bo,f as _o,i as ko,k as $t,u as Ft,l as Oo,m as at,P as Mo}from"./index-DmWoIqkz.js";import{R as $,r as b,c as $o,b as Gt,j as Fo,u as Go,i as Ho}from"./react-vendor-Dgs0PnIs.js";import{E as Ke,u as Bn,i as _n,a as Ht,b as Wt,c as Wo}from"./editor-vendor-h6cY2E7P.js";import{I as zo,A as Uo,m as zt,x as qo,J as Yo,K as Xo,y as Ut,X as Fe,N as Ko,O as Jo,Q as Qo,R as Zo,V as ei,Y as ni,Z as ti,_ as ri,$ as oi,k as Ne,a0 as Je,a1 as ii,a2 as G,a3 as Qe,a4 as Cn,a5 as si,a6 as li,a7 as ai}from"./utils-vendor-BGFQbqN_.js";import{a as ci,T as Ce,b as de,P as Z,A as ne,c as q,F as di,d as ui,W as mi,e as pi}from"./export-vendor-CIONKkl6.js";import{P as fi,a as gi,b as hi,g as bi,S as Ni,A as qt,c as Yt,d as Xt,e as Kt,f as Jt,h as Qt,i as Zt,j as er}from"./switch-D-s5z0hd.js";import{f as ue,s as xi}from"./date-vendor-B-iErbnr.js";import{i as vi,c as nr,b as ct,P as Di,a as Ei,d as yi,e as wi}from"./chart-vendor-BXsb260Q.js";import{_ as tr}from"./mui-vendor-ChyyRTJQ.js";import"./ui-vendor-DDOKmtGI.js";var Ii=ci();const Ci=({showName:e,showDate:n,onBackToDashboard:t,isBackupShow:r})=>l.jsxDEV("div",{className:"lineup-editor-header mb-8 print:hidden",dir:"rtl",children:[l.jsxDEV(j,{variant:"outline",onClick:t,className:"flex items-center gap-2 mb-4",children:[l.jsxDEV(zo,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/editor/HeaderSection.tsx",lineNumber:22,columnNumber:9},void 0),"×—×–×¨×” ×œ×¢××•×“ ×”×¨××©×™"]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/editor/HeaderSection.tsx",lineNumber:17,columnNumber:7},void 0),l.jsxDEV("div",{className:"flex items-center gap-3 mb-2",children:[l.jsxDEV("h1",{className:"text-3xl font-bold text-right",children:["×¢×¨×™×›×ª ×œ×™×™× ××¤ - ",e," - ",n?ue(n,"dd/MM/yyyy",{locale:In}):"×œ× × ×‘×—×¨ ×ª××¨×™×š"]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/editor/HeaderSection.tsx",lineNumber:27,columnNumber:9},void 0),r&&l.jsxDEV("div",{className:"flex items-center gap-1 text-sm bg-blue-100 text-blue-800 px-3 py-1 rounded-full",children:[l.jsxDEV(Uo,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/editor/HeaderSection.tsx",lineNumber:32,columnNumber:13},void 0),l.jsxDEV("span",{children:"Lovable - ×§×¨×™××” ×‘×œ×‘×“"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/editor/HeaderSection.tsx",lineNumber:33,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/editor/HeaderSection.tsx",lineNumber:31,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/editor/HeaderSection.tsx",lineNumber:26,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/editor/HeaderSection.tsx",lineNumber:16,columnNumber:5},void 0),Si=({showName:e,showTime:n,showDate:t=new Date,onNameChange:r,onTimeChange:o,onDateChange:i,onSave:s,onShare:a,onPrint:c,onExportPDF:d,onExportWord:p,isSaving:u=!1})=>($.useEffect(()=>{t||i(new Date)},[]),l.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 rtl-grid mb-8",children:[l.jsxDEV(U,{placeholder:"×©× ×”×ª×•×›× ×™×ª",value:e,onChange:m=>r(m.target.value),autoComplete:"on",name:"show-name"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/show/ShowHeader.tsx",lineNumber:49,columnNumber:7},void 0),l.jsxDEV(U,{type:"time",value:n,onChange:m=>o(m.target.value)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/show/ShowHeader.tsx",lineNumber:56,columnNumber:7},void 0),l.jsxDEV(fi,{children:[l.jsxDEV(gi,{asChild:!0,children:l.jsxDEV(j,{variant:"outline",className:Ao("w-full justify-start text-right font-normal",!t&&"text-muted-foreground"),children:t?ue(t,"dd/MM/yyyy",{locale:In}):"×‘×—×¨ ×ª××¨×™×š"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/show/ShowHeader.tsx",lineNumber:63,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/show/ShowHeader.tsx",lineNumber:62,columnNumber:9},void 0),l.jsxDEV(hi,{className:"w-auto p-0 bg-white shadow-lg",align:"start",children:l.jsxDEV(jo,{mode:"single",selected:t,onSelect:i,initialFocus:!0,locale:In,defaultMonth:new Date},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/show/ShowHeader.tsx",lineNumber:74,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/show/ShowHeader.tsx",lineNumber:73,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/show/ShowHeader.tsx",lineNumber:61,columnNumber:7},void 0),l.jsxDEV("div",{className:"flex gap-2",children:[l.jsxDEV(j,{onClick:s,disabled:u,variant:"default",className:"px-8 font-bold flex-1",children:[l.jsxDEV(zt,{className:"ml-2 h-4 w-4"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/show/ShowHeader.tsx",lineNumber:86,columnNumber:11},void 0),u?"×©×•××¨...":"×©××™×¨×”"]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/show/ShowHeader.tsx",lineNumber:85,columnNumber:9},void 0),l.jsxDEV(j,{onClick:c,variant:"outline",children:[l.jsxDEV(qo,{className:"ml-2 h-4 w-4"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/show/ShowHeader.tsx",lineNumber:90,columnNumber:11},void 0),"×”×“×¤×¡×”"]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/show/ShowHeader.tsx",lineNumber:89,columnNumber:9},void 0),l.jsxDEV(j,{onClick:a,variant:"outline",children:[l.jsxDEV(Yo,{className:"ml-2 h-4 w-4"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/show/ShowHeader.tsx",lineNumber:94,columnNumber:11},void 0),"×©×™×ª×•×£"]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/show/ShowHeader.tsx",lineNumber:93,columnNumber:9},void 0),l.jsxDEV(j,{onClick:d,variant:"outline",children:[l.jsxDEV(Xo,{className:"ml-2 h-4 w-4"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/show/ShowHeader.tsx",lineNumber:98,columnNumber:11},void 0),"PDF"]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/show/ShowHeader.tsx",lineNumber:97,columnNumber:9},void 0),l.jsxDEV(j,{onClick:p,variant:"outline",children:[l.jsxDEV(Ut,{className:"ml-2 h-4 w-4"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/show/ShowHeader.tsx",lineNumber:102,columnNumber:11},void 0),"Word"]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/show/ShowHeader.tsx",lineNumber:101,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/show/ShowHeader.tsx",lineNumber:84,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/show/ShowHeader.tsx",lineNumber:48,columnNumber:5},void 0)),Vi=({editor:e,nextShowName:n,nextShowHost:t,onRemoveLine:r,onCreditAdded:o,onDismiss:i,allCreditsAdded:s})=>{const[a,c]=b.useState(!1),[d,p]=b.useState(!0);console.log("NextShowCredits received:",{nextShowName:n,nextShowHost:t});const u=b.useMemo(()=>{const h=`<strong>××™×“ ××—×¨×™× ×•: </strong>${t&&t!==n?`${n} ×¢× ${t}`:n}`;return console.log("NextShowCredits final text:",h),h},[n,t]);b.useEffect(()=>{if(e){const N=e.getHTML();c(N.includes(u))}},[e,u]),b.useEffect(()=>{if(a){const N=setTimeout(()=>{p(!1),o&&o()},250);return()=>clearTimeout(N)}else p(!0)},[a,o]);const m=()=>{const N=e.getHTML();N.includes(u)||(N.trim()===""?e.commands.setContent(`<p>${u}</p>`):e.commands.insertContentAt(e.state.doc.nodeSize-2,`<p>${u}</p>`),c(!0))},f=()=>{const N=e.getHTML(),h=document.createElement("div");h.innerHTML=N,h.querySelectorAll("p").forEach(v=>{v.textContent===u&&v.remove()}),e.commands.setContent(h.innerHTML),c(!1),r&&r()},g=()=>{p(!1),setTimeout(()=>{i&&i()},250)};return!d||s?null:l.jsxDEV("div",{className:`text-sm bg-white rounded p-3 border transition-all duration-250 ${a?"opacity-0 scale-95":"opacity-100 scale-100"}`,children:l.jsxDEV("div",{className:"flex justify-between items-center",children:[l.jsxDEV("div",{className:"flex-1 text-right",dangerouslySetInnerHTML:{__html:Pn(u||"")}},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/show/next-show/NextShowCredits.tsx",lineNumber:136,columnNumber:9},void 0),l.jsxDEV("div",{className:"flex items-center space-x-2 space-x-reverse rtl shrink-0 mr-2",children:a?l.jsxDEV(j,{variant:"ghost",size:"sm",onClick:f,className:"text-xs text-red-500 hover:text-red-700",children:"×”×¡×¨ ××”×§×¨×“×™×˜×™×"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/show/next-show/NextShowCredits.tsx",lineNumber:158,columnNumber:13},void 0):l.jsxDEV(l.Fragment,{children:[l.jsxDEV(j,{variant:"outline",size:"sm",onClick:m,className:"text-xs",children:"×”×•×¡×£ ×œ×§×¨×“×™×˜×™×"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/show/next-show/NextShowCredits.tsx",lineNumber:140,columnNumber:15},void 0),l.jsxDEV(j,{variant:"ghost",size:"sm",onClick:g,className:"text-xs text-gray-500 hover:text-gray-700",children:l.jsxDEV(Fe,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/show/next-show/NextShowCredits.tsx",lineNumber:154,columnNumber:17},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/show/next-show/NextShowCredits.tsx",lineNumber:148,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/show/next-show/NextShowCredits.tsx",lineNumber:139,columnNumber:13},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/show/next-show/NextShowCredits.tsx",lineNumber:137,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/show/next-show/NextShowCredits.tsx",lineNumber:135,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/show/next-show/NextShowCredits.tsx",lineNumber:134,columnNumber:5},void 0)},dt=e=>{try{return e.includes(":")?e.substring(0,5):e.length===4?`${e.substring(0,2)}:${e.substring(2,4)}`:e}catch(n){return console.error("Error formatting time:",n),e}},Ai=async(e,n)=>{try{const t=e.getFullYear()+"-"+String(e.getMonth()+1).padStart(2,"0")+"-"+String(e.getDate()).padStart(2,"0");console.log(`Finding digital workers for exact date ${t} at time ${n}`);const r=dt(n),o=v=>{const w=dt(v),[y,D]=w.split(":").map(Number);return y*60+D},i=o(r),{data:s,error:a}=await Te.query("/digital-work-arrangements",{where:{week_start:{lte:t}},order:{week_start:"desc"},limit:1});if(a)return console.error("Error fetching digital work arrangement:",a),null;if(!s||s.length===0)return console.log(`No digital work arrangement found that includes date ${t}`),null;const c=s[0].id;console.log(`Found arrangement ${c} for date ${t}`);const{data:d,error:p}=await Te.query("/digital-shifts",{where:{arrangement_id:c,person_name:{neq:null},is_hidden:{neq:!0}}});if(p)return console.error("Error fetching digital shifts:",p),null;if(console.log(`Found ${d?.length||0} total shifts in the selected arrangement`),!d||d.length===0)return console.log(`No digital shifts found for date ${t}`),null;const u=e.getDay(),m=d.filter(v=>v.day_of_week===u);if(console.log(`Found ${m.length} shifts for day ${u} (${["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][u]})`),m.length===0)return null;const f=m.filter(v=>{const w=o(v.start_time),y=o(v.end_time);return i>=w&&i<y});if(console.log(`Found ${f.length} shifts that contain the time ${r}`),f.length===0)return console.log("No matching shifts found for this time"),null;console.log("Matching shifts:",f.map(v=>({person:v.person_name,section:v.section_name,time:`${v.start_time} - ${v.end_time}`})));const g=["digital_shifts","transcription_shifts","live_social_shifts"],N={};g.forEach(v=>{N[v]=[]}),f.forEach(v=>{const w=v.section_name,y=v.person_name;g.includes(w)&&y&&!N[w].includes(y)&&N[w].push(y)}),console.log("Workers by section:",N);const h=new Set,x=[];for(const v of g)if(N[v]?.length>0){const w=N[v][0];if(w&&!h.has(w)&&(h.add(w),x.push(w),x.length>=3))break}if(console.log("Final unique worker IDs (max 3):",x),x.length===0)return console.log("No workers found in priority sections"),null;try{console.log("Looking up worker names from IDs:",x);const v=await bi(x);if(!v||v.length===0)return console.log("No workers found by IDs"),null;const w={};v.forEach(I=>{w[I.id]=I.name});const y=x.filter(I=>w[I]).map(I=>w[I]);if(console.log("Final digital worker names:",y),y.length===0)return console.log("No digital worker names found after mapping"),null;let D="";if(y.length>0)if(y.length===1)D=`×‘×“×™×’×™×˜×œ: ${y[0]}.`;else if(y.length===2)D=`×‘×“×™×’×™×˜×œ: ${y[0]} ×•${y[1]}.`;else{const I=y.slice(0,-1).join(", "),R=y[y.length-1];D=`×‘×“×™×’×™×˜×œ: ${I} ×•${R}.`}return console.log(`Generated credit line: ${D}`),D}catch(v){return console.error("Error looking up worker names:",v),null}}catch(t){return console.error("Error fetching digital workers:",t),null}},ji=({showDate:e,showTime:n,editor:t,onCreditAdded:r,onDismiss:o,allCreditsAdded:i})=>{const[s,a]=b.useState(""),[c,d]=b.useState(!1),[p,u]=b.useState(!1),[m,f]=b.useState(!0);b.useEffect(()=>{e&&n&&(async()=>{try{d(!0);const v=await Ai(e,n);if(v){const w=v.endsWith(".")?v.slice(0,-1):v,y=w.indexOf(":");if(y!==-1){const D=w.substring(0,y+1),I=w.substring(y+1);a(`<strong>${D}</strong>${I}`)}else a(w)}else a("")}catch(v){console.error("Error loading digital workers:",v),a("")}finally{d(!1)}})()},[e,n]),b.useEffect(()=>{if(t&&s){const x=t.getHTML();u(x.includes(s))}},[t,s]),b.useEffect(()=>{if(p){const x=setTimeout(()=>{f(!1),r&&r()},250);return()=>clearTimeout(x)}else f(!0)},[p,r]);const g=()=>{if(!s)return;const x=t.getHTML();x.includes(s)||(x.trim()===""?t.commands.setContent(`<p>${s}</p>`):t.commands.insertContentAt(t.state.doc.nodeSize-2,`<p>${s}</p>`),u(!0))},N=()=>{if(!s)return;const x=t.getHTML(),v=document.createElement("div");v.innerHTML=x,v.querySelectorAll("p").forEach(y=>{y.textContent===s&&y.remove()}),t.commands.setContent(v.innerHTML),u(!1)},h=()=>{f(!1),setTimeout(()=>{o&&o()},250)};return c||!s||!m||i?null:l.jsxDEV("div",{className:`text-sm bg-white rounded p-3 border transition-all duration-250 ${p?"opacity-0 scale-95":"opacity-100 scale-100"}`,children:l.jsxDEV("div",{className:"flex justify-between items-center",children:[l.jsxDEV("div",{className:"flex-1 text-right",dangerouslySetInnerHTML:{__html:Pn(s||"")}},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/show/DigitalCreditsSuggestion.tsx",lineNumber:156,columnNumber:9},void 0),l.jsxDEV("div",{className:"flex items-center space-x-2 space-x-reverse rtl shrink-0 mr-2",children:p?l.jsxDEV(j,{variant:"ghost",size:"sm",onClick:N,className:"text-xs text-red-500 hover:text-red-700",children:"×”×¡×¨ ××”×§×¨×“×™×˜×™×"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/show/DigitalCreditsSuggestion.tsx",lineNumber:178,columnNumber:13},void 0):l.jsxDEV(l.Fragment,{children:[l.jsxDEV(j,{variant:"outline",size:"sm",onClick:g,className:"text-xs",children:"×”×•×¡×£ ×œ×§×¨×“×™×˜×™×"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/show/DigitalCreditsSuggestion.tsx",lineNumber:160,columnNumber:15},void 0),l.jsxDEV(j,{variant:"ghost",size:"sm",onClick:h,className:"text-xs text-gray-500 hover:text-gray-700",children:l.jsxDEV(Fe,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/show/DigitalCreditsSuggestion.tsx",lineNumber:174,columnNumber:17},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/show/DigitalCreditsSuggestion.tsx",lineNumber:168,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/show/DigitalCreditsSuggestion.tsx",lineNumber:159,columnNumber:13},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/show/DigitalCreditsSuggestion.tsx",lineNumber:157,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/show/DigitalCreditsSuggestion.tsx",lineNumber:155,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/show/DigitalCreditsSuggestion.tsx",lineNumber:154,columnNumber:5},void 0)},Ri=({editor:e,assignments:n,showDate:t,showTime:r,onCreditAdded:o,onDismiss:i,allCreditsAdded:s})=>{const[a,c]=b.useState(!1),[d,p]=b.useState(!0),u=b.useMemo(()=>!t||!r||n.length===0?[]:n.filter(w=>{const y=t.getDay();return(w.slot?.day_of_week??w.day_of_week)===y}).filter(w=>{const y=(w.slot?.start_time||w.start_time)?.substring(0,5),D=r?.substring(0,5);return y===D}),[n,t,r]),m=b.useMemo(()=>{if(!u.length)return[];const x={×¢×¨×™×›×”:"editor",×¢×•×¨×š:"editor",×¢×•×¨×›×ª:"editor",×”×¤×§×”:"producer",××¤×™×§:"producer",××¤×™×§×”:"producer"};return u.map((v,w)=>{let y="other";const D=(v.role||"").toLowerCase();return Object.entries(x).forEach(([I,R])=>{D.includes(I.toLowerCase())&&(y=R)}),{name:v.worker?.name||"",role:v.role||"",category:y,originalIndex:w}})},[u]),f=b.useMemo(()=>{if(m.length===0)return"";const x=[...m].sort((w,y)=>w.originalIndex-y.originalIndex),v=x.map(w=>w.name);if(v.length===1){const w=x[0];return`<strong>${w.category==="editor"?"×¢×¨×™×›×”":"×”×¤×§×”"}: </strong>${w.name}`}return v.length===2?`<strong>×¢×•×¨×›×™× ×•××¤×™×§×™×: </strong>${v[0]} ×•${v[1]}`:`<strong>×¢×•×¨×›×™× ×•××¤×™×§×™×: </strong>${v.slice(0,-1).join(", ")} ×•${v[v.length-1]}`},[m]);b.useEffect(()=>{if(e&&f){const x=e.getHTML();c(x.includes(f))}},[e,f]),b.useEffect(()=>{if(a){const x=setTimeout(()=>{p(!1),o&&o()},250);return()=>clearTimeout(x)}else p(!0)},[a,o]);const g=()=>{if(!f)return;const x=e.getHTML();if(x.includes(f))return;const v=f.split(`
`);if(x.trim()===""){const w=v.map(y=>`<p>${y}</p>`).join("");e.commands.setContent(w)}else v.forEach(w=>{e.commands.insertContentAt(e.state.doc.nodeSize-2,`<p>${w}</p>`)});c(!0)},N=()=>{if(!f)return;const x=e.getHTML(),v=document.createElement("div");v.innerHTML=x;const w=f.split(`
`),y=v.querySelectorAll("p");w.forEach(D=>{y.forEach(I=>{I.textContent===D&&I.remove()})}),e.commands.setContent(v.innerHTML),c(!1)},h=()=>{p(!1),setTimeout(()=>{i&&i()},250)};return!f||!d||s?null:l.jsxDEV("div",{className:`text-sm bg-white rounded p-3 border transition-all duration-250 ${a?"opacity-0 scale-95":"opacity-100 scale-100"}`,children:l.jsxDEV("div",{className:"flex justify-between items-center",children:[l.jsxDEV("div",{className:"flex-1 text-right whitespace-pre-line",dangerouslySetInnerHTML:{__html:Pn(f||"")}},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/show/ProducersCreditsComponent.tsx",lineNumber:242,columnNumber:9},void 0),l.jsxDEV("div",{className:"flex items-center space-x-2 space-x-reverse rtl shrink-0 mr-2",children:a?l.jsxDEV(j,{variant:"ghost",size:"sm",onClick:N,className:"text-xs text-red-500 hover:text-red-700",children:"×”×¡×¨ ××”×§×¨×“×™×˜×™×"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/show/ProducersCreditsComponent.tsx",lineNumber:264,columnNumber:13},void 0):l.jsxDEV(l.Fragment,{children:[l.jsxDEV(j,{variant:"outline",size:"sm",onClick:g,className:"text-xs",children:"×”×•×¡×£ ×œ×§×¨×“×™×˜×™×"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/show/ProducersCreditsComponent.tsx",lineNumber:246,columnNumber:15},void 0),l.jsxDEV(j,{variant:"ghost",size:"sm",onClick:h,className:"text-xs text-gray-500 hover:text-gray-700",children:l.jsxDEV(Fe,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/show/ProducersCreditsComponent.tsx",lineNumber:260,columnNumber:17},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/show/ProducersCreditsComponent.tsx",lineNumber:254,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/show/ProducersCreditsComponent.tsx",lineNumber:245,columnNumber:13},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/show/ProducersCreditsComponent.tsx",lineNumber:243,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/show/ProducersCreditsComponent.tsx",lineNumber:241,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/show/ProducersCreditsComponent.tsx",lineNumber:240,columnNumber:5},void 0)},Ti=({editor:e,nextShowName:n,nextShowHost:t,onRemoveNextShowLine:r,showDate:o,showTime:i})=>{const[s,a]=b.useState([]),[c,d]=b.useState(!1),[p,u]=b.useState({producers:!1,digital:!1,nextShow:!1}),[m,f]=b.useState({producers:!1,digital:!1,nextShow:!1});b.useEffect(()=>{(async()=>{if(o)try{d(!0);const z=xi(o,{weekStartsOn:0});console.log("Fetching producer assignments for week:",ue(z,"yyyy-MM-dd"));const M=await Ro(z);a(M)}catch(z){console.error("Error fetching producer assignments:",z)}finally{d(!1)}})()},[o]);const g=Object.keys(p).every(L=>p[L]||m[L]),N=()=>u(L=>({...L,producers:!0})),h=()=>u(L=>({...L,digital:!0})),x=()=>u(L=>({...L,nextShow:!0})),v=()=>f(L=>({...L,producers:!0})),w=()=>f(L=>({...L,digital:!0})),y=()=>f(L=>({...L,nextShow:!0}));if(!e)return null;const D=!c&&s.length>0&&o&&i&&!p.producers&&!m.producers,I=o&&i&&!p.digital&&!m.digital,R=n&&!p.nextShow&&!m.nextShow,W=(D||I||R)&&!g;return l.jsxDEV("div",{className:"col-span-2 space-y-4",children:[l.jsxDEV(Ke,{editor:e,className:"min-h-[100px] bg-white border rounded-md text-center"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/show/ShowCredits.tsx",lineNumber:94,columnNumber:7},void 0),W&&l.jsxDEV("div",{className:"space-y-4 rounded-md border p-4 bg-gray-50",children:[l.jsxDEV("h3",{className:"text-sm font-medium text-gray-500",children:"×”×¦×¢×•×ª ×§×¨×“×™×˜×™×"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/show/ShowCredits.tsx",lineNumber:100,columnNumber:11},void 0),D&&l.jsxDEV(Ri,{editor:e,assignments:s,showDate:o,showTime:i,onCreditAdded:N,onDismiss:v,allCreditsAdded:!1},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/show/ShowCredits.tsx",lineNumber:103,columnNumber:13},void 0),I&&l.jsxDEV(ji,{showDate:o,showTime:i,editor:e,onCreditAdded:h,onDismiss:w,allCreditsAdded:!1},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/show/ShowCredits.tsx",lineNumber:115,columnNumber:13},void 0),R&&l.jsxDEV(Vi,{editor:e,nextShowName:n,nextShowHost:t,onRemoveLine:r,onCreditAdded:x,onDismiss:y,allCreditsAdded:!1},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/show/ShowCredits.tsx",lineNumber:126,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/show/ShowCredits.tsx",lineNumber:99,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/show/ShowCredits.tsx",lineNumber:93,columnNumber:5},void 0)},rr=async e=>{console.log("Searching for guests with query:",e);try{const{data:n,error:t}=await Te.query("/show-items",{where:{name:{ilike:`%${e}%`},is_break:{eq:!1},is_note:{eq:!1}},order:{created_at:"desc"},limit:100});if(t)return console.error("Error searching guests:",t),[];if(!n||!Array.isArray(n))return console.log("No data returned or data is not an array"),[];const r=n.reduce((i,s)=>{const a=s.name;return(!i[a]||new Date(s.created_at)>new Date(i[a].created_at))&&(i[a]=s),i},{}),o=Object.values(r).slice(0,5).map(i=>({name:i.name,title:i.title||"",phone:i.phone||""}));return console.log("Search results:",o),o}catch(n){return console.error("Error searching guests:",n),[]}},Li=async e=>{},or=e=>{let n=e.replace(/\D/g,"");return n.startsWith("972")&&(n="0"+n.slice(3)),n.length>3&&(n=n.slice(0,3)+"-"+n.slice(3)),n},Pi=({value:e,onChange:n})=>{const t=r=>{const o=or(r.target.value);n(o)};return l.jsxDEV(U,{placeholder:"×˜×œ×¤×•×Ÿ",type:"tel",value:e,onChange:t,required:!0,autoComplete:"off",name:"guest-phone",className:"lineup-form-input-phone"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/form/PhoneInput.tsx",lineNumber:33,columnNumber:5},void 0)},Bi=({onGuestSelect:e,onNameChange:n,value:t="",clearValue:r})=>{const[o,i]=b.useState(!1),[s,a]=b.useState([]),[c,d]=b.useState(!1),p=b.useRef(null);b.useEffect(()=>{if(!c)return;(async()=>{if(t&&t.trim())try{const g=await rr(t);a(g||[]),i(g&&g.length>0)}catch{a([]),i(!1)}else a([]),i(!1)})()},[t,c]);const u=f=>{e(f),i(!1),a([]),d(!1)},m=f=>{d(!0),n(f.target.value)};return l.jsxDEV("div",{className:"relative w-full",children:[l.jsxDEV(U,{ref:p,placeholder:"×©× ××¨×•××™×™× /×ª",value:t,onChange:m,required:!0,autoComplete:"new-password","aria-autocomplete":"none",name:"off",className:"w-full",onFocus:()=>d(!0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/form/GuestSearch.tsx",lineNumber:55,columnNumber:7},void 0),o&&s.length>0&&l.jsxDEV("div",{className:"absolute w-full z-50 mt-1 bg-white rounded-md shadow-lg overflow-hidden",children:l.jsxDEV("div",{className:"p-2",children:s.map(f=>l.jsxDEV("div",{className:"flex flex-col p-2 hover:bg-gray-100 cursor-pointer rounded",onClick:()=>u(f),children:[l.jsxDEV("div",{className:"font-bold",children:f.name},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/form/GuestSearch.tsx",lineNumber:76,columnNumber:17},void 0),l.jsxDEV("div",{className:"text-sm text-gray-500",children:f.title},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/form/GuestSearch.tsx",lineNumber:77,columnNumber:17},void 0)]},f.name,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/form/GuestSearch.tsx",lineNumber:71,columnNumber:15},void 0))},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/form/GuestSearch.tsx",lineNumber:69,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/form/GuestSearch.tsx",lineNumber:68,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/form/GuestSearch.tsx",lineNumber:54,columnNumber:5},void 0)},_i=({onSubmit:e,onBreakAdd:n,onNoteAdd:t,onDividerAdd:r,isEditing:o})=>l.jsxDEV("div",{className:"flex justify-end gap-2",children:[l.jsxDEV(j,{type:"button",onClick:n,variant:"secondary",className:"flex items-center gap-2 bg-slate-100 hover:bg-slate-200",children:[l.jsxDEV(Ko,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/form/FormActions.tsx",lineNumber:23,columnNumber:9},void 0),"×”×•×¡×¤×ª ×¤×¨×¡×•××•×ª"]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/form/FormActions.tsx",lineNumber:22,columnNumber:7},void 0),l.jsxDEV(j,{type:"button",onClick:t,variant:"secondary",className:"flex items-center gap-2 bg-slate-100 hover:bg-slate-200",children:[l.jsxDEV(Ut,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/form/FormActions.tsx",lineNumber:27,columnNumber:9},void 0),"×”×•×¡×¤×ª ×”×¢×¨×”"]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/form/FormActions.tsx",lineNumber:26,columnNumber:7},void 0),l.jsxDEV(j,{type:"button",onClick:r,variant:"secondary",className:"flex items-center gap-2 bg-slate-100 hover:bg-slate-200",children:[l.jsxDEV(Jo,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/form/FormActions.tsx",lineNumber:31,columnNumber:9},void 0),"×”×•×¡×¤×ª ×”×¤×¨×“×”"]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/form/FormActions.tsx",lineNumber:30,columnNumber:7},void 0),l.jsxDEV(j,{type:"submit",onClick:i=>e(i),className:"text-base font-medium px-[68px]",children:o?"×¢×“×›×•×Ÿ":"×”×•×¡×¤×”"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/form/FormActions.tsx",lineNumber:34,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/form/FormActions.tsx",lineNumber:21,columnNumber:10},void 0),ir=({content:e,onChange:n,className:t="",placeholder:r="",align:o="right",showTextAlign:i=!1})=>{const s=Bn({extensions:[_n.configure({heading:!1}),Ht,Wt.configure({openOnClick:!0}),Wo.configure({types:["paragraph"],alignments:["left","center","right"],defaultAlignment:o})],content:e,editorProps:{attributes:{class:`prose prose-sm focus:outline-none ${o==="right"?"text-right":o==="center"?"text-center":"text-left"} ${t}`,placeholder:r}},onUpdate:({editor:c})=>{n&&n(c.getHTML())}});if($.useEffect(()=>{s&&e!==s.getHTML()&&s.commands.setContent(e)},[e,s]),!s)return null;const a=()=>{const c=s.getAttributes("link").href,d=window.prompt("URL",c);if(d!==null){if(d===""){s.chain().focus().unsetLink().run();return}s.chain().focus().setLink({href:d}).run()}};return l.jsxDEV("div",{className:"border rounded-md bg-white detailsEditor",children:[l.jsxDEV("div",{className:"border-b p-2 flex gap-1 bg-muted/50",children:[l.jsxDEV(j,{variant:"ghost",size:"sm",onClick:()=>s.chain().focus().toggleBold().run(),"data-active":s.isActive("bold"),className:s.isActive("bold")?"bg-muted":"",children:l.jsxDEV(Qo,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/editor/BasicEditor.tsx",lineNumber:90,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/editor/BasicEditor.tsx",lineNumber:83,columnNumber:9},void 0),l.jsxDEV(j,{variant:"ghost",size:"sm",onClick:()=>s.chain().focus().toggleItalic().run(),"data-active":s.isActive("italic"),className:s.isActive("italic")?"bg-muted":"",children:l.jsxDEV(Zo,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/editor/BasicEditor.tsx",lineNumber:99,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/editor/BasicEditor.tsx",lineNumber:92,columnNumber:9},void 0),l.jsxDEV(j,{variant:"ghost",size:"sm",onClick:()=>s.chain().focus().toggleUnderline().run(),"data-active":s.isActive("underline"),className:s.isActive("underline")?"bg-muted":"",children:l.jsxDEV(ei,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/editor/BasicEditor.tsx",lineNumber:108,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/editor/BasicEditor.tsx",lineNumber:101,columnNumber:9},void 0),l.jsxDEV(j,{variant:"ghost",size:"sm",onClick:a,"data-active":s.isActive("link"),className:s.isActive("link")?"bg-muted":"",children:l.jsxDEV(ni,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/editor/BasicEditor.tsx",lineNumber:117,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/editor/BasicEditor.tsx",lineNumber:110,columnNumber:9},void 0),l.jsxDEV("div",{className:"flex-1"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/editor/BasicEditor.tsx",lineNumber:119,columnNumber:9},void 0),i&&l.jsxDEV(l.Fragment,{children:[l.jsxDEV(j,{variant:"ghost",size:"sm",onClick:()=>s.chain().focus().setTextAlign("left").run(),"data-active":s.isActive({textAlign:"left"}),className:s.isActive({textAlign:"left"})?"bg-muted":"",children:l.jsxDEV(ti,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/editor/BasicEditor.tsx",lineNumber:129,columnNumber:15},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/editor/BasicEditor.tsx",lineNumber:122,columnNumber:13},void 0),l.jsxDEV(j,{variant:"ghost",size:"sm",onClick:()=>s.chain().focus().setTextAlign("center").run(),"data-active":s.isActive({textAlign:"center"}),className:s.isActive({textAlign:"center"})?"bg-muted":"",children:l.jsxDEV(ri,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/editor/BasicEditor.tsx",lineNumber:138,columnNumber:15},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/editor/BasicEditor.tsx",lineNumber:131,columnNumber:13},void 0),l.jsxDEV(j,{variant:"ghost",size:"sm",onClick:()=>s.chain().focus().setTextAlign("right").run(),"data-active":s.isActive({textAlign:"right"}),className:s.isActive({textAlign:"right"})?"bg-muted":"",children:l.jsxDEV(oi,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/editor/BasicEditor.tsx",lineNumber:147,columnNumber:15},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/editor/BasicEditor.tsx",lineNumber:140,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/editor/BasicEditor.tsx",lineNumber:121,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/editor/BasicEditor.tsx",lineNumber:82,columnNumber:7},void 0),l.jsxDEV(Ke,{editor:s,className:`p-4 ${o==="right"?"text-right":o==="center"?"text-center":"text-left"}`},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/editor/BasicEditor.tsx",lineNumber:152,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/editor/BasicEditor.tsx",lineNumber:81,columnNumber:5},void 0)},ut=({onAdd:e,onNameChange:n,editingItem:t,onBackToDashboard:r,onDividerAdd:o})=>{const[i,s]=b.useState(""),[a,c]=b.useState(""),[d,p]=b.useState(""),[u,m]=b.useState(5),[f,g]=b.useState("");b.useEffect(()=>{t&&(s(t.name.trim()),c(t.title),g(t.details||""),p(t.phone),m(t.duration))},[t]);const N=async D=>{D.preventDefault();const I=i.trim();try{await Li({name:I,title:a,phone:d})}catch(k){console.error("Error saving guest:",k)}const R={name:I,title:a,details:f,phone:d,duration:u,is_break:!1,is_note:!1,is_divider:!1};console.log("Adding regular item:",R),e(R),h()},h=()=>{s(""),c(""),g(""),p(""),m(5)},x=()=>{const D={name:"×¤×¨×¡×•××•×ª",title:"",details:"",phone:"",duration:u,is_break:!0,is_note:!1,is_divider:!1};console.log("Adding break item with flags:",{is_break:D.is_break,is_note:D.is_note,is_divider:D.is_divider}),e(D),m(5)},v=()=>{const D={name:"×”×¢×¨×”",title:"",details:"",phone:"",duration:0,is_break:!1,is_note:!0,is_divider:!1};console.log("Adding note item with flags:",{is_break:D.is_break,is_note:D.is_note,is_divider:D.is_divider}),e(D)},w=()=>{if(o)console.log("Using parent onDividerAdd handler"),o();else{const D={name:"×©×¢×” ×©× ×™×™×”",title:"",details:"",phone:"",duration:0,is_break:!1,is_note:!1,is_divider:!0};console.log("Adding divider item with flags:",{is_break:D.is_break,is_note:D.is_note,is_divider:D.is_divider}),e(D)}},y=D=>{s(D.name.trim()),c(D.title),p(D.phone)};return l.jsxDEV("form",{onSubmit:N,className:"lineup-form space-y-4",children:[l.jsxDEV("div",{className:"lineup-form-inputs",children:[l.jsxDEV("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[l.jsxDEV(Bi,{value:i,onNameChange:D=>{s(D),n(D)},onGuestSelect:y},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/LineupForm.tsx",lineNumber:170,columnNumber:11},void 0),l.jsxDEV(U,{placeholder:"×§×¨×“×™×˜",value:a,onChange:D=>c(D.target.value),required:!0,autoComplete:"off",name:"guest-title",className:"lineup-form-input-title"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/LineupForm.tsx",lineNumber:178,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/LineupForm.tsx",lineNumber:169,columnNumber:9},void 0),l.jsxDEV("div",{className:"mb-4",children:l.jsxDEV(ir,{content:f,onChange:g,placeholder:"×¤×¨×˜×™×"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/LineupForm.tsx",lineNumber:189,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/LineupForm.tsx",lineNumber:188,columnNumber:9},void 0),l.jsxDEV("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[l.jsxDEV(Pi,{value:d,onChange:p},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/LineupForm.tsx",lineNumber:196,columnNumber:11},void 0),l.jsxDEV(U,{placeholder:"××©×š ×‘×“×§×•×ª",type:"number",min:"1",value:u,onChange:D=>m(parseInt(D.target.value)||5),required:!0,name:"duration",className:"lineup-form-input-duration"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/LineupForm.tsx",lineNumber:197,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/LineupForm.tsx",lineNumber:195,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/LineupForm.tsx",lineNumber:168,columnNumber:7},void 0),l.jsxDEV(_i,{onSubmit:N,onBreakAdd:x,onNoteAdd:v,onDividerAdd:w,isEditing:!!t},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/LineupForm.tsx",lineNumber:210,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/LineupForm.tsx",lineNumber:167,columnNumber:5},void 0)};var ae=function(n){var t=n.top,r=n.right,o=n.bottom,i=n.left,s=r-i,a=o-t,c={top:t,right:r,bottom:o,left:i,width:s,height:a,x:i,y:t,center:{x:(r+i)/2,y:(o+t)/2}};return c},kn=function(n,t){return{top:n.top-t.top,left:n.left-t.left,bottom:n.bottom+t.bottom,right:n.right+t.right}},mt=function(n,t){return{top:n.top+t.top,left:n.left+t.left,bottom:n.bottom-t.bottom,right:n.right-t.right}},ki=function(n,t){return{top:n.top+t.y,left:n.left+t.x,bottom:n.bottom+t.y,right:n.right+t.x}},mn={top:0,right:0,bottom:0,left:0},On=function(n){var t=n.borderBox,r=n.margin,o=r===void 0?mn:r,i=n.border,s=i===void 0?mn:i,a=n.padding,c=a===void 0?mn:a,d=ae(kn(t,o)),p=ae(mt(t,s)),u=ae(mt(p,c));return{marginBox:d,borderBox:ae(t),paddingBox:p,contentBox:u,margin:o,border:s,padding:c}},ie=function(n){var t=n.slice(0,-2),r=n.slice(-2);if(r!=="px")return 0;var o=Number(t);return isNaN(o)&&vi(!1,"Could not parse value [raw: "+n+", without suffix: "+t+"]"),o},Oi=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Ze=function(n,t){var r=n.borderBox,o=n.border,i=n.margin,s=n.padding,a=ki(r,t);return On({borderBox:a,border:o,margin:i,padding:s})},en=function(n,t){return t===void 0&&(t=Oi()),Ze(n,t)},sr=function(n,t){var r={top:ie(t.marginTop),right:ie(t.marginRight),bottom:ie(t.marginBottom),left:ie(t.marginLeft)},o={top:ie(t.paddingTop),right:ie(t.paddingRight),bottom:ie(t.paddingBottom),left:ie(t.paddingLeft)},i={top:ie(t.borderTopWidth),right:ie(t.borderRightWidth),bottom:ie(t.borderBottomWidth),left:ie(t.borderLeftWidth)};return On({borderBox:n,margin:r,padding:o,border:i})},lr=function(n){var t=n.getBoundingClientRect(),r=window.getComputedStyle(n);return sr(t,r)},Le=function(n){var t=[],r=null,o=function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];t=a,!r&&(r=requestAnimationFrame(function(){r=null,n.apply(void 0,t)}))};return o.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},o};const Mi=/[ \t]{2,}/g,$i=/^[ \t]*/gm,pt=e=>e.replace(Mi," ").replace($i,"").trim(),Fi=e=>pt(`
  %c@hello-pangea/dnd

  %c${pt(e)}

  %cğŸ‘·â€ This is a development only message. It will be removed in production builds.
`),Gi=e=>[Fi(e),"color: #00C584; font-size: 1.2em; font-weight: bold;","line-height: 1.5","color: #723874;"],Hi="__@hello-pangea/dnd-disable-dev-warnings";function ar(e,n){typeof window<"u"&&window[Hi]||console[e](...Gi(n))}const O=ar.bind(null,"warn"),Sn=ar.bind(null,"error");function me(){}function Wi(e,n){return{...e,...n}}function se(e,n,t){const r=n.map(o=>{const i=Wi(t,o.options);return e.addEventListener(o.eventName,o.fn,i),function(){e.removeEventListener(o.eventName,o.fn,i)}});return function(){r.forEach(i=>{i()})}}const zi="Invariant failed";class nn extends Error{}nn.prototype.toString=function(){return this.message};function E(e,n){throw new nn(`${zi}: ${n||""}`)}class Ui extends $.Component{constructor(...n){super(...n),this.callbacks=null,this.unbind=me,this.onWindowError=t=>{const r=this.getCallbacks();r.isDragging()&&(r.tryAbort(),O(`
        An error was caught by our window 'error' event listener while a drag was occurring.
        The active drag has been aborted.
      `));const o=t.error;o instanceof nn&&(t.preventDefault(),Sn(o.message))},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=t=>{this.callbacks=t}}componentDidMount(){this.unbind=se(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(n){if(n instanceof nn){Sn(n.message),this.setState({});return}throw n}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const qi=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,tn=e=>e+1,Yi=e=>`
  You have lifted an item in position ${tn(e.source.index)}
`,cr=(e,n)=>{const t=e.droppableId===n.droppableId,r=tn(e.index),o=tn(n.index);return t?`
      You have moved the item from position ${r}
      to position ${o}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${n.droppableId}
    in position ${o}
  `},dr=(e,n,t)=>n.droppableId===t.droppableId?`
      The item ${e}
      has been combined with ${t.draggableId}`:`
      The item ${e}
      in list ${n.droppableId}
      has been combined with ${t.draggableId}
      in list ${t.droppableId}
    `,Xi=e=>{const n=e.destination;if(n)return cr(e.source,n);const t=e.combine;return t?dr(e.draggableId,e.source,t):"You are over an area that cannot be dropped on"},ft=e=>`
  The item has returned to its starting position
  of ${tn(e.index)}
`,Ki=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${ft(e.source)}
    `;const n=e.destination,t=e.combine;return n?`
      You have dropped the item.
      ${cr(e.source,n)}
    `:t?`
      You have dropped the item.
      ${dr(e.draggableId,e.source,t)}
    `:`
    The item has been dropped while not over a drop area.
    ${ft(e.source)}
  `},Xe={dragHandleUsageInstructions:qi,onDragStart:Yi,onDragUpdate:Xi,onDragEnd:Ki};function Ji(e,n){return!!(e===n||Number.isNaN(e)&&Number.isNaN(n))}function ur(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++)if(!Ji(e[t],n[t]))return!1;return!0}function B(e,n){const t=b.useState(()=>({inputs:n,result:e()}))[0],r=b.useRef(!0),o=b.useRef(t),s=r.current||!!(n&&o.current.inputs&&ur(n,o.current.inputs))?o.current:{inputs:n,result:e()};return b.useEffect(()=>{r.current=!1,o.current=s},[s]),s.result}function V(e,n){return B(()=>e,n)}const X={x:0,y:0},K=(e,n)=>({x:e.x+n.x,y:e.y+n.y}),te=(e,n)=>({x:e.x-n.x,y:e.y-n.y}),pe=(e,n)=>e.x===n.x&&e.y===n.y,we=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),xe=(e,n,t=0)=>e==="x"?{x:n,y:t}:{x:t,y:n},Pe=(e,n)=>Math.sqrt((n.x-e.x)**2+(n.y-e.y)**2),gt=(e,n)=>Math.min(...n.map(t=>Pe(e,t))),mr=e=>n=>({x:e(n.x),y:e(n.y)});var Qi=(e,n)=>{const t=ae({top:Math.max(n.top,e.top),right:Math.min(n.right,e.right),bottom:Math.min(n.bottom,e.bottom),left:Math.max(n.left,e.left)});return t.width<=0||t.height<=0?null:t};const Ge=(e,n)=>({top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}),ht=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],Zi={top:0,right:0,bottom:0,left:0},es=(e,n)=>n?Ge(e,n.scroll.diff.displacement):e,ns=(e,n,t)=>t&&t.increasedBy?{...e,[n.end]:e[n.end]+t.increasedBy[n.line]}:e,ts=(e,n)=>n&&n.shouldClipSubject?Qi(n.pageMarginBox,e):ae(e);var De=({page:e,withPlaceholder:n,axis:t,frame:r})=>{const o=es(e.marginBox,r),i=ns(o,t,n),s=ts(i,r);return{page:e,withPlaceholder:n,active:s}},Mn=(e,n)=>{e.frame||E();const t=e.frame,r=te(n,t.scroll.initial),o=we(r),i={...t,scroll:{initial:t.scroll.initial,current:n,diff:{value:r,displacement:o},max:t.scroll.max}},s=De({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i});return{...e,frame:i,subject:s}};function Y(e,n=ur){let t=null;function r(...o){if(t&&t.lastThis===this&&n(o,t.lastArgs))return t.lastResult;const i=e.apply(this,o);return t={lastResult:i,lastArgs:o,lastThis:this},i}return r.clear=function(){t=null},r}const pr=Y(e=>e.reduce((n,t)=>(n[t.descriptor.id]=t,n),{})),fr=Y(e=>e.reduce((n,t)=>(n[t.descriptor.id]=t,n),{})),sn=Y(e=>Object.values(e)),rs=Y(e=>Object.values(e));var ve=Y((e,n)=>rs(n).filter(r=>e===r.descriptor.droppableId).sort((r,o)=>r.descriptor.index-o.descriptor.index));function $n(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function ln(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var an=Y((e,n)=>n.filter(t=>t.descriptor.id!==e.descriptor.id)),os=({isMovingForward:e,draggable:n,destination:t,insideDestination:r,previousImpact:o})=>{if(!t.isCombineEnabled||!$n(o))return null;function s(f){const g={type:"COMBINE",combine:{draggableId:f,droppableId:t.descriptor.id}};return{...o,at:g}}const a=o.displaced.all,c=a.length?a[0]:null;if(e)return c?s(c):null;const d=an(n,r);if(!c){if(!d.length)return null;const f=d[d.length-1];return s(f.descriptor.id)}const p=d.findIndex(f=>f.descriptor.id===c);p===-1&&E(!1,"Could not find displaced item in set");const u=p-1;if(u<0)return null;const m=d[u];return s(m.descriptor.id)},Ie=(e,n)=>e.descriptor.droppableId===n.descriptor.id;const gr={point:X,value:0},Be={invisible:{},visible:{},all:[]},is={displaced:Be,displacedBy:gr,at:null};var le=(e,n)=>t=>e<=t&&t<=n,hr=e=>{const n=le(e.top,e.bottom),t=le(e.left,e.right);return r=>{if(n(r.top)&&n(r.bottom)&&t(r.left)&&t(r.right))return!0;const i=n(r.top)||n(r.bottom),s=t(r.left)||t(r.right);if(i&&s)return!0;const c=r.top<e.top&&r.bottom>e.bottom,d=r.left<e.left&&r.right>e.right;return c&&d?!0:c&&s||d&&i}},ss=e=>{const n=le(e.top,e.bottom),t=le(e.left,e.right);return r=>n(r.top)&&n(r.bottom)&&t(r.left)&&t(r.right)};const Fn={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},br={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var ls=e=>n=>{const t=le(n.top,n.bottom),r=le(n.left,n.right);return o=>e===Fn?t(o.top)&&t(o.bottom):r(o.left)&&r(o.right)};const as=(e,n)=>{const t=n.frame?n.frame.scroll.diff.displacement:X;return Ge(e,t)},cs=(e,n,t)=>n.subject.active?t(n.subject.active)(e):!1,ds=(e,n,t)=>t(n)(e),Gn=({target:e,destination:n,viewport:t,withDroppableDisplacement:r,isVisibleThroughFrameFn:o})=>{const i=r?as(e,n):e;return cs(i,n,o)&&ds(i,t,o)},us=e=>Gn({...e,isVisibleThroughFrameFn:hr}),Nr=e=>Gn({...e,isVisibleThroughFrameFn:ss}),ms=e=>Gn({...e,isVisibleThroughFrameFn:ls(e.destination.axis)}),ps=(e,n,t)=>{if(typeof t=="boolean")return t;if(!n)return!0;const{invisible:r,visible:o}=n;if(r[e])return!1;const i=o[e];return i?i.shouldAnimate:!0};function fs(e,n){const t=e.page.marginBox,r={top:n.point.y,right:0,bottom:0,left:n.point.x};return ae(kn(t,r))}function _e({afterDragging:e,destination:n,displacedBy:t,viewport:r,forceShouldAnimate:o,last:i}){return e.reduce(function(a,c){const d=fs(c,t),p=c.descriptor.id;if(a.all.push(p),!us({target:d,destination:n,viewport:r,withDroppableDisplacement:!0}))return a.invisible[c.descriptor.id]=!0,a;const m=ps(p,i,o),f={draggableId:p,shouldAnimate:m};return a.visible[p]=f,a},{all:[],visible:{},invisible:{}})}function gs(e,n){if(!e.length)return 0;const t=e[e.length-1].descriptor.index;return n.inHomeList?t:t+1}function bt({insideDestination:e,inHomeList:n,displacedBy:t,destination:r}){const o=gs(e,{inHomeList:n});return{displaced:Be,displacedBy:t,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:o}}}}function rn({draggable:e,insideDestination:n,destination:t,viewport:r,displacedBy:o,last:i,index:s,forceShouldAnimate:a}){const c=Ie(e,t);if(s==null)return bt({insideDestination:n,inHomeList:c,displacedBy:o,destination:t});const d=n.find(g=>g.descriptor.index===s);if(!d)return bt({insideDestination:n,inHomeList:c,displacedBy:o,destination:t});const p=an(e,n),u=n.indexOf(d),m=p.slice(u);return{displaced:_e({afterDragging:m,destination:t,displacedBy:o,last:i,viewport:r.frame,forceShouldAnimate:a}),displacedBy:o,at:{type:"REORDER",destination:{droppableId:t.descriptor.id,index:s}}}}function fe(e,n){return!!n.effected[e]}var hs=({isMovingForward:e,destination:n,draggables:t,combine:r,afterCritical:o})=>{if(!n.isCombineEnabled)return null;const i=r.draggableId,a=t[i].descriptor.index;return fe(i,o)?e?a:a-1:e?a+1:a},bs=({isMovingForward:e,isInHomeList:n,insideDestination:t,location:r})=>{if(!t.length)return null;const o=r.index,i=e?o+1:o-1,s=t[0].descriptor.index,a=t[t.length-1].descriptor.index,c=n?a:a+1;return i<s||i>c?null:i},Ns=({isMovingForward:e,isInHomeList:n,draggable:t,draggables:r,destination:o,insideDestination:i,previousImpact:s,viewport:a,afterCritical:c})=>{const d=s.at;if(d||E(!1,"Cannot move in direction without previous impact location"),d.type==="REORDER"){const u=bs({isMovingForward:e,isInHomeList:n,location:d.destination,insideDestination:i});return u==null?null:rn({draggable:t,insideDestination:i,destination:o,viewport:a,last:s.displaced,displacedBy:s.displacedBy,index:u})}const p=hs({isMovingForward:e,destination:o,displaced:s.displaced,draggables:r,combine:d.combine,afterCritical:c});return p==null?null:rn({draggable:t,insideDestination:i,destination:o,viewport:a,last:s.displaced,displacedBy:s.displacedBy,index:p})},xs=({displaced:e,afterCritical:n,combineWith:t,displacedBy:r})=>{const o=!!(e.visible[t]||e.invisible[t]);return fe(t,n)?o?X:we(r.point):o?r.point:X},vs=({afterCritical:e,impact:n,draggables:t})=>{const r=ln(n);r||E();const o=r.draggableId,i=t[o].page.borderBox.center,s=xs({displaced:n.displaced,afterCritical:e,combineWith:o,displacedBy:n.displacedBy});return K(i,s)};const xr=(e,n)=>n.margin[e.start]+n.borderBox[e.size]/2,Ds=(e,n)=>n.margin[e.end]+n.borderBox[e.size]/2,Hn=(e,n,t)=>n[e.crossAxisStart]+t.margin[e.crossAxisStart]+t.borderBox[e.crossAxisSize]/2,Nt=({axis:e,moveRelativeTo:n,isMoving:t})=>xe(e.line,n.marginBox[e.end]+xr(e,t),Hn(e,n.marginBox,t)),xt=({axis:e,moveRelativeTo:n,isMoving:t})=>xe(e.line,n.marginBox[e.start]-Ds(e,t),Hn(e,n.marginBox,t)),Es=({axis:e,moveInto:n,isMoving:t})=>xe(e.line,n.contentBox[e.start]+xr(e,t),Hn(e,n.contentBox,t));var ys=({impact:e,draggable:n,draggables:t,droppable:r,afterCritical:o})=>{const i=ve(r.descriptor.id,t),s=n.page,a=r.axis;if(!i.length)return Es({axis:a,moveInto:r.page,isMoving:s});const{displaced:c,displacedBy:d}=e,p=c.all[0];if(p){const m=t[p];if(fe(p,o))return xt({axis:a,moveRelativeTo:m.page,isMoving:s});const f=Ze(m.page,d.point);return xt({axis:a,moveRelativeTo:f,isMoving:s})}const u=i[i.length-1];if(u.descriptor.id===n.descriptor.id)return s.borderBox.center;if(fe(u.descriptor.id,o)){const m=Ze(u.page,we(o.displacedBy.point));return Nt({axis:a,moveRelativeTo:m,isMoving:s})}return Nt({axis:a,moveRelativeTo:u.page,isMoving:s})},Vn=(e,n)=>{const t=e.frame;return t?K(n,t.scroll.diff.displacement):n};const ws=({impact:e,draggable:n,droppable:t,draggables:r,afterCritical:o})=>{const i=n.page.borderBox.center,s=e.at;return!t||!s?i:s.type==="REORDER"?ys({impact:e,draggable:n,draggables:r,droppable:t,afterCritical:o}):vs({impact:e,draggables:r,afterCritical:o})};var cn=e=>{const n=ws(e),t=e.droppable;return t?Vn(t,n):n},vr=(e,n)=>{const t=te(n,e.scroll.initial),r=we(t);return{frame:ae({top:n.y,bottom:n.y+e.frame.height,left:n.x,right:n.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:n,diff:{value:t,displacement:r}}}};function vt(e,n){return e.map(t=>n[t])}function Is(e,n){for(let t=0;t<n.length;t++){const r=n[t].visible[e];if(r)return r}return null}var Cs=({impact:e,viewport:n,destination:t,draggables:r,maxScrollChange:o})=>{const i=vr(n,K(n.scroll.current,o)),s=t.frame?Mn(t,K(t.frame.scroll.current,o)):t,a=e.displaced,c=_e({afterDragging:vt(a.all,r),destination:t,displacedBy:e.displacedBy,viewport:i.frame,last:a,forceShouldAnimate:!1}),d=_e({afterDragging:vt(a.all,r),destination:s,displacedBy:e.displacedBy,viewport:n.frame,last:a,forceShouldAnimate:!1}),p={},u={},m=[a,c,d];return a.all.forEach(g=>{const N=Is(g,m);if(N){u[g]=N;return}p[g]=!0}),{...e,displaced:{all:a.all,invisible:p,visible:u}}},Ss=(e,n)=>K(e.scroll.diff.displacement,n),Wn=({pageBorderBoxCenter:e,draggable:n,viewport:t})=>{const r=Ss(t,e),o=te(r,n.page.borderBox.center);return K(n.client.borderBox.center,o)},Dr=({draggable:e,destination:n,newPageBorderBoxCenter:t,viewport:r,withDroppableDisplacement:o,onlyOnMainAxis:i=!1})=>{const s=te(t,e.page.borderBox.center),c={target:Ge(e.page.borderBox,s),destination:n,withDroppableDisplacement:o,viewport:r};return i?ms(c):Nr(c)},Vs=({isMovingForward:e,draggable:n,destination:t,draggables:r,previousImpact:o,viewport:i,previousPageBorderBoxCenter:s,previousClientSelection:a,afterCritical:c})=>{if(!t.isEnabled)return null;const d=ve(t.descriptor.id,r),p=Ie(n,t),u=os({isMovingForward:e,draggable:n,destination:t,insideDestination:d,previousImpact:o})||Ns({isMovingForward:e,isInHomeList:p,draggable:n,draggables:r,destination:t,insideDestination:d,previousImpact:o,viewport:i,afterCritical:c});if(!u)return null;const m=cn({impact:u,draggable:n,droppable:t,draggables:r,afterCritical:c});if(Dr({draggable:n,destination:t,newPageBorderBoxCenter:m,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Wn({pageBorderBoxCenter:m,draggable:n,viewport:i}),impact:u,scrollJumpRequest:null};const g=te(m,s),N=Cs({impact:u,viewport:i,destination:t,draggables:r,maxScrollChange:g});return{clientSelection:a,impact:N,scrollJumpRequest:g}};const ee=e=>{const n=e.subject.active;return n||E(!1,"Cannot get clipped area from droppable"),n};var As=({isMovingForward:e,pageBorderBoxCenter:n,source:t,droppables:r,viewport:o})=>{const i=t.subject.active;if(!i)return null;const s=t.axis,a=le(i[s.start],i[s.end]),c=sn(r).filter(p=>p!==t).filter(p=>p.isEnabled).filter(p=>!!p.subject.active).filter(p=>hr(o.frame)(ee(p))).filter(p=>{const u=ee(p);return e?i[s.crossAxisEnd]<u[s.crossAxisEnd]:u[s.crossAxisStart]<i[s.crossAxisStart]}).filter(p=>{const u=ee(p),m=le(u[s.start],u[s.end]);return a(u[s.start])||a(u[s.end])||m(i[s.start])||m(i[s.end])}).sort((p,u)=>{const m=ee(p)[s.crossAxisStart],f=ee(u)[s.crossAxisStart];return e?m-f:f-m}).filter((p,u,m)=>ee(p)[s.crossAxisStart]===ee(m[0])[s.crossAxisStart]);if(!c.length)return null;if(c.length===1)return c[0];const d=c.filter(p=>le(ee(p)[s.start],ee(p)[s.end])(n[s.line]));return d.length===1?d[0]:d.length>1?d.sort((p,u)=>ee(p)[s.start]-ee(u)[s.start])[0]:c.sort((p,u)=>{const m=gt(n,ht(ee(p))),f=gt(n,ht(ee(u)));return m!==f?m-f:ee(p)[s.start]-ee(u)[s.start]})[0]};const Dt=(e,n)=>{const t=e.page.borderBox.center;return fe(e.descriptor.id,n)?te(t,n.displacedBy.point):t},js=(e,n)=>{const t=e.page.borderBox;return fe(e.descriptor.id,n)?Ge(t,we(n.displacedBy.point)):t};var Rs=({pageBorderBoxCenter:e,viewport:n,destination:t,insideDestination:r,afterCritical:o})=>r.filter(s=>Nr({target:js(s,o),destination:t,viewport:n.frame,withDroppableDisplacement:!0})).sort((s,a)=>{const c=Pe(e,Vn(t,Dt(s,o))),d=Pe(e,Vn(t,Dt(a,o)));return c<d?-1:d<c?1:s.descriptor.index-a.descriptor.index})[0]||null,He=Y(function(n,t){const r=t[n.line];return{value:r,point:xe(n.line,r)}});const Ts=(e,n,t)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return xe(r.line,n[r.line]);const o=e.subject.page.contentBox[r.size],c=ve(e.descriptor.id,t).reduce((d,p)=>d+p.client.marginBox[r.size],0)+n[r.line]-o;return c<=0?null:xe(r.line,c)},Er=(e,n)=>({...e,scroll:{...e.scroll,max:n}}),yr=(e,n,t)=>{const r=e.frame;Ie(n,e)&&E(!1,"Should not add placeholder space to home list"),e.subject.withPlaceholder&&E(!1,"Cannot add placeholder size to a subject when it already has one");const o=He(e.axis,n.displaceBy).point,i=Ts(e,o,t),s={placeholderSize:o,increasedBy:i,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const p=De({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:e.frame});return{...e,subject:p}}const a=i?K(r.scroll.max,i):r.scroll.max,c=Er(r,a),d=De({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:c});return{...e,subject:d,frame:c}},Ls=e=>{const n=e.subject.withPlaceholder;n||E(!1,"Cannot remove placeholder form subject when there was none");const t=e.frame;if(!t){const s=De({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:s}}const r=n.oldFrameMaxScroll;r||E(!1,"Expected droppable with frame to have old max frame scroll when removing placeholder");const o=Er(t,r),i=De({page:e.subject.page,axis:e.axis,frame:o,withPlaceholder:null});return{...e,subject:i,frame:o}};var Ps=({previousPageBorderBoxCenter:e,moveRelativeTo:n,insideDestination:t,draggable:r,draggables:o,destination:i,viewport:s,afterCritical:a})=>{if(!n){if(t.length)return null;const u={displaced:Be,displacedBy:gr,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:0}}},m=cn({impact:u,draggable:r,droppable:i,draggables:o,afterCritical:a}),f=Ie(r,i)?i:yr(i,r,o);return Dr({draggable:r,destination:f,newPageBorderBoxCenter:m,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?u:null}const c=e[i.axis.line]<=n.page.borderBox.center[i.axis.line],d=(()=>{const u=n.descriptor.index;return n.descriptor.id===r.descriptor.id||c?u:u+1})(),p=He(i.axis,r.displaceBy);return rn({draggable:r,insideDestination:t,destination:i,viewport:s,displacedBy:p,last:Be,index:d})},Bs=({isMovingForward:e,previousPageBorderBoxCenter:n,draggable:t,isOver:r,draggables:o,droppables:i,viewport:s,afterCritical:a})=>{const c=As({isMovingForward:e,pageBorderBoxCenter:n,source:r,droppables:i,viewport:s});if(!c)return null;const d=ve(c.descriptor.id,o),p=Rs({pageBorderBoxCenter:n,viewport:s,destination:c,insideDestination:d,afterCritical:a}),u=Ps({previousPageBorderBoxCenter:n,destination:c,draggable:t,draggables:o,moveRelativeTo:p,insideDestination:d,viewport:s,afterCritical:a});if(!u)return null;const m=cn({impact:u,draggable:t,droppable:c,draggables:o,afterCritical:a});return{clientSelection:Wn({pageBorderBoxCenter:m,draggable:t,viewport:s}),impact:u,scrollJumpRequest:null}},re=e=>{const n=e.at;return n?n.type==="REORDER"?n.destination.droppableId:n.combine.droppableId:null};const _s=(e,n)=>{const t=re(e);return t?n[t]:null};var ks=({state:e,type:n})=>{const t=_s(e.impact,e.dimensions.droppables),r=!!t,o=e.dimensions.droppables[e.critical.droppable.id],i=t||o,s=i.axis.direction,a=s==="vertical"&&(n==="MOVE_UP"||n==="MOVE_DOWN")||s==="horizontal"&&(n==="MOVE_LEFT"||n==="MOVE_RIGHT");if(a&&!r)return null;const c=n==="MOVE_DOWN"||n==="MOVE_RIGHT",d=e.dimensions.draggables[e.critical.draggable.id],p=e.current.page.borderBoxCenter,{draggables:u,droppables:m}=e.dimensions;return a?Vs({isMovingForward:c,previousPageBorderBoxCenter:p,draggable:d,destination:i,draggables:u,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):Bs({isMovingForward:c,previousPageBorderBoxCenter:p,draggable:d,isOver:i,draggables:u,droppables:m,viewport:e.viewport,afterCritical:e.afterCritical})};function be(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function wr(e){const n=le(e.top,e.bottom),t=le(e.left,e.right);return function(o){return n(o.y)&&t(o.x)}}function Os(e,n){return e.left<n.right&&e.right>n.left&&e.top<n.bottom&&e.bottom>n.top}function Ms({pageBorderBox:e,draggable:n,candidates:t}){const r=n.page.borderBox.center,o=t.map(i=>{const s=i.axis,a=xe(i.axis.line,e.center[s.line],i.page.borderBox.center[s.crossAxisLine]);return{id:i.descriptor.id,distance:Pe(r,a)}}).sort((i,s)=>s.distance-i.distance);return o[0]?o[0].id:null}function $s({pageBorderBox:e,draggable:n,droppables:t}){const r=sn(t).filter(o=>{if(!o.isEnabled)return!1;const i=o.subject.active;if(!i||!Os(e,i))return!1;if(wr(i)(e.center))return!0;const s=o.axis,a=i.center[s.crossAxisLine],c=e[s.crossAxisStart],d=e[s.crossAxisEnd],p=le(i[s.crossAxisStart],i[s.crossAxisEnd]),u=p(c),m=p(d);return!u&&!m?!0:u?c<a:d>a});return r.length?r.length===1?r[0].descriptor.id:Ms({pageBorderBox:e,draggable:n,candidates:r}):null}const Ir=(e,n)=>ae(Ge(e,n));var Fs=(e,n)=>{const t=e.frame;return t?Ir(n,t.scroll.diff.value):n};function Cr({displaced:e,id:n}){return!!(e.visible[n]||e.invisible[n])}function Gs({draggable:e,closest:n,inHomeList:t}){return n?t&&n.descriptor.index>e.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}var Hs=({pageBorderBoxWithDroppableScroll:e,draggable:n,destination:t,insideDestination:r,last:o,viewport:i,afterCritical:s})=>{const a=t.axis,c=He(t.axis,n.displaceBy),d=c.value,p=e[a.start],u=e[a.end],f=an(n,r).find(N=>{const h=N.descriptor.id,x=N.page.borderBox.center[a.line],v=fe(h,s),w=Cr({displaced:o,id:h});return v?w?u<=x:p<x-d:w?u<=x+d:p<x})||null,g=Gs({draggable:n,closest:f,inHomeList:Ie(n,t)});return rn({draggable:n,insideDestination:r,destination:t,viewport:i,last:o,displacedBy:c,index:g})};const Ws=4;var zs=({draggable:e,pageBorderBoxWithDroppableScroll:n,previousImpact:t,destination:r,insideDestination:o,afterCritical:i})=>{if(!r.isCombineEnabled)return null;const s=r.axis,a=He(r.axis,e.displaceBy),c=a.value,d=n[s.start],p=n[s.end],m=an(e,o).find(g=>{const N=g.descriptor.id,h=g.page.borderBox,v=h[s.size]/Ws,w=fe(N,i),y=Cr({displaced:t.displaced,id:N});return w?y?p>h[s.start]+v&&p<h[s.end]-v:d>h[s.start]-c+v&&d<h[s.end]-c-v:y?p>h[s.start]+c+v&&p<h[s.end]+c-v:d>h[s.start]+v&&d<h[s.end]-v});return m?{displacedBy:a,displaced:t.displaced,at:{type:"COMBINE",combine:{draggableId:m.descriptor.id,droppableId:r.descriptor.id}}}:null},Sr=({pageOffset:e,draggable:n,draggables:t,droppables:r,previousImpact:o,viewport:i,afterCritical:s})=>{const a=Ir(n.page.borderBox,e),c=$s({pageBorderBox:a,draggable:n,droppables:r});if(!c)return is;const d=r[c],p=ve(d.descriptor.id,t),u=Fs(d,a);return zs({pageBorderBoxWithDroppableScroll:u,draggable:n,previousImpact:o,destination:d,insideDestination:p,afterCritical:s})||Hs({pageBorderBoxWithDroppableScroll:u,draggable:n,destination:d,insideDestination:p,last:o.displaced,viewport:i,afterCritical:s})},zn=(e,n)=>({...e,[n.descriptor.id]:n});const Us=({previousImpact:e,impact:n,droppables:t})=>{const r=re(e),o=re(n);if(!r||r===o)return t;const i=t[r];if(!i.subject.withPlaceholder)return t;const s=Ls(i);return zn(t,s)};var qs=({draggable:e,draggables:n,droppables:t,previousImpact:r,impact:o})=>{const i=Us({previousImpact:r,impact:o,droppables:t}),s=re(o);if(!s)return i;const a=t[s];if(Ie(e,a)||a.subject.withPlaceholder)return i;const c=yr(a,e,n);return zn(i,c)},je=({state:e,clientSelection:n,dimensions:t,viewport:r,impact:o,scrollJumpRequest:i})=>{const s=r||e.viewport,a=t||e.dimensions,c=n||e.current.client.selection,d=te(c,e.initial.client.selection),p={offset:d,selection:c,borderBoxCenter:K(e.initial.client.borderBoxCenter,d)},u={selection:K(p.selection,s.scroll.current),borderBoxCenter:K(p.borderBoxCenter,s.scroll.current),offset:K(p.offset,s.scroll.diff.value)},m={client:p,page:u};if(e.phase==="COLLECTING")return{...e,dimensions:a,viewport:s,current:m};const f=a.draggables[e.critical.draggable.id],g=o||Sr({pageOffset:u.offset,draggable:f,draggables:a.draggables,droppables:a.droppables,previousImpact:e.impact,viewport:s,afterCritical:e.afterCritical}),N=qs({draggable:f,impact:g,previousImpact:e.impact,draggables:a.draggables,droppables:a.droppables});return{...e,current:m,dimensions:{draggables:a.draggables,droppables:N},impact:g,viewport:s,scrollJumpRequest:i||null,forceShouldAnimate:i?!1:null}};function Ys(e,n){return e.map(t=>n[t])}var Vr=({impact:e,viewport:n,draggables:t,destination:r,forceShouldAnimate:o})=>{const i=e.displaced,s=Ys(i.all,t),a=_e({afterDragging:s,destination:r,displacedBy:e.displacedBy,viewport:n.frame,forceShouldAnimate:o,last:i});return{...e,displaced:a}},Ar=({impact:e,draggable:n,droppable:t,draggables:r,viewport:o,afterCritical:i})=>{const s=cn({impact:e,draggable:n,draggables:r,droppable:t,afterCritical:i});return Wn({pageBorderBoxCenter:s,draggable:n,viewport:o})},jr=({state:e,dimensions:n,viewport:t})=>{e.movementMode!=="SNAP"&&E();const r=e.impact,o=t||e.viewport,i=n||e.dimensions,{draggables:s,droppables:a}=i,c=s[e.critical.draggable.id],d=re(r);d||E(!1,"Must be over a destination in SNAP movement mode");const p=a[d],u=Vr({impact:r,viewport:o,destination:p,draggables:s}),m=Ar({impact:u,draggable:c,droppable:p,draggables:s,viewport:o,afterCritical:e.afterCritical});return je({impact:u,clientSelection:m,state:e,dimensions:i,viewport:o})},Xs=e=>({index:e.index,droppableId:e.droppableId}),Rr=({draggable:e,home:n,draggables:t,viewport:r})=>{const o=He(n.axis,e.displaceBy),i=ve(n.descriptor.id,t),s=i.indexOf(e);s===-1&&E(!1,"Expected draggable to be inside home list");const a=i.slice(s+1),c=a.reduce((m,f)=>(m[f.descriptor.id]=!0,m),{}),d={inVirtualList:n.descriptor.mode==="virtual",displacedBy:o,effected:c};return{impact:{displaced:_e({afterDragging:a,destination:n,displacedBy:o,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:o,at:{type:"REORDER",destination:Xs(e.descriptor)}},afterCritical:d}},Ks=(e,n)=>({draggables:e.draggables,droppables:zn(e.droppables,n)}),Js=({draggable:e,offset:n,initialWindowScroll:t})=>{const r=Ze(e.client,n),o=en(r,t);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:o}},Qs=e=>{const n=e.frame;return n||E(!1,"Expected Droppable to have a frame"),n},Zs=({additions:e,updatedDroppables:n,viewport:t})=>{const r=t.scroll.diff.value;return e.map(o=>{const i=o.descriptor.droppableId,s=n[i],c=Qs(s).scroll.diff.value,d=K(r,c);return Js({draggable:o,offset:d,initialWindowScroll:t.scroll.initial})})},el=({state:e,published:n})=>{const t=n.modified.map(x=>{const v=e.dimensions.droppables[x.droppableId];return Mn(v,x.scroll)}),r={...e.dimensions.droppables,...pr(t)},o=fr(Zs({additions:n.additions,updatedDroppables:r,viewport:e.viewport})),i={...e.dimensions.draggables,...o};n.removals.forEach(x=>{delete i[x]});const s={droppables:r,draggables:i},a=re(e.impact),c=a?s.droppables[a]:null,d=s.draggables[e.critical.draggable.id],p=s.droppables[e.critical.droppable.id],{impact:u,afterCritical:m}=Rr({draggable:d,home:p,draggables:i,viewport:e.viewport}),f=c&&c.isCombineEnabled?e.impact:u,g=Sr({pageOffset:e.current.page.offset,draggable:s.draggables[e.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:f,viewport:e.viewport,afterCritical:m}),N={...e,phase:"DRAGGING",impact:g,onLiftImpact:u,dimensions:s,afterCritical:m,forceShouldAnimate:!1};return e.phase==="COLLECTING"?N:{...N,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const An=e=>e.movementMode==="SNAP",pn=(e,n,t)=>{const r=Ks(e.dimensions,n);return!An(e)||t?je({state:e,dimensions:r}):jr({state:e,dimensions:r})};function fn(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const Et={phase:"IDLE",completed:null,shouldFlush:!1};var nl=(e=Et,n)=>{if(n.type==="FLUSH")return{...Et,shouldFlush:!0};if(n.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&E(!1,"INITIAL_PUBLISH must come after a IDLE phase");const{critical:t,clientSelection:r,viewport:o,dimensions:i,movementMode:s}=n.payload,a=i.draggables[t.draggable.id],c=i.droppables[t.droppable.id],d={selection:r,borderBoxCenter:a.client.borderBox.center,offset:X},p={client:d,page:{selection:K(d.selection,o.scroll.initial),borderBoxCenter:K(d.selection,o.scroll.initial),offset:K(d.selection,o.scroll.diff.value)}},u=sn(i.droppables).every(N=>!N.isFixedOnPage),{impact:m,afterCritical:f}=Rr({draggable:a,home:c,draggables:i.draggables,viewport:o});return{phase:"DRAGGING",isDragging:!0,critical:t,movementMode:s,dimensions:i,initial:p,current:p,isWindowScrollAllowed:u,impact:m,afterCritical:f,onLiftImpact:m,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null}}if(n.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&E(!1,`Collection cannot start from phase ${e.phase}`),{...e,phase:"COLLECTING"});if(n.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||E(!1,`Unexpected ${n.type} received in phase ${e.phase}`),el({state:e,published:n.payload});if(n.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;be(e)||E(!1,`${n.type} not permitted in phase ${e.phase}`);const{client:t}=n.payload;return pe(t,e.current.client.selection)?e:je({state:e,clientSelection:t,impact:An(e)?e.impact:null})}if(n.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return fn(e);be(e)||E(!1,`${n.type} not permitted in phase ${e.phase}`);const{id:t,newScroll:r}=n.payload,o=e.dimensions.droppables[t];if(!o)return e;const i=Mn(o,r);return pn(e,i,!1)}if(n.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;be(e)||E(!1,`Attempting to move in an unsupported phase ${e.phase}`);const{id:t,isEnabled:r}=n.payload,o=e.dimensions.droppables[t];o||E(!1,`Cannot find Droppable[id: ${t}] to toggle its enabled state`),o.isEnabled===r&&E(!1,`Trying to set droppable isEnabled to ${String(r)}
      but it is already ${String(o.isEnabled)}`);const i={...o,isEnabled:r};return pn(e,i,!0)}if(n.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;be(e)||E(!1,`Attempting to move in an unsupported phase ${e.phase}`);const{id:t,isCombineEnabled:r}=n.payload,o=e.dimensions.droppables[t];o||E(!1,`Cannot find Droppable[id: ${t}] to toggle its isCombineEnabled state`),o.isCombineEnabled===r&&E(!1,`Trying to set droppable isCombineEnabled to ${String(r)}
      but it is already ${String(o.isCombineEnabled)}`);const i={...o,isCombineEnabled:r};return pn(e,i,!0)}if(n.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;be(e)||E(!1,`Cannot move by window in phase ${e.phase}`),e.isWindowScrollAllowed||E(!1,"Window scrolling is currently not supported for fixed lists");const t=n.payload.newScroll;if(pe(e.viewport.scroll.current,t))return fn(e);const r=vr(e.viewport,t);return An(e)?jr({state:e,viewport:r}):je({state:e,viewport:r})}if(n.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!be(e))return e;const t=n.payload.maxScroll;if(pe(t,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:t}};return{...e,viewport:r}}if(n.type==="MOVE_UP"||n.type==="MOVE_DOWN"||n.type==="MOVE_LEFT"||n.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&E(!1,`${n.type} received while not in DRAGGING phase`);const t=ks({state:e,type:n.type});return t?je({state:e,impact:t.impact,clientSelection:t.clientSelection,scrollJumpRequest:t.scrollJumpRequest}):e}if(n.type==="DROP_PENDING"){const t=n.payload.reason;return e.phase!=="COLLECTING"&&E(!1,"Can only move into the DROP_PENDING phase from the COLLECTING phase"),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:t}}if(n.type==="DROP_ANIMATE"){const{completed:t,dropDuration:r,newHomeClientOffset:o}=n.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||E(!1,`Cannot animate drop from phase ${e.phase}`),{phase:"DROP_ANIMATING",completed:t,dropDuration:r,newHomeClientOffset:o,dimensions:e.dimensions}}if(n.type==="DROP_COMPLETE"){const{completed:t}=n.payload;return{phase:"IDLE",completed:t,shouldFlush:!1}}return e};function _(e,n){return e instanceof Object&&"type"in e&&e.type===n}const tl=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),rl=e=>({type:"LIFT",payload:e}),ol=e=>({type:"INITIAL_PUBLISH",payload:e}),il=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),sl=()=>({type:"COLLECTION_STARTING",payload:null}),ll=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),al=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),cl=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),Tr=e=>({type:"MOVE",payload:e}),dl=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),ul=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),ml=()=>({type:"MOVE_UP",payload:null}),pl=()=>({type:"MOVE_DOWN",payload:null}),fl=()=>({type:"MOVE_RIGHT",payload:null}),gl=()=>({type:"MOVE_LEFT",payload:null}),Un=()=>({type:"FLUSH",payload:null}),hl=e=>({type:"DROP_ANIMATE",payload:e}),qn=e=>({type:"DROP_COMPLETE",payload:e}),Lr=e=>({type:"DROP",payload:e}),bl=e=>({type:"DROP_PENDING",payload:e}),Pr=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});function Nl(e){if(e.length<=1)return;const n=e.map(o=>o.descriptor.index),t={};for(let o=1;o<n.length;o++){const i=n[o],s=n[o-1];i!==s+1&&(t[i]=!0)}if(!Object.keys(t).length)return;const r=n.map(o=>!!t[o]?`[ğŸ”¥${o}]`:`${o}`).join(", ");O(`
    Detected non-consecutive <Draggable /> indexes.

    (This can cause unexpected bugs)

    ${r}
  `)}function xl(e,n){{const t=ve(e.droppable.id,n.draggables);Nl(t)}}var vl=e=>({getState:n,dispatch:t})=>r=>o=>{if(!_(o,"LIFT")){r(o);return}const{id:i,clientSelection:s,movementMode:a}=o.payload,c=n();c.phase==="DROP_ANIMATING"&&t(qn({completed:c.completed})),n().phase!=="IDLE"&&E(!1,"Unexpected phase to start a drag"),t(Un()),t(tl({draggableId:i,movementMode:a}));const p={draggableId:i,scrollOptions:{shouldPublishImmediately:a==="SNAP"}},{critical:u,dimensions:m,viewport:f}=e.startPublishing(p);xl(u,m),t(ol({critical:u,dimensions:m,clientSelection:s,movementMode:a,viewport:f}))},Dl=e=>()=>n=>t=>{_(t,"INITIAL_PUBLISH")&&e.dragging(),_(t,"DROP_ANIMATE")&&e.dropping(t.payload.completed.result.reason),(_(t,"FLUSH")||_(t,"DROP_COMPLETE"))&&e.resting(),n(t)};const Yn={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},ke={opacity:{drop:0,combining:.7},scale:{drop:.75}},Br={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},he=`${Br.outOfTheWay}s ${Yn.outOfTheWay}`,Re={fluid:`opacity ${he}`,snap:`transform ${he}, opacity ${he}`,drop:e=>{const n=`${e}s ${Yn.drop}`;return`transform ${n}, opacity ${n}`},outOfTheWay:`transform ${he}`,placeholder:`height ${he}, width ${he}, margin ${he}`},yt=e=>pe(e,X)?void 0:`translate(${e.x}px, ${e.y}px)`,jn={moveTo:yt,drop:(e,n)=>{const t=yt(e);if(t)return n?`${t} scale(${ke.scale.drop})`:t}},{minDropTime:Rn,maxDropTime:_r}=Br,El=_r-Rn,wt=1500,yl=.6;var wl=({current:e,destination:n,reason:t})=>{const r=Pe(e,n);if(r<=0)return Rn;if(r>=wt)return _r;const o=r/wt,i=Rn+El*o,s=t==="CANCEL"?i*yl:i;return Number(s.toFixed(2))},Il=({impact:e,draggable:n,dimensions:t,viewport:r,afterCritical:o})=>{const{draggables:i,droppables:s}=t,a=re(e),c=a?s[a]:null,d=s[n.descriptor.droppableId],p=Ar({impact:e,draggable:n,draggables:i,afterCritical:o,droppable:c||d,viewport:r});return te(p,n.client.borderBox.center)},Cl=({draggables:e,reason:n,lastImpact:t,home:r,viewport:o,onLiftImpact:i})=>!t.at||n!=="DROP"?{impact:Vr({draggables:e,impact:i,destination:r,viewport:o,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:t.at.type==="REORDER"?{impact:t,didDropInsideDroppable:!0}:{impact:{...t,displaced:Be},didDropInsideDroppable:!0};const Sl=({getState:e,dispatch:n})=>t=>r=>{if(!_(r,"DROP")){t(r);return}const o=e(),i=r.payload.reason;if(o.phase==="COLLECTING"){n(bl({reason:i}));return}if(o.phase==="IDLE")return;o.phase==="DROP_PENDING"&&o.isWaiting&&E(!1,"A DROP action occurred while DROP_PENDING and still waiting"),o.phase==="DRAGGING"||o.phase==="DROP_PENDING"||E(!1,`Cannot drop in phase: ${o.phase}`);const a=o.critical,c=o.dimensions,d=c.draggables[o.critical.draggable.id],{impact:p,didDropInsideDroppable:u}=Cl({reason:i,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),m=u?$n(p):null,f=u?ln(p):null,g={index:a.draggable.index,droppableId:a.droppable.id},N={draggableId:d.descriptor.id,type:d.descriptor.type,source:g,reason:i,mode:o.movementMode,destination:m,combine:f},h=Il({impact:p,draggable:d,dimensions:c,viewport:o.viewport,afterCritical:o.afterCritical}),x={critical:o.critical,afterCritical:o.afterCritical,result:N,impact:p};if(!(!pe(o.current.client.offset,h)||!!N.combine)){n(qn({completed:x}));return}const w=wl({current:o.current.client.offset,destination:h,reason:i});n(hl({newHomeClientOffset:h,dropDuration:w,completed:x}))};var kr=()=>({x:window.pageXOffset,y:window.pageYOffset});function Vl(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:n=>{n.target!==window&&n.target!==window.document||e()}}}function Al({onWindowScroll:e}){function n(){e(kr())}const t=Le(n),r=Vl(t);let o=me;function i(){return o!==me}function s(){i()&&E(!1,"Cannot start scroll listener when already active"),o=se(window,[r])}function a(){i()||E(!1,"Cannot stop scroll listener when not active"),t.cancel(),o(),o=me}return{start:s,stop:a,isActive:i}}const jl=e=>_(e,"DROP_COMPLETE")||_(e,"DROP_ANIMATE")||_(e,"FLUSH"),Rl=e=>{const n=Al({onWindowScroll:t=>{e.dispatch(dl({newScroll:t}))}});return t=>r=>{!n.isActive()&&_(r,"INITIAL_PUBLISH")&&n.start(),n.isActive()&&jl(r)&&n.stop(),t(r)}};var Tl=e=>{let n=!1,t=!1;const r=setTimeout(()=>{t=!0}),o=i=>{if(n){O("Announcement already made. Not making a second announcement");return}if(t){O(`
        Announcements cannot be made asynchronously.
        Default message has already been announced.
      `);return}n=!0,e(i),clearTimeout(r)};return o.wasCalled=()=>n,o},Ll=()=>{const e=[],n=o=>{const i=e.findIndex(a=>a.timerId===o);i===-1&&E(!1,"Could not find timer");const[s]=e.splice(i,1);s.callback()};return{add:o=>{const i=setTimeout(()=>n(i)),s={timerId:i,callback:o};e.push(s)},flush:()=>{if(!e.length)return;const o=[...e];e.length=0,o.forEach(i=>{clearTimeout(i.timerId),i.callback()})}}};const Pl=(e,n)=>e==null&&n==null?!0:e==null||n==null?!1:e.droppableId===n.droppableId&&e.index===n.index,Bl=(e,n)=>e==null&&n==null?!0:e==null||n==null?!1:e.draggableId===n.draggableId&&e.droppableId===n.droppableId,_l=(e,n)=>{if(e===n)return!0;const t=e.draggable.id===n.draggable.id&&e.draggable.droppableId===n.draggable.droppableId&&e.draggable.type===n.draggable.type&&e.draggable.index===n.draggable.index,r=e.droppable.id===n.droppable.id&&e.droppable.type===n.droppable.type;return t&&r},Se=(e,n)=>{n()},Ue=(e,n)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:n});function gn(e,n,t,r){if(!e){t(r(n));return}const o=Tl(t);e(n,{announce:o}),o.wasCalled()||t(r(n))}var kl=(e,n)=>{const t=Ll();let r=null;const o=(u,m)=>{r&&E(!1,"Cannot fire onBeforeCapture as a drag start has already been published"),Se("onBeforeCapture",()=>{const f=e().onBeforeCapture;f&&f({draggableId:u,mode:m})})},i=(u,m)=>{r&&E(!1,"Cannot fire onBeforeDragStart as a drag start has already been published"),Se("onBeforeDragStart",()=>{const f=e().onBeforeDragStart;f&&f(Ue(u,m))})},s=(u,m)=>{r&&E(!1,"Cannot fire onBeforeDragStart as a drag start has already been published");const f=Ue(u,m);r={mode:m,lastCritical:u,lastLocation:f.source,lastCombine:null},t.add(()=>{Se("onDragStart",()=>gn(e().onDragStart,f,n,Xe.onDragStart))})},a=(u,m)=>{const f=$n(m),g=ln(m);r||E(!1,"Cannot fire onDragMove when onDragStart has not been called");const N=!_l(u,r.lastCritical);N&&(r.lastCritical=u);const h=!Pl(r.lastLocation,f);h&&(r.lastLocation=f);const x=!Bl(r.lastCombine,g);if(x&&(r.lastCombine=g),!N&&!h&&!x)return;const v={...Ue(u,r.mode),combine:g,destination:f};t.add(()=>{Se("onDragUpdate",()=>gn(e().onDragUpdate,v,n,Xe.onDragUpdate))})},c=()=>{r||E(!1,"Can only flush responders while dragging"),t.flush()},d=u=>{r||E(!1,"Cannot fire onDragEnd when there is no matching onDragStart"),r=null,Se("onDragEnd",()=>gn(e().onDragEnd,u,n,Xe.onDragEnd))};return{beforeCapture:o,beforeStart:i,start:s,update:a,flush:c,drop:d,abort:()=>{if(!r)return;const u={...Ue(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};d(u)}}},Ol=(e,n)=>{const t=kl(e,n);return r=>o=>i=>{if(_(i,"BEFORE_INITIAL_CAPTURE")){t.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(_(i,"INITIAL_PUBLISH")){const a=i.payload.critical;t.beforeStart(a,i.payload.movementMode),o(i),t.start(a,i.payload.movementMode);return}if(_(i,"DROP_COMPLETE")){const a=i.payload.completed.result;t.flush(),o(i),t.drop(a);return}if(o(i),_(i,"FLUSH")){t.abort();return}const s=r.getState();s.phase==="DRAGGING"&&t.update(s.critical,s.impact)}};const Ml=e=>n=>t=>{if(!_(t,"DROP_ANIMATION_FINISHED")){n(t);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&E(!1,"Cannot finish a drop animating when no drop is occurring"),e.dispatch(qn({completed:r.completed}))},$l=e=>{let n=null,t=null;function r(){t&&(cancelAnimationFrame(t),t=null),n&&(n(),n=null)}return o=>i=>{if((_(i,"FLUSH")||_(i,"DROP_COMPLETE")||_(i,"DROP_ANIMATION_FINISHED"))&&r(),o(i),!_(i,"DROP_ANIMATE"))return;const s={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(Pr())}};t=requestAnimationFrame(()=>{t=null,n=se(window,[s])})}};var Fl=e=>()=>n=>t=>{(_(t,"DROP_COMPLETE")||_(t,"FLUSH")||_(t,"DROP_ANIMATE"))&&e.stopPublishing(),n(t)},Gl=e=>{let n=!1;return()=>t=>r=>{if(_(r,"INITIAL_PUBLISH")){n=!0,e.tryRecordFocus(r.payload.critical.draggable.id),t(r),e.tryRestoreFocusRecorded();return}if(t(r),!!n){if(_(r,"FLUSH")){n=!1,e.tryRestoreFocusRecorded();return}if(_(r,"DROP_COMPLETE")){n=!1;const o=r.payload.completed.result;o.combine&&e.tryShiftRecord(o.draggableId,o.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const Hl=e=>_(e,"DROP_COMPLETE")||_(e,"DROP_ANIMATE")||_(e,"FLUSH");var Wl=e=>n=>t=>r=>{if(Hl(r)){e.stop(),t(r);return}if(_(r,"INITIAL_PUBLISH")){t(r);const o=n.getState();o.phase!=="DRAGGING"&&E(!1,"Expected phase to be DRAGGING after INITIAL_PUBLISH"),e.start(o);return}t(r),e.scroll(n.getState())};const zl=e=>n=>t=>{if(n(t),!_(t,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(Lr({reason:r.reason})))},Ul=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({name:"@hello-pangea/dnd"}):yi;var ql=({dimensionMarshal:e,focusMarshal:n,styleMarshal:t,getResponders:r,announce:o,autoScroller:i})=>Ei(nl,Ul(wi(Dl(t),Fl(e),vl(e),Sl,Ml,$l,zl,Wl(i),Rl,Gl(n),Ol(r,o))));const hn=()=>({additions:{},removals:{},modified:{}});function Yl({registry:e,callbacks:n}){let t=hn(),r=null;const o=()=>{r||(n.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:c,removals:d,modified:p}=t,u=Object.keys(c).map(g=>e.draggable.getById(g).getDimension(X)).sort((g,N)=>g.descriptor.index-N.descriptor.index),m=Object.keys(p).map(g=>{const h=e.droppable.getById(g).callbacks.getScrollWhileDragging();return{droppableId:g,scroll:h}}),f={additions:u,removals:Object.keys(d),modified:m};t=hn(),n.publish(f)}))};return{add:c=>{const d=c.descriptor.id;t.additions[d]=c,t.modified[c.descriptor.droppableId]=!0,t.removals[d]&&delete t.removals[d],o()},remove:c=>{const d=c.descriptor;t.removals[d.id]=!0,t.modified[d.droppableId]=!0,t.additions[d.id]&&delete t.additions[d.id],o()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,t=hn())}}}var Or=({scrollHeight:e,scrollWidth:n,height:t,width:r})=>{const o=te({x:n,y:e},{x:r,y:t});return{x:Math.max(0,o.x),y:Math.max(0,o.y)}},Mr=()=>{const e=document.documentElement;return e||E(!1,"Cannot find document.documentElement"),e},$r=()=>{const e=Mr();return Or({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},Xl=()=>{const e=kr(),n=$r(),t=e.y,r=e.x,o=Mr(),i=o.clientWidth,s=o.clientHeight,a=r+i,c=t+s;return{frame:ae({top:t,left:r,right:a,bottom:c}),scroll:{initial:e,current:e,max:n,diff:{value:X,displacement:X}}}},Kl=({critical:e,scrollOptions:n,registry:t})=>{const r=Xl(),o=r.scroll.current,i=e.droppable,s=t.droppable.getAllByType(i.type).map(p=>p.callbacks.getDimensionAndWatchScroll(o,n)),a=t.draggable.getAllByType(e.draggable.type).map(p=>p.getDimension(o));return{dimensions:{draggables:fr(a),droppables:pr(s)},critical:e,viewport:r}};function It(e,n,t){return t.descriptor.id===n.id||t.descriptor.type!==n.type?!1:e.droppable.getById(t.descriptor.droppableId).descriptor.mode!=="virtual"?(O(`
      You are attempting to add or remove a Draggable [id: ${t.descriptor.id}]
      while a drag is occurring. This is only supported for virtual lists.

      See https://github.com/hello-pangea/dnd/blob/main/docs/patterns/virtual-lists.md
    `),!1):!0}var Jl=(e,n)=>{let t=null;const r=Yl({callbacks:{publish:n.publishWhileDragging,collectionStarting:n.collectionStarting},registry:e}),o=(m,f)=>{e.droppable.exists(m)||E(!1,`Cannot update is enabled flag of Droppable ${m} as it is not registered`),t&&n.updateDroppableIsEnabled({id:m,isEnabled:f})},i=(m,f)=>{t&&(e.droppable.exists(m)||E(!1,`Cannot update isCombineEnabled flag of Droppable ${m} as it is not registered`),n.updateDroppableIsCombineEnabled({id:m,isCombineEnabled:f}))},s=(m,f)=>{t&&(e.droppable.exists(m)||E(!1,`Cannot update the scroll on Droppable ${m} as it is not registered`),n.updateDroppableScroll({id:m,newScroll:f}))},a=(m,f)=>{t&&e.droppable.getById(m).callbacks.scroll(f)},c=()=>{if(!t)return;r.stop();const m=t.critical.droppable;e.droppable.getAllByType(m.type).forEach(f=>f.callbacks.dragStopped()),t.unsubscribe(),t=null},d=m=>{t||E(!1,"Should only be subscribed when a collection is occurring");const f=t.critical.draggable;m.type==="ADDITION"&&It(e,f,m.value)&&r.add(m.value),m.type==="REMOVAL"&&It(e,f,m.value)&&r.remove(m.value)};return{updateDroppableIsEnabled:o,updateDroppableIsCombineEnabled:i,scrollDroppable:a,updateDroppableScroll:s,startPublishing:m=>{t&&E(!1,"Cannot start capturing critical dimensions as there is already a collection");const f=e.draggable.getById(m.draggableId),g=e.droppable.getById(f.descriptor.droppableId),N={draggable:f.descriptor,droppable:g.descriptor},h=e.subscribe(d);return t={critical:N,unsubscribe:h},Kl({critical:N,registry:e,scrollOptions:m.scrollOptions})},stopPublishing:c}},Fr=(e,n)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===n?!1:e.completed.result.reason==="DROP",Ql=e=>{window.scrollBy(e.x,e.y)};const Zl=Y(e=>sn(e).filter(n=>!(!n.isEnabled||!n.frame))),ea=(e,n)=>Zl(n).find(r=>(r.frame||E(!1,"Invalid result"),wr(r.frame.pageMarginBox)(e)))||null;var na=({center:e,destination:n,droppables:t})=>{if(n){const o=t[n];return o.frame?o:null}return ea(e,t)};const Oe={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var ta=(e,n,t=()=>Oe)=>{const r=t(),o=e[n.size]*r.startFromPercentage,i=e[n.size]*r.maxScrollAtPercentage;return{startScrollingFrom:o,maxScrollValueAt:i}},Gr=({startOfRange:e,endOfRange:n,current:t})=>{const r=n-e;return r===0?(O(`
      Detected distance range of 0 in the fluid auto scroller
      This is unexpected and would cause a divide by 0 issue.
      Not allowing an auto scroll
    `),0):(t-e)/r},Xn=1,ra=(e,n,t=()=>Oe)=>{const r=t();if(e>n.startScrollingFrom)return 0;if(e<=n.maxScrollValueAt)return r.maxPixelScroll;if(e===n.startScrollingFrom)return Xn;const i=1-Gr({startOfRange:n.maxScrollValueAt,endOfRange:n.startScrollingFrom,current:e}),s=r.maxPixelScroll*r.ease(i);return Math.ceil(s)},oa=(e,n,t)=>{const r=t(),o=r.durationDampening.accelerateAt,i=r.durationDampening.stopDampeningAt,s=n,a=i,d=Date.now()-s;if(d>=i)return e;if(d<o)return Xn;const p=Gr({startOfRange:o,endOfRange:a,current:d}),u=e*r.ease(p);return Math.ceil(u)},Ct=({distanceToEdge:e,thresholds:n,dragStartTime:t,shouldUseTimeDampening:r,getAutoScrollerOptions:o})=>{const i=ra(e,n,o);return i===0?0:r?Math.max(oa(i,t,o),Xn):i},St=({container:e,distanceToEdges:n,dragStartTime:t,axis:r,shouldUseTimeDampening:o,getAutoScrollerOptions:i})=>{const s=ta(e,r,i);return n[r.end]<n[r.start]?Ct({distanceToEdge:n[r.end],thresholds:s,dragStartTime:t,shouldUseTimeDampening:o,getAutoScrollerOptions:i}):-1*Ct({distanceToEdge:n[r.start],thresholds:s,dragStartTime:t,shouldUseTimeDampening:o,getAutoScrollerOptions:i})},ia=({container:e,subject:n,proposedScroll:t})=>{const r=n.height>e.height,o=n.width>e.width;return!o&&!r?t:o&&r?null:{x:o?0:t.x,y:r?0:t.y}};const sa=mr(e=>e===0?0:e);var Hr=({dragStartTime:e,container:n,subject:t,center:r,shouldUseTimeDampening:o,getAutoScrollerOptions:i})=>{const s={top:r.y-n.top,right:n.right-r.x,bottom:n.bottom-r.y,left:r.x-n.left},a=St({container:n,distanceToEdges:s,dragStartTime:e,axis:Fn,shouldUseTimeDampening:o,getAutoScrollerOptions:i}),c=St({container:n,distanceToEdges:s,dragStartTime:e,axis:br,shouldUseTimeDampening:o,getAutoScrollerOptions:i}),d=sa({x:c,y:a});if(pe(d,X))return null;const p=ia({container:n,subject:t,proposedScroll:d});return p?pe(p,X)?null:p:null};const la=mr(e=>e===0?0:e>0?1:-1),Kn=(()=>{const e=(n,t)=>n<0?n:n>t?n-t:0;return({current:n,max:t,change:r})=>{const o=K(n,r),i={x:e(o.x,t.x),y:e(o.y,t.y)};return pe(i,X)?null:i}})(),Wr=({max:e,current:n,change:t})=>{const r={x:Math.max(n.x,e.x),y:Math.max(n.y,e.y)},o=la(t),i=Kn({max:r,current:n,change:o});return!i||o.x!==0&&i.x===0||o.y!==0&&i.y===0},Jn=(e,n)=>Wr({current:e.scroll.current,max:e.scroll.max,change:n}),aa=(e,n)=>{if(!Jn(e,n))return null;const t=e.scroll.max,r=e.scroll.current;return Kn({current:r,max:t,change:n})},Qn=(e,n)=>{const t=e.frame;return t?Wr({current:t.scroll.current,max:t.scroll.max,change:n}):!1},ca=(e,n)=>{const t=e.frame;return!t||!Qn(e,n)?null:Kn({current:t.scroll.current,max:t.scroll.max,change:n})};var da=({viewport:e,subject:n,center:t,dragStartTime:r,shouldUseTimeDampening:o,getAutoScrollerOptions:i})=>{const s=Hr({dragStartTime:r,container:e.frame,subject:n,center:t,shouldUseTimeDampening:o,getAutoScrollerOptions:i});return s&&Jn(e,s)?s:null},ua=({droppable:e,subject:n,center:t,dragStartTime:r,shouldUseTimeDampening:o,getAutoScrollerOptions:i})=>{const s=e.frame;if(!s)return null;const a=Hr({dragStartTime:r,container:s.pageMarginBox,subject:n,center:t,shouldUseTimeDampening:o,getAutoScrollerOptions:i});return a&&Qn(e,a)?a:null},Vt=({state:e,dragStartTime:n,shouldUseTimeDampening:t,scrollWindow:r,scrollDroppable:o,getAutoScrollerOptions:i})=>{const s=e.current.page.borderBoxCenter,c=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const u=e.viewport,m=da({dragStartTime:n,viewport:u,subject:c,center:s,shouldUseTimeDampening:t,getAutoScrollerOptions:i});if(m){r(m);return}}const d=na({center:s,destination:re(e.impact),droppables:e.dimensions.droppables});if(!d)return;const p=ua({dragStartTime:n,droppable:d,subject:c,center:s,shouldUseTimeDampening:t,getAutoScrollerOptions:i});p&&o(d.descriptor.id,p)},ma=({scrollWindow:e,scrollDroppable:n,getAutoScrollerOptions:t=()=>Oe})=>{const r=Le(e),o=Le(n);let i=null;const s=d=>{i||E(!1,"Cannot fluid scroll if not dragging");const{shouldUseTimeDampening:p,dragStartTime:u}=i;Vt({state:d,scrollWindow:r,scrollDroppable:o,dragStartTime:u,shouldUseTimeDampening:p,getAutoScrollerOptions:t})};return{start:d=>{i&&E(!1,"Cannot start auto scrolling when already started");const p=Date.now();let u=!1;const m=()=>{u=!0};Vt({state:d,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:m,scrollDroppable:m,getAutoScrollerOptions:t}),i={dragStartTime:p,shouldUseTimeDampening:u},u&&s(d)},stop:()=>{i&&(r.cancel(),o.cancel(),i=null)},scroll:s}},pa=({move:e,scrollDroppable:n,scrollWindow:t})=>{const r=(a,c)=>{const d=K(a.current.client.selection,c);e({client:d})},o=(a,c)=>{if(!Qn(a,c))return c;const d=ca(a,c);if(!d)return n(a.descriptor.id,c),null;const p=te(c,d);return n(a.descriptor.id,p),te(c,p)},i=(a,c,d)=>{if(!a||!Jn(c,d))return d;const p=aa(c,d);if(!p)return t(d),null;const u=te(d,p);return t(u),te(d,u)};return a=>{const c=a.scrollJumpRequest;if(!c)return;const d=re(a.impact);d||E(!1,"Cannot perform a jump scroll when there is no destination");const p=o(a.dimensions.droppables[d],c);if(!p)return;const u=a.viewport,m=i(a.isWindowScrollAllowed,u,p);m&&r(a,m)}},fa=({scrollDroppable:e,scrollWindow:n,move:t,getAutoScrollerOptions:r})=>{const o=ma({scrollWindow:n,scrollDroppable:e,getAutoScrollerOptions:r}),i=pa({move:t,scrollWindow:n,scrollDroppable:e});return{scroll:c=>{if(!(r().disabled||c.phase!=="DRAGGING")){if(c.movementMode==="FLUID"){o.scroll(c);return}c.scrollJumpRequest&&i(c)}},start:o.start,stop:o.stop}};const Ee="data-rfd",ye=(()=>{const e=`${Ee}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),Tn=(()=>{const e=`${Ee}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),ga=(()=>{const e=`${Ee}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),At={contextId:`${Ee}-scroll-container-context-id`},ha=e=>n=>`[${n}="${e}"]`,Ve=(e,n)=>e.map(t=>{const r=t.styles[n];return r?`${t.selector} { ${r} }`:""}).join(" "),ba="pointer-events: none;";var Na=e=>{const n=ha(e),t=(()=>{const a=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:n(ye.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:a,dragging:ba,dropAnimating:a}}})(),r=(()=>{const a=`
      transition: ${Re.outOfTheWay};
    `;return{selector:n(Tn.contextId),styles:{dragging:a,dropAnimating:a,userCancel:a}}})(),o={selector:n(ga.contextId),styles:{always:"overflow-anchor: none;"}},s=[r,t,o,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Ve(s,"always"),resting:Ve(s,"resting"),dragging:Ve(s,"dragging"),dropAnimating:Ve(s,"dropAnimating"),userCancel:Ve(s,"userCancel")}};const oe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?b.useLayoutEffect:b.useEffect,bn=()=>{const e=document.querySelector("head");return e||E(!1,"Cannot find the head to append a style to"),e},jt=e=>{const n=document.createElement("style");return e&&n.setAttribute("nonce",e),n.type="text/css",n};function xa(e,n){const t=B(()=>Na(e),[e]),r=b.useRef(null),o=b.useRef(null),i=V(Y(u=>{const m=o.current;m||E(!1,"Cannot set dynamic style element if it is not set"),m.textContent=u}),[]),s=V(u=>{const m=r.current;m||E(!1,"Cannot set dynamic style element if it is not set"),m.textContent=u},[]);oe(()=>{!r.current&&!o.current||E(!1,"style elements already mounted");const u=jt(n),m=jt(n);return r.current=u,o.current=m,u.setAttribute(`${Ee}-always`,e),m.setAttribute(`${Ee}-dynamic`,e),bn().appendChild(u),bn().appendChild(m),s(t.always),i(t.resting),()=>{const f=g=>{const N=g.current;N||E(!1,"Cannot unmount ref as it is not set"),bn().removeChild(N),g.current=null};f(r),f(o)}},[n,s,i,t.always,t.resting,e]);const a=V(()=>i(t.dragging),[i,t.dragging]),c=V(u=>{if(u==="DROP"){i(t.dropAnimating);return}i(t.userCancel)},[i,t.dropAnimating,t.userCancel]),d=V(()=>{o.current&&i(t.resting)},[i,t.resting]);return B(()=>({dragging:a,dropping:c,resting:d}),[a,c,d])}function zr(e,n){return Array.from(e.querySelectorAll(n))}var Ur=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function We(e){return e instanceof Ur(e).HTMLElement}function qr(e,n){const t=`[${ye.contextId}="${e}"]`,r=zr(document,t);if(!r.length)return O(`Unable to find any drag handles in the context "${e}"`),null;const o=r.find(i=>i.getAttribute(ye.draggableId)===n);return o?We(o)?o:(O("drag handle needs to be a HTMLElement"),null):(O(`Unable to find drag handle with id "${n}" as no handle with a matching id was found`),null)}function va(e){const n=b.useRef({}),t=b.useRef(null),r=b.useRef(null),o=b.useRef(!1),i=V(function(m,f){const g={id:m,focus:f};return n.current[m]=g,function(){const h=n.current;h[m]!==g&&delete h[m]}},[]),s=V(function(m){const f=qr(e,m);f&&f!==document.activeElement&&f.focus()},[e]),a=V(function(m,f){t.current===m&&(t.current=f)},[]),c=V(function(){r.current||o.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const m=t.current;m&&s(m)}))},[s]),d=V(function(m){t.current=null;const f=document.activeElement;f&&f.getAttribute(ye.draggableId)===m&&(t.current=m)},[]);return oe(()=>(o.current=!0,function(){o.current=!1;const m=r.current;m&&cancelAnimationFrame(m)}),[]),B(()=>({register:i,tryRecordFocus:d,tryRestoreFocusRecorded:c,tryShiftRecord:a}),[i,d,c,a])}function Da(){const e={draggables:{},droppables:{}},n=[];function t(u){return n.push(u),function(){const f=n.indexOf(u);f!==-1&&n.splice(f,1)}}function r(u){n.length&&n.forEach(m=>m(u))}function o(u){return e.draggables[u]||null}function i(u){const m=o(u);return m||E(!1,`Cannot find draggable entry with id [${u}]`),m}const s={register:u=>{e.draggables[u.descriptor.id]=u,r({type:"ADDITION",value:u})},update:(u,m)=>{const f=e.draggables[m.descriptor.id];f&&f.uniqueId===u.uniqueId&&(delete e.draggables[m.descriptor.id],e.draggables[u.descriptor.id]=u)},unregister:u=>{const m=u.descriptor.id,f=o(m);f&&u.uniqueId===f.uniqueId&&(delete e.draggables[m],e.droppables[u.descriptor.droppableId]&&r({type:"REMOVAL",value:u}))},getById:i,findById:o,exists:u=>!!o(u),getAllByType:u=>Object.values(e.draggables).filter(m=>m.descriptor.type===u)};function a(u){return e.droppables[u]||null}function c(u){const m=a(u);return m||E(!1,`Cannot find droppable entry with id [${u}]`),m}const d={register:u=>{e.droppables[u.descriptor.id]=u},unregister:u=>{const m=a(u.descriptor.id);m&&u.uniqueId===m.uniqueId&&delete e.droppables[u.descriptor.id]},getById:c,findById:a,exists:u=>!!a(u),getAllByType:u=>Object.values(e.droppables).filter(m=>m.descriptor.type===u)};function p(){e.draggables={},e.droppables={},n.length=0}return{draggable:s,droppable:d,subscribe:t,clean:p}}function Ea(){const e=B(Da,[]);return b.useEffect(()=>function(){e.clean()},[e]),e}var Zn=$.createContext(null),Me=()=>{const e=document.body;return e||E(!1,"Cannot find document.body"),e};const ya={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},wa=e=>`rfd-announcement-${e}`;function Ia(e){const n=B(()=>wa(e),[e]),t=b.useRef(null);return b.useEffect(function(){const i=document.createElement("div");return t.current=i,i.id=n,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),tr(i.style,ya),Me().appendChild(i),function(){setTimeout(function(){const c=Me();c.contains(i)&&c.removeChild(i),i===t.current&&(t.current=null)})}},[n]),V(o=>{const i=t.current;if(i){i.textContent=o;return}O(`
      A screen reader message was trying to be announced but it was unable to do so.
      This can occur if you unmount your <DragDropContext /> in your onDragEnd.
      Consider calling provided.announce() before the unmount so that the instruction will
      not be lost for users relying on a screen reader.

      Message not passed to screen reader:

      "${o}"
    `)},[])}const Ca={separator:"::"};function et(e,n=Ca){const t=$.useId();return B(()=>`${e}${n.separator}${t}`,[n.separator,e,t])}function Sa({contextId:e,uniqueId:n}){return`rfd-hidden-text-${e}-${n}`}function Va({contextId:e,text:n}){const t=et("hidden-text",{separator:"-"}),r=B(()=>Sa({contextId:e,uniqueId:t}),[t,e]);return b.useEffect(function(){const i=document.createElement("div");return i.id=r,i.textContent=n,i.style.display="none",Me().appendChild(i),function(){const a=Me();a.contains(i)&&a.removeChild(i)}},[r,n]),r}var dn=$.createContext(null),Aa={react:"^18.0.0 || ^19.0.0"};const ja=/(\d+)\.(\d+)\.(\d+)/,Rt=e=>{const n=ja.exec(e);n==null&&E(!1,`Unable to parse React version ${e}`);const t=Number(n[1]),r=Number(n[2]),o=Number(n[3]);return{major:t,minor:r,patch:o,raw:e}},Ra=(e,n)=>n.major>e.major?!0:n.major<e.major?!1:n.minor>e.minor?!0:n.minor<e.minor?!1:n.patch>=e.patch;var Ta=(e,n)=>{const t=Rt(e),r=Rt(n);Ra(t,r)||O(`
    React version: [${r.raw}]
    does not satisfy expected peer dependency version: [${t.raw}]

    This can result in run time bugs, and even fatal crashes
  `)};const Nn=`
  We expect a html5 doctype: <!doctype html>
  This is to ensure consistent browser layout and measurement

  More information: https://github.com/hello-pangea/dnd/blob/main/docs/guides/doctype.md
`;var La=e=>{const n=e.doctype;if(!n){O(`
      No <!doctype html> found.

      ${Nn}
    `);return}n.name.toLowerCase()!=="html"&&O(`
      Unexpected <!doctype> found: (${n.name})

      ${Nn}
    `),n.publicId!==""&&O(`
      Unexpected <!doctype> publicId found: (${n.publicId})
      A html5 doctype does not have a publicId

      ${Nn}
    `)};function nt(e){e()}function ze(e,n){nt(()=>{b.useEffect(()=>{try{e()}catch(t){Sn(`
          A setup problem was encountered.

          > ${t.message}
        `)}},n)})}function Pa(){ze(()=>{Ta(Aa.react,$.version),La(document)},[])}function tt(e){const n=b.useRef(e);return b.useEffect(()=>{n.current=e}),n}function Ba(){let e=null;function n(){return!!e}function t(s){return s===e}function r(s){e&&E(!1,"Cannot claim lock as it is already claimed");const a={abandon:s};return e=a,a}function o(){e||E(!1,"Cannot release lock when there is no lock"),e=null}function i(){e&&(e.abandon(),o())}return{isClaimed:n,isActive:t,claim:r,release:o,tryAbandon:i}}function $e(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const _a=9,ka=13,rt=27,Yr=32,Oa=33,Ma=34,$a=35,Fa=36,Ga=37,Ha=38,Wa=39,za=40,Ua={[ka]:!0,[_a]:!0};var Xr=e=>{Ua[e.keyCode]&&e.preventDefault()};const un=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})(),Kr=0,Tt=5;function qa(e,n){return Math.abs(n.x-e.x)>=Tt||Math.abs(n.y-e.y)>=Tt}const Lt={type:"IDLE"};function Ya({cancel:e,completed:n,getPhase:t,setPhase:r}){return[{eventName:"mousemove",fn:o=>{const{button:i,clientX:s,clientY:a}=o;if(i!==Kr)return;const c={x:s,y:a},d=t();if(d.type==="DRAGGING"){o.preventDefault(),d.actions.move(c);return}d.type!=="PENDING"&&E(!1,"Cannot be IDLE");const p=d.point;if(!qa(p,c))return;o.preventDefault();const u=d.actions.fluidLift(c);r({type:"DRAGGING",actions:u})}},{eventName:"mouseup",fn:o=>{const i=t();if(i.type!=="DRAGGING"){e();return}o.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"mousedown",fn:o=>{t().type==="DRAGGING"&&o.preventDefault(),e()}},{eventName:"keydown",fn:o=>{if(t().type==="PENDING"){e();return}if(o.keyCode===rt){o.preventDefault(),e();return}Xr(o)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{t().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:o=>{const i=t();if(i.type==="IDLE"&&E(!1,"Unexpected phase"),i.actions.shouldRespectForcePress()){e();return}o.preventDefault()}},{eventName:un,fn:e}]}function Xa(e){const n=b.useRef(Lt),t=b.useRef(me),r=B(()=>({eventName:"mousedown",fn:function(u){if(u.defaultPrevented||u.button!==Kr||u.ctrlKey||u.metaKey||u.shiftKey||u.altKey)return;const m=e.findClosestDraggableId(u);if(!m)return;const f=e.tryGetLock(m,s,{sourceEvent:u});if(!f)return;u.preventDefault();const g={x:u.clientX,y:u.clientY};t.current(),d(f,g)}}),[e]),o=B(()=>({eventName:"webkitmouseforcewillbegin",fn:p=>{if(p.defaultPrevented)return;const u=e.findClosestDraggableId(p);if(!u)return;const m=e.findOptionsForDraggable(u);m&&(m.shouldRespectForcePress||e.canGetLock(u)&&p.preventDefault())}}),[e]),i=V(function(){const u={passive:!1,capture:!0};t.current=se(window,[o,r],u)},[o,r]),s=V(()=>{n.current.type!=="IDLE"&&(n.current=Lt,t.current(),i())},[i]),a=V(()=>{const p=n.current;s(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[s]),c=V(function(){const u={capture:!0,passive:!1},m=Ya({cancel:a,completed:s,getPhase:()=>n.current,setPhase:f=>{n.current=f}});t.current=se(window,m,u)},[a,s]),d=V(function(u,m){n.current.type!=="IDLE"&&E(!1,"Expected to move from IDLE to PENDING drag"),n.current={type:"PENDING",point:m,actions:u},c()},[c]);oe(function(){return i(),function(){t.current()}},[i])}function Ka(){}const Ja={[Ma]:!0,[Oa]:!0,[Fa]:!0,[$a]:!0};function Qa(e,n){function t(){n(),e.cancel()}function r(){n(),e.drop()}return[{eventName:"keydown",fn:o=>{if(o.keyCode===rt){o.preventDefault(),t();return}if(o.keyCode===Yr){o.preventDefault(),r();return}if(o.keyCode===za){o.preventDefault(),e.moveDown();return}if(o.keyCode===Ha){o.preventDefault(),e.moveUp();return}if(o.keyCode===Wa){o.preventDefault(),e.moveRight();return}if(o.keyCode===Ga){o.preventDefault(),e.moveLeft();return}if(Ja[o.keyCode]){o.preventDefault();return}Xr(o)}},{eventName:"mousedown",fn:t},{eventName:"mouseup",fn:t},{eventName:"click",fn:t},{eventName:"touchstart",fn:t},{eventName:"resize",fn:t},{eventName:"wheel",fn:t,options:{passive:!0}},{eventName:un,fn:t}]}function Za(e){const n=b.useRef(Ka),t=B(()=>({eventName:"keydown",fn:function(i){if(i.defaultPrevented||i.keyCode!==Yr)return;const s=e.findClosestDraggableId(i);if(!s)return;const a=e.tryGetLock(s,p,{sourceEvent:i});if(!a)return;i.preventDefault();let c=!0;const d=a.snapLift();n.current();function p(){c||E(!1,"Cannot stop capturing a keyboard drag when not capturing"),c=!1,n.current(),r()}n.current=se(window,Qa(d,p),{capture:!0,passive:!1})}}),[e]),r=V(function(){const i={passive:!1,capture:!0};n.current=se(window,[t],i)},[t]);oe(function(){return r(),function(){n.current()}},[r])}const xn={type:"IDLE"},ec=120,nc=.15;function tc({cancel:e,getPhase:n}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:t=>{t.preventDefault()}},{eventName:"keydown",fn:t=>{if(n().type!=="DRAGGING"){e();return}t.keyCode===rt&&t.preventDefault(),e()}},{eventName:un,fn:e}]}function rc({cancel:e,completed:n,getPhase:t}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const o=t();if(o.type!=="DRAGGING"){e();return}o.hasMoved=!0;const{clientX:i,clientY:s}=r.touches[0],a={x:i,y:s};r.preventDefault(),o.actions.move(a)}},{eventName:"touchend",fn:r=>{const o=t();if(o.type!=="DRAGGING"){e();return}r.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"touchcancel",fn:r=>{if(t().type!=="DRAGGING"){e();return}r.preventDefault(),e()}},{eventName:"touchforcechange",fn:r=>{const o=t();o.type==="IDLE"&&E();const i=r.touches[0];if(!i||!(i.force>=nc))return;const a=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){a&&e();return}if(a){if(o.hasMoved){r.preventDefault();return}e();return}r.preventDefault()}},{eventName:un,fn:e}]}function oc(e){const n=b.useRef(xn),t=b.useRef(me),r=V(function(){return n.current},[]),o=V(function(f){n.current=f},[]),i=B(()=>({eventName:"touchstart",fn:function(f){if(f.defaultPrevented)return;const g=e.findClosestDraggableId(f);if(!g)return;const N=e.tryGetLock(g,a,{sourceEvent:f});if(!N)return;const h=f.touches[0],{clientX:x,clientY:v}=h,w={x,y:v};t.current(),u(N,w)}}),[e]),s=V(function(){const f={capture:!0,passive:!1};t.current=se(window,[i],f)},[i]),a=V(()=>{const m=n.current;m.type!=="IDLE"&&(m.type==="PENDING"&&clearTimeout(m.longPressTimerId),o(xn),t.current(),s())},[s,o]),c=V(()=>{const m=n.current;a(),m.type==="DRAGGING"&&m.actions.cancel({shouldBlockNextClick:!0}),m.type==="PENDING"&&m.actions.abort()},[a]),d=V(function(){const f={capture:!0,passive:!1},g={cancel:c,completed:a,getPhase:r},N=se(window,rc(g),f),h=se(window,tc(g),f);t.current=function(){N(),h()}},[c,r,a]),p=V(function(){const f=r();f.type!=="PENDING"&&E(!1,`Cannot start dragging from phase ${f.type}`);const g=f.actions.fluidLift(f.point);o({type:"DRAGGING",actions:g,hasMoved:!1})},[r,o]),u=V(function(f,g){r().type!=="IDLE"&&E(!1,"Expected to move from IDLE to PENDING drag");const N=setTimeout(p,ec);o({type:"PENDING",point:g,actions:f,longPressTimerId:N}),d()},[d,r,o,p]);oe(function(){return s(),function(){t.current();const g=r();g.type==="PENDING"&&(clearTimeout(g.longPressTimerId),o(xn))}},[r,s,o]),oe(function(){return se(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}function ic(e){nt(()=>{const n=tt(e);ze(()=>{n.current.length!==e.length&&E(!1,"Cannot change the amount of sensor hooks after mounting")})})}const sc=["input","button","textarea","select","option","optgroup","video","audio"];function Jr(e,n){if(n==null)return!1;if(sc.includes(n.tagName.toLowerCase()))return!0;const r=n.getAttribute("contenteditable");return r==="true"||r===""?!0:n===e?!1:Jr(e,n.parentElement)}function lc(e,n){const t=n.target;return We(t)?Jr(e,t):!1}var ac=e=>ae(e.getBoundingClientRect()).center;function cc(e){return e instanceof Ur(e).Element}const dc=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function Qr(e,n){return e==null?null:e[dc](n)?e:Qr(e.parentElement,n)}function uc(e,n){return e.closest?e.closest(n):Qr(e,n)}function mc(e){return`[${ye.contextId}="${e}"]`}function pc(e,n){const t=n.target;if(!cc(t))return O("event.target must be a Element"),null;const r=mc(e),o=uc(t,r);return o?We(o)?o:(O("drag handle must be a HTMLElement"),null):null}function fc(e,n){const t=pc(e,n);return t?t.getAttribute(ye.draggableId):null}function gc(e,n){const t=`[${Tn.contextId}="${e}"]`,o=zr(document,t).find(i=>i.getAttribute(Tn.id)===n);return o?We(o)?o:(O("Draggable element is not a HTMLElement"),null):null}function hc(e){e.preventDefault()}function qe({expected:e,phase:n,isLockActive:t,shouldWarn:r}){return t()?e!==n?(r&&O(`
        Cannot perform action.
        The actions you used belong to an outdated phase

        Current phase: ${e}
        You called an action from outdated phase: ${n}

        Tips:

        - Do not use preDragActions actions after calling preDragActions.lift()
      `),!1):!0:(r&&O(`
        Cannot perform action.
        The sensor no longer has an action lock.

        Tips:

        - Throw away your action handlers when forceStop() is called
        - Check actions.isActive() if you really need to
      `),!1)}function Zr({lockAPI:e,store:n,registry:t,draggableId:r}){if(e.isClaimed())return!1;const o=t.draggable.findById(r);return o?!(!o.options.isEnabled||!Fr(n.getState(),r)):(O(`Unable to find draggable with id: ${r}`),!1)}function bc({lockAPI:e,contextId:n,store:t,registry:r,draggableId:o,forceSensorStop:i,sourceEvent:s}){if(!Zr({lockAPI:e,store:t,registry:r,draggableId:o}))return null;const c=r.draggable.getById(o),d=gc(n,c.descriptor.id);if(!d)return O(`Unable to find draggable element with id: ${o}`),null;if(s&&!c.options.canDragInteractiveElements&&lc(d,s))return null;const p=e.claim(i||me);let u="PRE_DRAG";function m(){return c.options.shouldRespectForcePress}function f(){return e.isActive(p)}function g(D,I){qe({expected:D,phase:u,isLockActive:f,shouldWarn:!0})&&t.dispatch(I())}const N=g.bind(null,"DRAGGING");function h(D){function I(){e.release(),u="COMPLETED"}u!=="PRE_DRAG"&&(I(),E(!1,`Cannot lift in phase ${u}`)),t.dispatch(rl(D.liftActionArgs)),u="DRAGGING";function R(k,W={shouldBlockNextClick:!1}){if(D.cleanup(),W.shouldBlockNextClick){const L=se(window,[{eventName:"click",fn:hc,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(L)}I(),t.dispatch(Lr({reason:k}))}return{isActive:()=>qe({expected:"DRAGGING",phase:u,isLockActive:f,shouldWarn:!1}),shouldRespectForcePress:m,drop:k=>R("DROP",k),cancel:k=>R("CANCEL",k),...D.actions}}function x(D){const I=Le(k=>{N(()=>Tr({client:k}))});return{...h({liftActionArgs:{id:o,clientSelection:D,movementMode:"FLUID"},cleanup:()=>I.cancel(),actions:{move:I}}),move:I}}function v(){const D={moveUp:()=>N(ml),moveRight:()=>N(fl),moveDown:()=>N(pl),moveLeft:()=>N(gl)};return h({liftActionArgs:{id:o,clientSelection:ac(d),movementMode:"SNAP"},cleanup:me,actions:D})}function w(){qe({expected:"PRE_DRAG",phase:u,isLockActive:f,shouldWarn:!0})&&e.release()}return{isActive:()=>qe({expected:"PRE_DRAG",phase:u,isLockActive:f,shouldWarn:!1}),shouldRespectForcePress:m,fluidLift:x,snapLift:v,abort:w}}const Nc=[Xa,Za,oc];function xc({contextId:e,store:n,registry:t,customSensors:r,enableDefaultSensors:o}){const i=[...o?Nc:[],...r||[]],s=b.useState(()=>Ba())[0],a=V(function(h,x){$e(h)&&!$e(x)&&s.tryAbandon()},[s]);oe(function(){let h=n.getState();return n.subscribe(()=>{const v=n.getState();a(h,v),h=v})},[s,n,a]),oe(()=>s.tryAbandon,[s.tryAbandon]);const c=V(N=>Zr({lockAPI:s,registry:t,store:n,draggableId:N}),[s,t,n]),d=V((N,h,x)=>bc({lockAPI:s,registry:t,contextId:e,store:n,draggableId:N,forceSensorStop:h||null,sourceEvent:x&&x.sourceEvent?x.sourceEvent:null}),[e,s,t,n]),p=V(N=>fc(e,N),[e]),u=V(N=>{const h=t.draggable.findById(N);return h?h.options:null},[t.draggable]),m=V(function(){s.isClaimed()&&(s.tryAbandon(),n.getState().phase!=="IDLE"&&n.dispatch(Un()))},[s,n]),f=V(()=>s.isClaimed(),[s]),g=B(()=>({canGetLock:c,tryGetLock:d,findClosestDraggableId:p,findOptionsForDraggable:u,tryReleaseLock:m,isLockClaimed:f}),[c,d,p,u,m,f]);ic(i);for(let N=0;N<i.length;N++)i[N](g)}const vc=e=>({onBeforeCapture:n=>{const t=()=>{e.onBeforeCapture&&e.onBeforeCapture(n)};Gt.flushSync(t)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),Dc=e=>({...Oe,...e.autoScrollerOptions,durationDampening:{...Oe.durationDampening,...e.autoScrollerOptions}});function Ae(e){return e.current||E(!1,"Could not find store from lazy ref"),e.current}function Ec(e){const{contextId:n,setCallbacks:t,sensors:r,nonce:o,dragHandleUsageInstructions:i}=e,s=b.useRef(null);Pa();const a=tt(e),c=V(()=>vc(a.current),[a]),d=V(()=>Dc(a.current),[a]),p=Ia(n),u=Va({contextId:n,text:i}),m=xa(n,o),f=V(L=>{Ae(s).dispatch(L)},[]),g=B(()=>ct({publishWhileDragging:il,updateDroppableScroll:ll,updateDroppableIsEnabled:al,updateDroppableIsCombineEnabled:cl,collectionStarting:sl},f),[f]),N=Ea(),h=B(()=>Jl(N,g),[N,g]),x=B(()=>fa({scrollWindow:Ql,scrollDroppable:h.scrollDroppable,getAutoScrollerOptions:d,...ct({move:Tr},f)}),[h.scrollDroppable,f,d]),v=va(n),w=B(()=>ql({announce:p,autoScroller:x,dimensionMarshal:h,focusMarshal:v,getResponders:c,styleMarshal:m}),[p,x,h,v,c,m]);s.current&&s.current!==w&&O("unexpected store change"),s.current=w;const y=V(()=>{const L=Ae(s);L.getState().phase!=="IDLE"&&L.dispatch(Un())},[]),D=V(()=>{const L=Ae(s).getState();return L.phase==="DROP_ANIMATING"?!0:L.phase==="IDLE"?!1:L.isDragging},[]),I=B(()=>({isDragging:D,tryAbort:y}),[D,y]);t(I);const R=V(L=>Fr(Ae(s).getState(),L),[]),k=V(()=>be(Ae(s).getState()),[]),W=B(()=>({marshal:h,focus:v,contextId:n,canLift:R,isMovementAllowed:k,dragHandleUsageInstructionsId:u,registry:N}),[n,h,u,v,R,k,N]);return xc({contextId:n,store:w,registry:N,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),b.useEffect(()=>y,[y]),$.createElement(dn.Provider,{value:W},$.createElement(Di,{context:Zn,store:w},e.children))}function yc(){return $.useId()}function wc(e){const n=yc(),t=e.dragHandleUsageInstructions||Xe.dragHandleUsageInstructions;return $.createElement(Ui,null,r=>$.createElement(Ec,{nonce:e.nonce,contextId:n,setCallbacks:r,dragHandleUsageInstructions:t,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const Pt={dragging:5e3,dropAnimating:4500},Ic=(e,n)=>n?Re.drop(n.duration):e?Re.snap:Re.fluid,Cc=(e,n)=>{if(e)return n?ke.opacity.drop:ke.opacity.combining},Sc=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function Vc(e){const t=e.dimension.client,{offset:r,combineWith:o,dropping:i}=e,s=!!o,a=Sc(e),c=!!i,d=c?jn.drop(r,s):jn.moveTo(r);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:Ic(a,i),transform:d,opacity:Cc(s,c),zIndex:c?Pt.dropAnimating:Pt.dragging,pointerEvents:"none"}}function Ac(e){return{transform:jn.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function jc(e){return e.type==="DRAGGING"?Vc(e):Ac(e)}function Rc(e,n,t=X){const r=window.getComputedStyle(n),o=n.getBoundingClientRect(),i=sr(o,r),s=en(i,t),a={client:i,tagName:n.tagName.toLowerCase(),display:r.display},c={x:i.marginBox.width,y:i.marginBox.height};return{descriptor:e,placeholder:a,displaceBy:c,client:i,page:s}}function Tc(e){const n=et("draggable"),{descriptor:t,registry:r,getDraggableRef:o,canDragInteractiveElements:i,shouldRespectForcePress:s,isEnabled:a}=e,c=B(()=>({canDragInteractiveElements:i,shouldRespectForcePress:s,isEnabled:a}),[i,a,s]),d=V(f=>{const g=o();return g||E(!1,"Cannot get dimension when no ref is set"),Rc(t,g,f)},[t,o]),p=B(()=>({uniqueId:n,descriptor:t,options:c,getDimension:d}),[t,d,c,n]),u=b.useRef(p),m=b.useRef(!0);oe(()=>(r.draggable.register(u.current),()=>r.draggable.unregister(u.current)),[r.draggable]),oe(()=>{if(m.current){m.current=!1;return}const f=u.current;u.current=p,r.draggable.update(p,f)},[p,r.draggable])}var ot=$.createContext(null);function eo(e){e&&We(e)||E(!1,`
    provided.innerRef has not been provided with a HTMLElement.

    You can find a guide on using the innerRef callback functions at:
    https://github.com/hello-pangea/dnd/blob/main/docs/guides/using-inner-ref.md
  `)}function Lc(e,n,t){ze(()=>{function r(i){return`Draggable[id: ${i}]: `}const o=e.draggableId;o||E(!1,"Draggable requires a draggableId"),typeof o!="string"&&E(!1,`Draggable requires a [string] draggableId.
      Provided: [type: ${typeof o}] (value: ${o})`),Number.isInteger(e.index)||E(!1,`${r(o)} requires an integer index prop`),e.mapped.type!=="DRAGGING"&&(eo(t()),e.isEnabled&&(qr(n,o)||E(!1,`${r(o)} Unable to find drag handle`)))})}function Pc(e){nt(()=>{const n=b.useRef(e);ze(()=>{e!==n.current&&E(!1,"Draggable isClone prop value changed during component life")},[e])})}function on(e){const n=b.useContext(e);return n||E(!1,"Could not find required context"),n}function Bc(e){e.preventDefault()}const _c=e=>{const n=b.useRef(null),t=V((I=null)=>{n.current=I},[]),r=V(()=>n.current,[]),{contextId:o,dragHandleUsageInstructionsId:i,registry:s}=on(dn),{type:a,droppableId:c}=on(ot),d=B(()=>({id:e.draggableId,index:e.index,type:a,droppableId:c}),[e.draggableId,e.index,a,c]),{children:p,draggableId:u,isEnabled:m,shouldRespectForcePress:f,canDragInteractiveElements:g,isClone:N,mapped:h,dropAnimationFinished:x}=e;if(Lc(e,o,r),Pc(N),!N){const I=B(()=>({descriptor:d,registry:s,getDraggableRef:r,canDragInteractiveElements:g,shouldRespectForcePress:f,isEnabled:m}),[d,s,r,g,f,m]);Tc(I)}const v=B(()=>m?{tabIndex:0,role:"button","aria-describedby":i,"data-rfd-drag-handle-draggable-id":u,"data-rfd-drag-handle-context-id":o,draggable:!1,onDragStart:Bc}:null,[o,i,u,m]),w=V(I=>{h.type==="DRAGGING"&&h.dropping&&I.propertyName==="transform"&&Gt.flushSync(x)},[x,h]),y=B(()=>{const I=jc(h),R=h.type==="DRAGGING"&&h.dropping?w:void 0;return{innerRef:t,draggableProps:{"data-rfd-draggable-context-id":o,"data-rfd-draggable-id":u,style:I,onTransitionEnd:R},dragHandleProps:v}},[o,v,u,h,w,t]),D=B(()=>({draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}),[d.droppableId,d.id,d.index,d.type]);return $.createElement($.Fragment,null,p(y,h.snapshot,D))};var no=(e,n)=>e===n,to=e=>{const{combine:n,destination:t}=e;return t?t.droppableId:n?n.droppableId:null};const kc=e=>e.combine?e.combine.draggableId:null,Oc=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function Mc(){const e=Y((o,i)=>({x:o,y:i})),n=Y((o,i,s=null,a=null,c=null)=>({isDragging:!0,isClone:i,isDropAnimating:!!c,dropAnimation:c,mode:o,draggingOver:s,combineWith:a,combineTargetFor:null})),t=Y((o,i,s,a,c=null,d=null,p=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:d,mode:i,offset:o,dimension:s,forceShouldAnimate:p,snapshot:n(i,a,c,d,null)}}));return(o,i)=>{if($e(o)){if(o.critical.draggable.id!==i.draggableId)return null;const s=o.current.client.offset,a=o.dimensions.draggables[i.draggableId],c=re(o.impact),d=Oc(o.impact),p=o.forceShouldAnimate;return t(e(s.x,s.y),o.movementMode,a,i.isClone,c,d,p)}if(o.phase==="DROP_ANIMATING"){const s=o.completed;if(s.result.draggableId!==i.draggableId)return null;const a=i.isClone,c=o.dimensions.draggables[i.draggableId],d=s.result,p=d.mode,u=to(d),m=kc(d),g={duration:o.dropDuration,curve:Yn.drop,moveTo:o.newHomeClientOffset,opacity:m?ke.opacity.drop:null,scale:m?ke.scale.drop:null};return{mapped:{type:"DRAGGING",offset:o.newHomeClientOffset,dimension:c,dropping:g,draggingOver:u,combineWith:m,mode:p,forceShouldAnimate:null,snapshot:n(p,a,u,m,g)}}}return null}}function ro(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const $c={mapped:{type:"SECONDARY",offset:X,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:ro(null)}};function Fc(){const e=Y((s,a)=>({x:s,y:a})),n=Y(ro),t=Y((s,a=null,c)=>({mapped:{type:"SECONDARY",offset:s,combineTargetFor:a,shouldAnimateDisplacement:c,snapshot:n(a)}})),r=s=>s?t(X,s,!0):null,o=(s,a,c,d)=>{const p=c.displaced.visible[s],u=!!(d.inVirtualList&&d.effected[s]),m=ln(c),f=m&&m.draggableId===s?a:null;if(!p){if(!u)return r(f);if(c.displaced.invisible[s])return null;const h=we(d.displacedBy.point),x=e(h.x,h.y);return t(x,f,!0)}if(u)return r(f);const g=c.displacedBy.point,N=e(g.x,g.y);return t(N,f,p.shouldAnimate)};return(s,a)=>{if($e(s))return s.critical.draggable.id===a.draggableId?null:o(a.draggableId,s.critical.draggable.id,s.impact,s.afterCritical);if(s.phase==="DROP_ANIMATING"){const c=s.completed;return c.result.draggableId===a.draggableId?null:o(a.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null}}const Gc=()=>{const e=Mc(),n=Fc();return(r,o)=>e(r,o)||n(r,o)||$c},Hc={dropAnimationFinished:Pr},Wc=nr(Gc,Hc,null,{context:Zn,areStatePropsEqual:no})(_c);function oo(e){return on(ot).isUsingCloneFor===e.draggableId&&!e.isClone?null:$.createElement(Wc,e)}function io(e){const n=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,t=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return $.createElement(oo,tr({},e,{isClone:!1,isEnabled:n,canDragInteractiveElements:t,shouldRespectForcePress:r}))}const it=e=>n=>e===n,zc=it("scroll"),Uc=it("auto"),qc=it("visible"),Bt=(e,n)=>n(e.overflowX)||n(e.overflowY),Yc=(e,n)=>n(e.overflowX)&&n(e.overflowY),so=e=>{const n=window.getComputedStyle(e),t={overflowX:n.overflowX,overflowY:n.overflowY};return Bt(t,zc)||Bt(t,Uc)},Xc=()=>{const e=Me(),n=document.documentElement;if(n||E(),!so(e))return!1;const t=window.getComputedStyle(n),r={overflowX:t.overflowX,overflowY:t.overflowY};return Yc(r,qc)||O(`
    We have detected that your <body> element might be a scroll container.
    We have found no reliable way of detecting whether the <body> element is a scroll container.
    Under most circumstances a <body> scroll bar will be on the <html> element (document.documentElement)

    Because we cannot determine if the <body> is a scroll container, and generally it is not one,
    we will be treating the <body> as *not* a scroll container

    More information: https://github.com/hello-pangea/dnd/blob/main/docs/guides/how-we-detect-scroll-containers.md
  `),!1},st=e=>e==null?null:e===document.body?Xc()?e:null:e===document.documentElement?null:so(e)?e:st(e.parentElement);var Kc=e=>{!e||!st(e.parentElement)||O(`
    Droppable: unsupported nested scroll container detected.
    A Droppable can only have one scroll parent (which can be itself)
    Nested scroll containers are currently not supported.

    We hope to support nested scroll containers soon: https://github.com/atlassian/react-beautiful-dnd/issues/131
  `)},Ln=e=>({x:e.scrollLeft,y:e.scrollTop});const lo=e=>e?window.getComputedStyle(e).position==="fixed"?!0:lo(e.parentElement):!1;var Jc=e=>{const n=st(e),t=lo(e);return{closestScrollable:n,isFixedOnPage:t}},Qc=({descriptor:e,isEnabled:n,isCombineEnabled:t,isFixedOnPage:r,direction:o,client:i,page:s,closest:a})=>{const c=(()=>{if(!a)return null;const{scrollSize:m,client:f}=a,g=Or({scrollHeight:m.scrollHeight,scrollWidth:m.scrollWidth,height:f.paddingBox.height,width:f.paddingBox.width});return{pageMarginBox:a.page.marginBox,frameClient:f,scrollSize:m,shouldClipSubject:a.shouldClipSubject,scroll:{initial:a.scroll,current:a.scroll,max:g,diff:{value:X,displacement:X}}}})(),d=o==="vertical"?Fn:br,p=De({page:s,withPlaceholder:null,axis:d,frame:c});return{descriptor:e,isCombineEnabled:t,isFixedOnPage:r,axis:d,isEnabled:n,client:i,page:s,frame:c,subject:p}};const Zc=(e,n)=>{const t=lr(e);if(!n||e!==n)return t;const r=t.paddingBox.top-n.scrollTop,o=t.paddingBox.left-n.scrollLeft,i=r+n.scrollHeight,s=o+n.scrollWidth,c=kn({top:r,right:s,bottom:i,left:o},t.border);return On({borderBox:c,margin:t.margin,border:t.border,padding:t.padding})};var ed=({ref:e,descriptor:n,env:t,windowScroll:r,direction:o,isDropDisabled:i,isCombineEnabled:s,shouldClipSubject:a})=>{const c=t.closestScrollable,d=Zc(e,c),p=en(d,r),u=(()=>{if(!c)return null;const f=lr(c),g={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:f,page:en(f,r),scroll:Ln(c),scrollSize:g,shouldClipSubject:a}})();return Qc({descriptor:n,isEnabled:!i,isCombineEnabled:s,isFixedOnPage:t.isFixedOnPage,direction:o,client:d,page:p,closest:u})};const nd={passive:!1},td={passive:!0};var _t=e=>e.shouldPublishImmediately?nd:td;const Ye=e=>e&&e.env.closestScrollable||null;function rd(e){const n=b.useRef(null),t=on(dn),r=et("droppable"),{registry:o,marshal:i}=t,s=tt(e),a=B(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),c=b.useRef(a),d=B(()=>Y((y,D)=>{n.current||E(!1,"Can only update scroll when dragging");const I={x:y,y:D};i.updateDroppableScroll(a.id,I)}),[a.id,i]),p=V(()=>{const y=n.current;return!y||!y.env.closestScrollable?X:Ln(y.env.closestScrollable)},[]),u=V(()=>{const y=p();d(y.x,y.y)},[p,d]),m=B(()=>Le(u),[u]),f=V(()=>{const y=n.current,D=Ye(y);if(y&&D||E(!1,"Could not find scroll options while scrolling"),y.scrollOptions.shouldPublishImmediately){u();return}m()},[m,u]),g=V((y,D)=>{n.current&&E(!1,"Cannot collect a droppable while a drag is occurring");const I=s.current,R=I.getDroppableRef();R||E(!1,"Cannot collect without a droppable ref");const k=Jc(R),W={ref:R,descriptor:a,env:k,scrollOptions:D};n.current=W;const L=ed({ref:R,descriptor:a,env:k,windowScroll:y,direction:I.direction,isDropDisabled:I.isDropDisabled,isCombineEnabled:I.isCombineEnabled,shouldClipSubject:!I.ignoreContainerClipping}),z=k.closestScrollable;return z&&(z.setAttribute(At.contextId,t.contextId),z.addEventListener("scroll",f,_t(W.scrollOptions)),Kc(z)),L},[t.contextId,a,f,s]),N=V(()=>{const y=n.current,D=Ye(y);return y&&D||E(!1,"Can only recollect Droppable client for Droppables that have a scroll container"),Ln(D)},[]),h=V(()=>{const y=n.current;y||E(!1,"Cannot stop drag when no active drag");const D=Ye(y);n.current=null,D&&(m.cancel(),D.removeAttribute(At.contextId),D.removeEventListener("scroll",f,_t(y.scrollOptions)))},[f,m]),x=V(y=>{const D=n.current;D||E(!1,"Cannot scroll when there is no drag");const I=Ye(D);I||E(!1,"Cannot scroll a droppable with no closest scrollable"),I.scrollTop+=y.y,I.scrollLeft+=y.x},[]),v=B(()=>({getDimensionAndWatchScroll:g,getScrollWhileDragging:N,dragStopped:h,scroll:x}),[h,g,N,x]),w=B(()=>({uniqueId:r,descriptor:a,callbacks:v}),[v,a,r]);oe(()=>(c.current=w.descriptor,o.droppable.register(w),()=>{n.current&&(O("Unsupported: changing the droppableId or type of a Droppable during a drag"),h()),o.droppable.unregister(w)}),[v,a,h,w,i,o.droppable]),oe(()=>{n.current&&i.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,i]),oe(()=>{n.current&&i.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,i])}function vn(){}const kt={width:0,height:0,margin:Zi},od=({isAnimatingOpenOnMount:e,placeholder:n,animate:t})=>e||t==="close"?kt:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin},id=({isAnimatingOpenOnMount:e,placeholder:n,animate:t})=>{const r=od({isAnimatingOpenOnMount:e,placeholder:n,animate:t});return{display:n.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:t!=="none"?Re.placeholder:null}},sd=e=>{const n=b.useRef(null),t=V(()=>{n.current&&(clearTimeout(n.current),n.current=null)},[]),{animate:r,onTransitionEnd:o,onClose:i,contextId:s}=e,[a,c]=b.useState(e.animate==="open");b.useEffect(()=>a?r!=="open"?(t(),c(!1),vn):n.current?vn:(n.current=setTimeout(()=>{n.current=null,c(!1)}),t):vn,[r,a,t]);const d=V(u=>{u.propertyName==="height"&&(o(),r==="close"&&i())},[r,i,o]),p=id({isAnimatingOpenOnMount:a,animate:e.animate,placeholder:e.placeholder});return $.createElement(e.placeholder.tagName,{style:p,"data-rfd-placeholder-context-id":s,onTransitionEnd:d,ref:e.innerRef})};var ld=$.memo(sd);function Dn(e){return typeof e=="boolean"}function En(e,n){n.forEach(t=>t(e))}const ad=[function({props:n}){n.droppableId||E(!1,"A Droppable requires a droppableId prop"),typeof n.droppableId!="string"&&E(!1,`A Droppable requires a [string] droppableId. Provided: [${typeof n.droppableId}]`)},function({props:n}){Dn(n.isDropDisabled)||E(!1,"isDropDisabled must be a boolean"),Dn(n.isCombineEnabled)||E(!1,"isCombineEnabled must be a boolean"),Dn(n.ignoreContainerClipping)||E(!1,"ignoreContainerClipping must be a boolean")},function({getDroppableRef:n}){eo(n())}],cd=[function({props:n,getPlaceholderRef:t}){!n.placeholder||t()||O(`
      Droppable setup issue [droppableId: "${n.droppableId}"]:
      DroppableProvided > placeholder could not be found.

      Please be sure to add the {provided.placeholder} React Node as a child of your Droppable.
      More information: https://github.com/hello-pangea/dnd/blob/main/docs/api/droppable.md
    `)}],dd=[function({props:n}){n.renderClone||E(!1,"Must provide a clone render function (renderClone) for virtual lists")},function({getPlaceholderRef:n}){n()&&E(!1,"Expected virtual list to not have a placeholder")}];function ud(e){ze(()=>{En(e,ad),e.props.mode==="standard"&&En(e,cd),e.props.mode==="virtual"&&En(e,dd)})}class md extends $.PureComponent{constructor(...n){super(...n),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(n,t){return n.shouldAnimate?n.on?{isVisible:!0,data:n.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!n.on,data:n.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const n={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(n)}}const pd=e=>{const n=b.useContext(dn);n||E(!1,"Could not find app context");const{contextId:t,isMovementAllowed:r}=n,o=b.useRef(null),i=b.useRef(null),{children:s,droppableId:a,type:c,mode:d,direction:p,ignoreContainerClipping:u,isDropDisabled:m,isCombineEnabled:f,snapshot:g,useClone:N,updateViewportMaxScroll:h,getContainerForClone:x}=e,v=V(()=>o.current,[]),w=V((M=null)=>{o.current=M},[]),y=V(()=>i.current,[]),D=V((M=null)=>{i.current=M},[]);ud({props:e,getDroppableRef:v,getPlaceholderRef:y});const I=V(()=>{r()&&h({maxScroll:$r()})},[r,h]);rd({droppableId:a,type:c,mode:d,direction:p,isDropDisabled:m,isCombineEnabled:f,ignoreContainerClipping:u,getDroppableRef:v});const R=B(()=>$.createElement(md,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:M,data:F,animate:S})=>$.createElement(ld,{placeholder:F,onClose:M,innerRef:D,animate:S,contextId:t,onTransitionEnd:I})),[t,I,e.placeholder,e.shouldAnimatePlaceholder,D]),k=B(()=>({innerRef:w,placeholder:R,droppableProps:{"data-rfd-droppable-id":a,"data-rfd-droppable-context-id":t}}),[t,a,R,w]),W=N?N.dragging.draggableId:null,L=B(()=>({droppableId:a,type:c,isUsingCloneFor:W}),[a,W,c]);function z(){if(!N)return null;const{dragging:M,render:F}=N,S=$.createElement(oo,{draggableId:M.draggableId,index:M.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(Q,ce)=>F(Q,ce,M));return $o.createPortal(S,x())}return $.createElement(ot.Provider,{value:L},s(k,g),z())};function fd(){return document.body||E(!1,"document.body is not ready"),document.body}const Ot={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:fd},ao=e=>{let n={...e},t;for(t in Ot)e[t]===void 0&&(n={...n,[t]:Ot[t]});return n},yn=(e,n)=>e===n.droppable.type,Mt=(e,n)=>n.draggables[e.draggable.id],gd=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},n={...e,shouldAnimatePlaceholder:!1},t=Y(i=>({draggableId:i.id,type:i.type,source:{index:i.index,droppableId:i.droppableId}})),r=Y((i,s,a,c,d,p)=>{const u=d.descriptor.id;if(d.descriptor.droppableId===i){const g=p?{render:p,dragging:t(d.descriptor)}:null,N={isDraggingOver:a,draggingOverWith:a?u:null,draggingFromThisWith:u,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!1,snapshot:N,useClone:g}}if(!s)return n;if(!c)return e;const f={isDraggingOver:a,draggingOverWith:u,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!0,snapshot:f,useClone:null}});return(i,s)=>{const a=ao(s),c=a.droppableId,d=a.type,p=!a.isDropDisabled,u=a.renderClone;if($e(i)){const m=i.critical;if(!yn(d,m))return n;const f=Mt(m,i.dimensions),g=re(i.impact)===c;return r(c,p,g,g,f,u)}if(i.phase==="DROP_ANIMATING"){const m=i.completed;if(!yn(d,m.critical))return n;const f=Mt(m.critical,i.dimensions);return r(c,p,to(m.result)===c,re(m.impact)===c,f,u)}if(i.phase==="IDLE"&&i.completed&&!i.shouldFlush){const m=i.completed;if(!yn(d,m.critical))return n;const f=re(m.impact)===c,g=!!(m.impact.at&&m.impact.at.type==="COMBINE"),N=m.critical.droppable.id===c;return f?g?e:n:N?e:n}return n}},hd={updateViewportMaxScroll:ul},bd=nr(gd,hd,(e,n,t)=>({...ao(t),...e,...n}),{context:Zn,areStatePropsEqual:no})(pd),Nd=({showMinutes:e,onToggleMinutes:n})=>l.jsxDEV("div",{className:"flex justify-end items-center space-x-2 p-2 rounded",children:[l.jsxDEV(Ni,{id:"show-minutes",checked:e,onCheckedChange:n,className:"bg-emerald-400 hover:bg-emerald-300"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/table/MinutesToggle.tsx",lineNumber:17,columnNumber:7},void 0),l.jsxDEV(To,{htmlFor:"show-minutes",className:"mr-1 sm:mr-2 text-sm sm:text-base font-medium",children:"×”×¦×’×ª ×–××Ÿ ×‘×“×§×•×ª"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/table/MinutesToggle.tsx",lineNumber:23,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/table/MinutesToggle.tsx",lineNumber:16,columnNumber:5},void 0),xd=({id:e,name:n,duration:t,onDelete:r,onDurationChange:o,onBreakTextChange:i,isAuthenticated:s,showMinutes:a=!1,isBackupShow:c=!1})=>{const d=s?4:3;return l.jsxDEV(l.Fragment,{children:a?l.jsxDEV(l.Fragment,{children:[l.jsxDEV("td",{colSpan:d,className:"py-2 px-4 border border-gray-200 bg-black/10",children:l.jsxDEV(U,{value:n,onChange:p=>i(e,p.target.value),className:"w-full text-center border-0 bg-transparent font-medium text-base"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/BreakItem.tsx",lineNumber:38,columnNumber:13},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/BreakItem.tsx",lineNumber:37,columnNumber:11},void 0),l.jsxDEV("td",{className:"py-2 px-4 border border-gray-200 bg-black/10 text-center w-24",children:l.jsxDEV(U,{type:"number",min:"0",value:t,onChange:p=>o(e,parseInt(p.target.value)||0),className:"w-20 text-center bg-transparent border-0 mx-auto"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/BreakItem.tsx",lineNumber:45,columnNumber:13},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/BreakItem.tsx",lineNumber:44,columnNumber:11},void 0),l.jsxDEV("td",{className:"py-2 px-4 border border-gray-200 bg-black/10",children:l.jsxDEV("div",{className:"flex justify-center gap-2",children:[!c&&l.jsxDEV(j,{variant:"ghost",size:"icon",onClick:()=>r(e),children:l.jsxDEV(Ne,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/BreakItem.tsx",lineNumber:61,columnNumber:19},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/BreakItem.tsx",lineNumber:56,columnNumber:17},void 0),l.jsxDEV("div",{className:"cursor-move",children:l.jsxDEV(Je,{className:"h-4 w-4 text-gray-400"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/BreakItem.tsx",lineNumber:65,columnNumber:17},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/BreakItem.tsx",lineNumber:64,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/BreakItem.tsx",lineNumber:54,columnNumber:13},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/BreakItem.tsx",lineNumber:53,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/BreakItem.tsx",lineNumber:36,columnNumber:9},void 0):l.jsxDEV(l.Fragment,{children:[l.jsxDEV("td",{colSpan:d,className:"py-2 px-4 border border-gray-200 bg-black/10 text-center",children:l.jsxDEV(U,{value:n,onChange:p=>i(e,p.target.value),className:"w-full text-center border-0 bg-transparent font-medium text-base"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/BreakItem.tsx",lineNumber:74,columnNumber:13},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/BreakItem.tsx",lineNumber:73,columnNumber:11},void 0),l.jsxDEV("td",{className:"py-2 px-4 border border-gray-200 bg-black/10",children:l.jsxDEV("div",{className:"flex justify-center gap-2",children:[!c&&l.jsxDEV(j,{variant:"ghost",size:"icon",onClick:()=>r(e),children:l.jsxDEV(Ne,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/BreakItem.tsx",lineNumber:88,columnNumber:19},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/BreakItem.tsx",lineNumber:83,columnNumber:17},void 0),l.jsxDEV("div",{className:"cursor-move",children:l.jsxDEV(Je,{className:"h-4 w-4 text-gray-400"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/BreakItem.tsx",lineNumber:92,columnNumber:17},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/BreakItem.tsx",lineNumber:91,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/BreakItem.tsx",lineNumber:81,columnNumber:13},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/BreakItem.tsx",lineNumber:80,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/BreakItem.tsx",lineNumber:72,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/BreakItem.tsx",lineNumber:33,columnNumber:5},void 0)},vd=({id:e,editor:n,duration:t,onDelete:r,onDurationChange:o,isAuthenticated:i,showMinutes:s=!1,isBackupShow:a=!1})=>l.jsxDEV(l.Fragment,{children:s?l.jsxDEV(l.Fragment,{children:[l.jsxDEV("td",{colSpan:4,className:"py-2 px-4 border border-gray-200",children:n?.isEditable?l.jsxDEV("div",{className:"prose prose-sm max-w-none text-center",children:n&&l.jsxDEV(Ke,{editor:n},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/NoteItem.tsx",lineNumber:42,columnNumber:28},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/NoteItem.tsx",lineNumber:41,columnNumber:15},void 0):l.jsxDEV("div",{className:"prose prose-sm max-w-none text-center",dangerouslySetInnerHTML:{__html:lt(n?.getHTML()||"")}},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/NoteItem.tsx",lineNumber:45,columnNumber:15},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/NoteItem.tsx",lineNumber:39,columnNumber:11},void 0),l.jsxDEV("td",{className:"py-2 px-4 border border-gray-200 text-center w-24",children:l.jsxDEV(U,{type:"number",min:"0",value:t,onChange:c=>o(e,parseInt(c.target.value)||0),className:"w-20 text-center mx-auto"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/NoteItem.tsx",lineNumber:49,columnNumber:13},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/NoteItem.tsx",lineNumber:48,columnNumber:11},void 0),l.jsxDEV("td",{className:"py-2 px-4 border border-gray-200",children:l.jsxDEV("div",{className:"flex items-center justify-center gap-2",children:[!a&&l.jsxDEV(j,{variant:"ghost",size:"icon",onClick:()=>r(e),children:l.jsxDEV(Ne,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/NoteItem.tsx",lineNumber:65,columnNumber:19},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/NoteItem.tsx",lineNumber:60,columnNumber:17},void 0),l.jsxDEV("div",{className:"cursor-move",children:l.jsxDEV(Je,{className:"h-4 w-4 text-gray-400"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/NoteItem.tsx",lineNumber:69,columnNumber:17},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/NoteItem.tsx",lineNumber:68,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/NoteItem.tsx",lineNumber:58,columnNumber:13},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/NoteItem.tsx",lineNumber:57,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/NoteItem.tsx",lineNumber:38,columnNumber:9},void 0):l.jsxDEV(l.Fragment,{children:[l.jsxDEV("td",{colSpan:4,className:"py-2 px-4 border border-gray-200 text-center",children:n?.isEditable?l.jsxDEV("div",{className:"prose prose-sm max-w-none text-center",children:n&&l.jsxDEV(Ke,{editor:n},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/NoteItem.tsx",lineNumber:80,columnNumber:28},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/NoteItem.tsx",lineNumber:79,columnNumber:15},void 0):l.jsxDEV("div",{className:"prose prose-sm max-w-none text-center",dangerouslySetInnerHTML:{__html:lt(n?.getHTML()||"")}},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/NoteItem.tsx",lineNumber:83,columnNumber:15},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/NoteItem.tsx",lineNumber:77,columnNumber:11},void 0),l.jsxDEV("td",{className:"py-2 px-4 border border-gray-200",children:l.jsxDEV("div",{className:"flex items-center justify-center gap-2",children:[!a&&l.jsxDEV(j,{variant:"ghost",size:"icon",onClick:()=>r(e),children:l.jsxDEV(Ne,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/NoteItem.tsx",lineNumber:94,columnNumber:19},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/NoteItem.tsx",lineNumber:89,columnNumber:17},void 0),l.jsxDEV("div",{className:"cursor-move",children:l.jsxDEV(Je,{className:"h-4 w-4 text-gray-400"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/NoteItem.tsx",lineNumber:98,columnNumber:17},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/NoteItem.tsx",lineNumber:97,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/NoteItem.tsx",lineNumber:87,columnNumber:13},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/NoteItem.tsx",lineNumber:86,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/NoteItem.tsx",lineNumber:76,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/NoteItem.tsx",lineNumber:35,columnNumber:5},void 0),Dd=({open:e,onOpenChange:n,item:t,onSave:r})=>{const o=b.useRef({name:t?.name||"",title:t?.title||"",phone:t?.phone||"",duration:t?.duration||0,details:t?.details||""}),[i,s]=b.useState(o.current),[a,c]=b.useState(!1),[d,p]=b.useState(!1);b.useEffect(()=>{if(e&&t){const g={name:t.name||"",title:t.title||"",phone:t.phone||"",duration:t.duration||0,details:t.details||""};o.current=g,s(g),c(!1)}},[e,t?.id]),b.useEffect(()=>{if(!e)return;const g={name:t.name||"",title:t.title||"",phone:t.phone||"",duration:t.duration||0,details:t.details||""},N=i.name!==g.name||i.title!==g.title||i.phone!==g.phone||i.duration!==g.duration||i.details!==g.details;c(N)},[i,t,e]);const u=()=>{a?p(!0):n(!1)},m=()=>{const g={...t,name:i.name.trim(),title:i.title,phone:i.phone,duration:i.duration,details:i.details,interviewees:t.interviewees||[]};r(g),c(!1),n(!1)},f=(g,N)=>{o.current={...o.current,[g]:N},s(h=>({...h,[g]:N}))};return l.jsxDEV(l.Fragment,{children:[l.jsxDEV(Lo,{open:e,onOpenChange:u,children:l.jsxDEV(Po,{className:"w-[95vw] max-w-[500px] max-h-[90vh] overflow-y-auto",children:[l.jsxDEV(Bo,{children:[l.jsxDEV(_o,{className:"text-right",children:"×¢×¨×™×›×ª ×¤×¨×™×˜"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/EditItemDialog.tsx",lineNumber:133,columnNumber:13},void 0),l.jsxDEV("button",{onClick:u,className:"absolute left-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:text-muted-foreground",children:[l.jsxDEV(Fe,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/EditItemDialog.tsx",lineNumber:138,columnNumber:15},void 0),l.jsxDEV("span",{className:"sr-only",children:"Close"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/EditItemDialog.tsx",lineNumber:139,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/EditItemDialog.tsx",lineNumber:134,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/EditItemDialog.tsx",lineNumber:132,columnNumber:11},void 0),l.jsxDEV("div",{className:"space-y-4 mt-4",children:[l.jsxDEV("div",{className:"space-y-4",children:[l.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-2 sm:gap-4 items-center",children:[l.jsxDEV("label",{className:"text-sm font-medium text-right sm:col-span-1",children:"×©×:"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/EditItemDialog.tsx",lineNumber:146,columnNumber:17},void 0),l.jsxDEV(U,{value:i.name,onChange:g=>f("name",g.target.value),className:"sm:col-span-3",placeholder:"×©× ×”×¤×¨×™×˜"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/EditItemDialog.tsx",lineNumber:147,columnNumber:17},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/EditItemDialog.tsx",lineNumber:145,columnNumber:15},void 0),l.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-2 sm:gap-4 items-center",children:[l.jsxDEV("label",{className:"text-sm font-medium text-right sm:col-span-1",children:"×›×•×ª×¨×ª:"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/EditItemDialog.tsx",lineNumber:156,columnNumber:17},void 0),l.jsxDEV(U,{value:i.title,onChange:g=>f("title",g.target.value),className:"sm:col-span-3",placeholder:"×›×•×ª×¨×ª ×”×¤×¨×™×˜"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/EditItemDialog.tsx",lineNumber:157,columnNumber:17},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/EditItemDialog.tsx",lineNumber:155,columnNumber:15},void 0),l.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-2 sm:gap-4 items-center",children:[l.jsxDEV("label",{className:"text-sm font-medium text-right sm:col-span-1",children:"×˜×œ×¤×•×Ÿ:"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/EditItemDialog.tsx",lineNumber:166,columnNumber:17},void 0),l.jsxDEV(U,{value:i.phone,onChange:g=>f("phone",g.target.value),className:"sm:col-span-3",placeholder:"××¡×¤×¨ ×˜×œ×¤×•×Ÿ"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/EditItemDialog.tsx",lineNumber:167,columnNumber:17},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/EditItemDialog.tsx",lineNumber:165,columnNumber:15},void 0),l.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-2 sm:gap-4 items-center",children:[l.jsxDEV("label",{className:"text-sm font-medium text-right sm:col-span-1",children:"××©×š (×“×§×•×ª):"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/EditItemDialog.tsx",lineNumber:176,columnNumber:17},void 0),l.jsxDEV(U,{type:"number",value:i.duration,onChange:g=>f("duration",parseInt(g.target.value)||0),className:"sm:col-span-3",placeholder:"0"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/EditItemDialog.tsx",lineNumber:177,columnNumber:17},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/EditItemDialog.tsx",lineNumber:175,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/EditItemDialog.tsx",lineNumber:144,columnNumber:13},void 0),l.jsxDEV("div",{className:"space-y-2",children:[l.jsxDEV("label",{className:"text-sm font-medium text-right block",children:"×¤×¨×˜×™×:"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/EditItemDialog.tsx",lineNumber:189,columnNumber:15},void 0),l.jsxDEV("div",{className:"border rounded-md",children:l.jsxDEV(ir,{content:i.details,onChange:g=>f("details",g),placeholder:"×”×•×¡×£ ×¤×¨×˜×™× ×¢×œ ×”×¤×¨×™×˜..."},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/EditItemDialog.tsx",lineNumber:191,columnNumber:17},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/EditItemDialog.tsx",lineNumber:190,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/EditItemDialog.tsx",lineNumber:188,columnNumber:13},void 0),l.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4 pt-4",children:[l.jsxDEV(j,{onClick:m,className:"w-full sm:w-auto",disabled:!i.name.trim(),children:"×©××•×¨"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/EditItemDialog.tsx",lineNumber:201,columnNumber:15},void 0),l.jsxDEV(j,{variant:"outline",onClick:u,className:"w-full sm:w-auto",children:"×‘×™×˜×•×œ"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/EditItemDialog.tsx",lineNumber:208,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/EditItemDialog.tsx",lineNumber:200,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/EditItemDialog.tsx",lineNumber:142,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/EditItemDialog.tsx",lineNumber:131,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/EditItemDialog.tsx",lineNumber:130,columnNumber:7},void 0),l.jsxDEV(qt,{open:d,onOpenChange:p,children:l.jsxDEV(Yt,{children:[l.jsxDEV(Xt,{children:[l.jsxDEV(Kt,{children:"×©×™× ×•×™×™× ×œ× × ×©××¨×•"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/EditItemDialog.tsx",lineNumber:224,columnNumber:13},void 0),l.jsxDEV(Jt,{children:"×™×© ×œ×š ×©×™× ×•×™×™× ×©×œ× × ×©××¨×•. ×”×× ××ª×” ×‘×˜×•×— ×©×‘×¨×¦×•× ×š ×œ×¦××ª?"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/EditItemDialog.tsx",lineNumber:225,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/EditItemDialog.tsx",lineNumber:223,columnNumber:11},void 0),l.jsxDEV(Qt,{children:[l.jsxDEV(Zt,{onClick:()=>p(!1),children:"×”××©×š ×¢×¨×™×›×”"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/EditItemDialog.tsx",lineNumber:230,columnNumber:13},void 0),l.jsxDEV(er,{onClick:()=>{p(!1),n(!1)},children:"×¦× ×œ×œ× ×©××™×¨×”"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/EditItemDialog.tsx",lineNumber:233,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/EditItemDialog.tsx",lineNumber:229,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/EditItemDialog.tsx",lineNumber:222,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/EditItemDialog.tsx",lineNumber:221,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/EditItemDialog.tsx",lineNumber:129,columnNumber:5},void 0)},Ed=async e=>{console.log("Getting interviewees for item:",e);const{data:n,error:t}=await Te.query("/interviewees",{where:{item_id:e}});if(t)throw console.error("Error getting interviewees:",t),t;return console.log("Retrieved interviewees:",n),n||[]},yd=({onAdd:e})=>{const[n,t]=b.useState([]),[r,o]=b.useState(!1),[i,s]=b.useState(""),a=async d=>{const p=d.target.value;if(s(p),p.length>2){o(!0);try{const u=await rr(p);t(u.map(m=>({name:m.name,title:m.title,phone:m.phone||""})))}catch(u){console.error("Error searching guests:",u),G.error("×©×’×™××” ×‘×—×™×¤×•×© ××•×¨×—×™×"),t([])}finally{o(!1)}}else t([])},c=d=>{s(""),e({...d,phone:or(d.phone)}),t([])};return l.jsxDEV("div",{className:"relative",children:[l.jsxDEV("div",{className:"relative",children:[l.jsxDEV(U,{placeholder:"×—×¤×© ××¨×•××™×™×Ÿ ×§×™×™×...",onChange:a,value:i,autoComplete:"off",className:"w-full text-right pr-8 text-sm",size:1},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/form/IntervieweeSearch.tsx",lineNumber:55,columnNumber:9},void 0),r&&l.jsxDEV("div",{className:"absolute left-2 top-1/2 transform -translate-y-1/2",children:l.jsxDEV(ii,{className:"h-3 w-3 animate-spin text-gray-400"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/form/IntervieweeSearch.tsx",lineNumber:65,columnNumber:13},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/form/IntervieweeSearch.tsx",lineNumber:64,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/form/IntervieweeSearch.tsx",lineNumber:54,columnNumber:7},void 0),n.length>0&&l.jsxDEV("div",{className:"absolute z-10 w-full bg-white border border-gray-200 rounded-md shadow-lg mt-1 max-h-32 overflow-y-auto",children:n.map((d,p)=>l.jsxDEV("div",{className:"px-3 py-2 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0",onClick:()=>c(d),children:[l.jsxDEV("div",{className:"font-medium text-gray-900 text-sm",children:d.name},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/form/IntervieweeSearch.tsx",lineNumber:78,columnNumber:15},void 0),d.title&&l.jsxDEV("div",{className:"text-xs text-gray-600",children:d.title},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/form/IntervieweeSearch.tsx",lineNumber:80,columnNumber:17},void 0),d.phone&&l.jsxDEV("div",{className:"text-xs text-gray-500",children:d.phone},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/form/IntervieweeSearch.tsx",lineNumber:83,columnNumber:17},void 0)]},p,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/form/IntervieweeSearch.tsx",lineNumber:73,columnNumber:13},void 0))},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/form/IntervieweeSearch.tsx",lineNumber:71,columnNumber:9},void 0),i.length>0&&i.length<=2&&l.jsxDEV("div",{className:"absolute z-10 w-full bg-white border border-gray-200 rounded-md shadow-lg mt-1 p-2 text-center text-gray-500 text-xs",children:"×”×–×Ÿ ×œ×¤×—×•×ª 3 ×ª×•×•×™× ×œ×—×™×¤×•×©"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/form/IntervieweeSearch.tsx",lineNumber:91,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/form/IntervieweeSearch.tsx",lineNumber:53,columnNumber:5},void 0)},wd=({itemId:e,duration:n,onAdd:t,onClose:r})=>{const[o,i]=b.useState({name:"",title:"",phone:""}),s=()=>{if(o.name.trim()){const c={id:Qe(),item_id:e,name:o.name.trim(),title:o.title.trim(),phone:o.phone.trim(),duration:n};t(c),i({name:"",title:"",phone:""}),r(),G.success("××¨×•××™×™×Ÿ × ×•×¡×£ ×‘×”×¦×œ×—×”")}else G.error("×™×© ×œ×”×–×™×Ÿ ×©× ××¨×•××™×™×Ÿ")},a=c=>{c.key==="Enter"&&o.name.trim()&&s()};return l.jsxDEV("div",{className:"space-y-3",children:[l.jsxDEV("div",{children:[l.jsxDEV("h4",{className:"text-xs font-medium text-gray-700 mb-2",children:"×—×™×¤×•×© ××¨×•××™×™×Ÿ ×§×™×™×"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/interviewees/IntervieweeForm.tsx",lineNumber:54,columnNumber:9},void 0),l.jsxDEV(yd,{onAdd:async c=>{try{const d={id:Qe(),item_id:e,name:c.name.trim(),title:c.title,phone:c.phone,duration:n};t(d),r(),G.success("××¨×•××™×™×Ÿ × ×•×¡×£ ×‘×”×¦×œ×—×”")}catch(d){console.error("Error adding interviewee:",d),G.error("×©×’×™××” ×‘×”×•×¡×¤×ª ××¨×•××™×™×Ÿ")}}},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/interviewees/IntervieweeForm.tsx",lineNumber:55,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/interviewees/IntervieweeForm.tsx",lineNumber:53,columnNumber:7},void 0),l.jsxDEV("div",{className:"relative",children:[l.jsxDEV("div",{className:"absolute inset-0 flex items-center",children:l.jsxDEV("span",{className:"w-full border-t border-gray-200"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/interviewees/IntervieweeForm.tsx",lineNumber:79,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/interviewees/IntervieweeForm.tsx",lineNumber:78,columnNumber:9},void 0),l.jsxDEV("div",{className:"relative flex justify-center text-xs uppercase",children:l.jsxDEV("span",{className:"bg-gray-50 px-2 text-gray-500",children:"××•"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/interviewees/IntervieweeForm.tsx",lineNumber:82,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/interviewees/IntervieweeForm.tsx",lineNumber:81,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/interviewees/IntervieweeForm.tsx",lineNumber:77,columnNumber:7},void 0),l.jsxDEV("div",{children:[l.jsxDEV("h4",{className:"text-xs font-medium text-gray-700 mb-2",children:"×”×•×¡×¤×” ×™×“× ×™×ª"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/interviewees/IntervieweeForm.tsx",lineNumber:88,columnNumber:9},void 0),l.jsxDEV("div",{className:"grid grid-cols-1 gap-2",children:[l.jsxDEV(U,{placeholder:"×©× ××¨×•××™×™×Ÿ *",autoComplete:"off",value:o.name,onChange:c=>i(d=>({...d,name:c.target.value})),onKeyPress:a,className:"text-right text-sm",size:1},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/interviewees/IntervieweeForm.tsx",lineNumber:90,columnNumber:11},void 0),l.jsxDEV("div",{className:"grid grid-cols-2 gap-2",children:[l.jsxDEV(U,{placeholder:"×ª×¤×§×™×“/×§×¨×“×™×˜",value:o.title,onChange:c=>i(d=>({...d,title:c.target.value})),onKeyPress:a,className:"text-right text-sm",size:1},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/interviewees/IntervieweeForm.tsx",lineNumber:100,columnNumber:13},void 0),l.jsxDEV(U,{placeholder:"×˜×œ×¤×•×Ÿ",value:o.phone,onChange:c=>i(d=>({...d,phone:c.target.value})),onKeyPress:a,className:"text-right text-sm",size:1},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/interviewees/IntervieweeForm.tsx",lineNumber:108,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/interviewees/IntervieweeForm.tsx",lineNumber:99,columnNumber:11},void 0),l.jsxDEV(j,{onClick:s,disabled:!o.name.trim(),className:"w-full",size:"sm",children:"×”×•×¡×£ ××¨×•××™×™×Ÿ"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/interviewees/IntervieweeForm.tsx",lineNumber:117,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/interviewees/IntervieweeForm.tsx",lineNumber:89,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/interviewees/IntervieweeForm.tsx",lineNumber:87,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/interviewees/IntervieweeForm.tsx",lineNumber:51,columnNumber:5},void 0)},Id=({id:e,name:n,title:t,details:r,phone:o,duration:i,interviewees:s,onDelete:a,onDurationChange:c,onEdit:d,isAuthenticated:p,showMinutes:u=!1,isBackupShow:m=!1})=>{const[f,g]=b.useState(!1),[N,h]=b.useState(!1),[x,v]=b.useState(s||[]),{displayName:w,displayHost:y}=ko(n,t),I=(()=>{if(!x||x.length<=1)return"";const S=Math.max(...x.map(Q=>(Q.title||"").length),0);return S<=50?"min-h-[85px]":S<=80?"min-h-[110px]":S<=150?"min-h-[135px]":"min-h-[160px]"})(),R=x&&x.length>1?"min-h-[75px]":"";b.useEffect(()=>{s?v(s):k()},[e,s]);const k=async()=>{try{const S=await Ed(e);v(S)}catch(S){console.error("Error loading interviewees:",S),G.error("×©×’×™××” ×‘×˜×¢×™× ×ª ××¨×•××™×™× ×™×")}},W=S=>{const Q=x.filter(ce=>ce.id!==S);M(Q),G.success("××¨×•××™×™×Ÿ × ××—×§ ×‘×”×¦×œ×—×”")},L=(S,Q)=>{const ce=x.map(ge=>ge.id===S?{...ge,...Q}:ge);M(ce),G.success("××¨×•××™×™×Ÿ ×¢×•×“×›×Ÿ ×‘×”×¦×œ×—×”")},z=S=>{const Q=[...x,S];M(Q)},M=S=>{v(S),d(e,{name:n,title:t,details:r,phone:o,duration:i,interviewees:S})},F=()=>{h(!N)};return l.jsxDEV(l.Fragment,{children:[l.jsxDEV("td",{className:`py-2 px-4 border border-gray-200 ${I}`,children:l.jsxDEV("div",{className:"text-right font-medium h-full flex flex-col",children:[l.jsxDEV("div",{className:`flex-grow ${R}`,children:w},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/RegularItem.tsx",lineNumber:142,columnNumber:11},void 0),x.length>0&&l.jsxDEV("table",{className:"w-full mt-2 border-t border-gray-100",children:l.jsxDEV("tbody",{children:x.map(S=>l.jsxDEV("tr",{className:"border-t border-gray-100",children:[l.jsxDEV("td",{className:"py-1 text-right font-medium",children:S.name},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/RegularItem.tsx",lineNumber:150,columnNumber:21},void 0),l.jsxDEV("td",{className:"py-1 w-14",children:l.jsxDEV("div",{className:"flex gap-1 justify-end",children:!m&&l.jsxDEV(l.Fragment,{children:[l.jsxDEV(j,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0",onClick:()=>L(S.id,{name:prompt("×©× ×—×“×©:",S.name)||S.name,title:prompt("×ª×¤×§×™×“ ×—×“×©:",S.title)||S.title,phone:prompt("×˜×œ×¤×•×Ÿ ×—×“×©:",S.phone)||S.phone}),children:l.jsxDEV(Cn,{className:"h-3 w-3"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/RegularItem.tsx",lineNumber:165,columnNumber:31},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/RegularItem.tsx",lineNumber:155,columnNumber:29},void 0),l.jsxDEV(j,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0",onClick:()=>W(S.id),children:l.jsxDEV(Ne,{className:"h-3 w-3"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/RegularItem.tsx",lineNumber:173,columnNumber:31},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/RegularItem.tsx",lineNumber:167,columnNumber:29},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/RegularItem.tsx",lineNumber:154,columnNumber:27},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/RegularItem.tsx",lineNumber:152,columnNumber:23},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/RegularItem.tsx",lineNumber:151,columnNumber:21},void 0)]},S.id,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/RegularItem.tsx",lineNumber:149,columnNumber:19},void 0))},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/RegularItem.tsx",lineNumber:147,columnNumber:15},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/RegularItem.tsx",lineNumber:146,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/RegularItem.tsx",lineNumber:141,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/RegularItem.tsx",lineNumber:139,columnNumber:7},void 0),l.jsxDEV("td",{className:`py-2 px-4 border border-gray-200 ${I}`,children:l.jsxDEV("div",{className:"text-right h-full flex flex-col",children:[l.jsxDEV("div",{className:`flex-grow ${R}`,children:t},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/RegularItem.tsx",lineNumber:189,columnNumber:11},void 0),x.length>0&&l.jsxDEV("table",{className:"w-full mt-2 border-t border-gray-100",children:l.jsxDEV("tbody",{children:x.map(S=>l.jsxDEV("tr",{className:"border-t border-gray-100",children:l.jsxDEV("td",{className:"py-1 text-right",children:S.title},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/RegularItem.tsx",lineNumber:197,columnNumber:21},void 0)},S.id,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/RegularItem.tsx",lineNumber:196,columnNumber:19},void 0))},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/RegularItem.tsx",lineNumber:194,columnNumber:15},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/RegularItem.tsx",lineNumber:193,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/RegularItem.tsx",lineNumber:188,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/RegularItem.tsx",lineNumber:186,columnNumber:7},void 0),l.jsxDEV("td",{className:`py-2 px-4 border border-gray-200 align-top ${I}`,children:[l.jsxDEV("div",{className:`${R}`,dangerouslySetInnerHTML:{__html:$t(r||"")}},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/RegularItem.tsx",lineNumber:207,columnNumber:9},void 0),N&&l.jsxDEV("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg border border-gray-200",children:[l.jsxDEV("div",{className:"flex justify-between items-center mb-3",children:[l.jsxDEV("h3",{className:"text-sm font-medium text-gray-900",children:"×”×•×¡×¤×ª ××¨×•××™×™×Ÿ × ×•×¡×£"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/RegularItem.tsx",lineNumber:213,columnNumber:15},void 0),l.jsxDEV(j,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>h(!1),children:l.jsxDEV(Fe,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/RegularItem.tsx",lineNumber:220,columnNumber:17},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/RegularItem.tsx",lineNumber:214,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/RegularItem.tsx",lineNumber:212,columnNumber:13},void 0),l.jsxDEV(wd,{itemId:e,duration:i,onAdd:z,onClose:()=>h(!1)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/RegularItem.tsx",lineNumber:223,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/RegularItem.tsx",lineNumber:211,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/RegularItem.tsx",lineNumber:205,columnNumber:7},void 0),p&&l.jsxDEV("td",{className:`py-2 px-4 border border-gray-200 ${I}`,children:l.jsxDEV("div",{className:"text-right h-full flex flex-col",children:[l.jsxDEV("div",{className:`flex-grow ${R}`,children:o},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/RegularItem.tsx",lineNumber:236,columnNumber:13},void 0),x.length>0&&l.jsxDEV("table",{className:"w-full mt-2 border-t border-gray-100",children:l.jsxDEV("tbody",{children:x.map(S=>l.jsxDEV("tr",{className:"border-t border-gray-100",children:l.jsxDEV("td",{className:"py-1 text-right",children:S.phone},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/RegularItem.tsx",lineNumber:244,columnNumber:23},void 0)},S.id,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/RegularItem.tsx",lineNumber:243,columnNumber:21},void 0))},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/RegularItem.tsx",lineNumber:241,columnNumber:17},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/RegularItem.tsx",lineNumber:240,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/RegularItem.tsx",lineNumber:235,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/RegularItem.tsx",lineNumber:233,columnNumber:9},void 0),u&&l.jsxDEV("td",{className:"py-2 px-4 border border-gray-200 w-24 text-center",children:l.jsxDEV(U,{type:"number",min:"1",value:i,onChange:S=>c(e,parseInt(S.target.value)||5),className:"w-20 text-center mx-auto"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/RegularItem.tsx",lineNumber:255,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/RegularItem.tsx",lineNumber:254,columnNumber:9},void 0),l.jsxDEV("td",{className:"py-2 px-4 border border-gray-200",children:l.jsxDEV("div",{className:"flex gap-2",children:!m&&l.jsxDEV(l.Fragment,{children:[l.jsxDEV(j,{variant:"ghost",size:"icon",onClick:F,className:N?"bg-blue-100 text-blue-600":"",title:"×”×•×¡×£ ××¨×•××™×™×Ÿ × ×•×¡×£",children:l.jsxDEV(si,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/RegularItem.tsx",lineNumber:275,columnNumber:17},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/RegularItem.tsx",lineNumber:268,columnNumber:15},void 0),l.jsxDEV(j,{variant:"ghost",size:"icon",onClick:()=>g(!0),children:l.jsxDEV(Cn,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/RegularItem.tsx",lineNumber:278,columnNumber:17},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/RegularItem.tsx",lineNumber:277,columnNumber:15},void 0),l.jsxDEV(j,{variant:"ghost",size:"icon",onClick:()=>a(e),children:l.jsxDEV(Ne,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/RegularItem.tsx",lineNumber:281,columnNumber:17},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/RegularItem.tsx",lineNumber:280,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/RegularItem.tsx",lineNumber:267,columnNumber:13},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/RegularItem.tsx",lineNumber:265,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/RegularItem.tsx",lineNumber:264,columnNumber:7},void 0),f&&l.jsxDEV(Dd,{open:f,onOpenChange:g,item:{id:e,name:n,title:t,details:r,phone:o,duration:i,interviewees:x},onSave:S=>{const Q={...S,interviewees:x};d(e,Q)}},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/RegularItem.tsx",lineNumber:289,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/RegularItem.tsx",lineNumber:138,columnNumber:5},void 0)},Cd=({id:e,name:n,title:t,details:r,phone:o,duration:i,is_break:s,is_note:a,is_divider:c,interviewees:d,index:p,onDelete:u,onDurationChange:m,onEdit:f,onBreakTextChange:g,onDetailsChange:N,showMinutes:h=!1,isBackupShow:x})=>{const{isAuthenticated:v}=Ft(),w=Bn({extensions:[_n],content:r||"",editorProps:{attributes:{class:"prose prose-sm focus:outline-none min-h-[50px] p-4"}},onUpdate:({editor:R})=>{N&&N(e,R.getHTML())}});b.useEffect(()=>{w&&r!==w.getHTML()&&w.commands.setContent(r||"")},[w,r]);const y=!!c,D=!!s,I=!!a;return y?null:l.jsxDEV(io,{draggableId:e,index:p,children:R=>l.jsxDEV("tr",{ref:R.innerRef,...R.draggableProps,...R.dragHandleProps,className:`${D?"bg-gray-50":""} ${I?"bg-yellow-50":""}`,children:D?l.jsxDEV(xd,{id:e,name:n,duration:i,onDelete:u,onDurationChange:m,onBreakTextChange:g,isAuthenticated:v,showMinutes:h,isBackupShow:x},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/LineupItem.tsx",lineNumber:103,columnNumber:13},void 0):I?l.jsxDEV(vd,{id:e,editor:w,duration:i,onDelete:u,onDurationChange:m,onEdit:f,isAuthenticated:v,showMinutes:h,isBackupShow:x},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/LineupItem.tsx",lineNumber:115,columnNumber:13},void 0):l.jsxDEV(Id,{id:e,name:n,title:t,details:r,phone:o,duration:i,interviewees:d,onDelete:u,onDurationChange:m,onEdit:f,isAuthenticated:v,showMinutes:h,isBackupShow:x},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/LineupItem.tsx",lineNumber:127,columnNumber:13},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/LineupItem.tsx",lineNumber:96,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/LineupItem.tsx",lineNumber:94,columnNumber:5},void 0)},Sd=({id:e,name:n,index:t,onDelete:r,onEdit:o,isAuthenticated:i,showMinutes:s=!1,isBackupShow:a=!1})=>{const[c,d]=b.useState(!1),[p,u]=b.useState(n);b.useEffect(()=>(console.log(`DividerItem ${e} (${n}) mounted at index ${t}`),console.log("DividerItem props check - this MUST be a divider item"),()=>{console.log(`DividerItem ${e} (${n}) unmounted`)}),[e,n,t]);const m=()=>{d(!0)},f=()=>{console.log(`Saving divider ${e} with text "${p}"`);const x={name:p,is_divider:!0,is_break:!1,is_note:!1};console.log("Divider update data:",x),o(e,x),console.log(`After save: explicitly set is_divider to true for item ${e}`),d(!1)},g=()=>{u(n),d(!1)},N=()=>{console.log(`Deleting divider ${e}`),r(e)},h=i?s?6:5:s?5:4;return l.jsxDEV("tr",{className:"divider-row",children:l.jsxDEV("td",{colSpan:h,className:"divider-cell py-2 px-4 border-0",children:l.jsxDEV("div",{className:"divider-header divider-text divider-heading",children:c?l.jsxDEV("div",{className:"flex items-center gap-2",children:[l.jsxDEV(U,{value:p,onChange:x=>u(x.target.value),className:"max-w-xs",autoFocus:!0},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/DividerItem.tsx",lineNumber:80,columnNumber:15},void 0),l.jsxDEV(j,{size:"sm",onClick:f,children:"×©××•×¨"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/DividerItem.tsx",lineNumber:86,columnNumber:15},void 0),l.jsxDEV(j,{size:"sm",variant:"outline",onClick:g,children:"×‘×™×˜×•×œ"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/DividerItem.tsx",lineNumber:87,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/DividerItem.tsx",lineNumber:79,columnNumber:13},void 0):l.jsxDEV("div",{className:"flex items-center justify-between",children:[l.jsxDEV("h2",{className:"text-xl font-bold",children:n},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/DividerItem.tsx",lineNumber:91,columnNumber:15},void 0),!a&&l.jsxDEV("div",{className:"flex gap-2",children:[l.jsxDEV(j,{variant:"ghost",size:"icon",onClick:m,children:l.jsxDEV(Cn,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/DividerItem.tsx",lineNumber:95,columnNumber:21},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/DividerItem.tsx",lineNumber:94,columnNumber:19},void 0),l.jsxDEV(j,{variant:"ghost",size:"icon",onClick:N,children:l.jsxDEV(Ne,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/DividerItem.tsx",lineNumber:98,columnNumber:21},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/DividerItem.tsx",lineNumber:97,columnNumber:19},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/DividerItem.tsx",lineNumber:93,columnNumber:17},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/DividerItem.tsx",lineNumber:90,columnNumber:13},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/DividerItem.tsx",lineNumber:77,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/DividerItem.tsx",lineNumber:76,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/DividerItem.tsx",lineNumber:75,columnNumber:5},void 0)},Vd=({isAuthenticated:e,showMinutes:n})=>l.jsxDEV("thead",{children:l.jsxDEV("tr",{children:[l.jsxDEV("th",{className:"py-1 sm:py-2 px-2 sm:px-4 text-right border font-bold bg-slate-300 hover:bg-slate-200 text-xs sm:text-sm",children:"×©×"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/table/LineupTableHeader.tsx",lineNumber:16,columnNumber:9},void 0),l.jsxDEV("th",{className:"py-1 sm:py-2 px-2 sm:px-4 text-right border font-bold bg-slate-300 hover:bg-slate-200 text-xs sm:text-sm",children:"×§×¨×“×™×˜"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/table/LineupTableHeader.tsx",lineNumber:17,columnNumber:9},void 0),l.jsxDEV("th",{className:"py-1 sm:py-2 px-2 sm:px-4 text-right border font-bold bg-slate-300 hover:bg-slate-200 text-xs sm:text-sm",children:"×¤×¨×˜×™×"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/table/LineupTableHeader.tsx",lineNumber:18,columnNumber:9},void 0),e&&l.jsxDEV("th",{className:"py-1 sm:py-2 px-2 sm:px-4 text-right border font-bold bg-slate-300 hover:bg-slate-200 text-xs sm:text-sm",children:"×˜×œ×¤×•×Ÿ"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/table/LineupTableHeader.tsx",lineNumber:19,columnNumber:29},void 0),n&&l.jsxDEV("th",{className:"py-1 sm:py-2 px-1 sm:px-4 text-center border font-bold bg-slate-300 hover:bg-slate-200 text-xs sm:text-sm",children:"×“×§'"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/table/LineupTableHeader.tsx",lineNumber:20,columnNumber:25},void 0),l.jsxDEV("th",{className:"py-1 sm:py-2 px-1 sm:px-4 text-right border font-bold bg-slate-300 hover:bg-slate-200 text-xs sm:text-sm",children:"×¤×¢×•×œ×•×ª"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/table/LineupTableHeader.tsx",lineNumber:21,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/table/LineupTableHeader.tsx",lineNumber:15,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/table/LineupTableHeader.tsx",lineNumber:14,columnNumber:5},void 0),Ad=({isAuthenticated:e,totalMinutes:n})=>l.jsxDEV("tfoot",{children:l.jsxDEV("tr",{children:[l.jsxDEV("td",{colSpan:e?4:3,className:"py-1 sm:py-2 px-2 sm:px-4 text-right font-bold border border-gray-200 text-xs sm:text-sm",children:"×¡×”×´×› ×“×§×•×ª"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/table/LineupTableFooter.tsx",lineNumber:16,columnNumber:9},void 0),l.jsxDEV("td",{className:"py-1 sm:py-2 px-1 sm:px-4 text-center font-bold border border-gray-200 text-xs sm:text-sm",children:n},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/table/LineupTableFooter.tsx",lineNumber:19,columnNumber:9},void 0),l.jsxDEV("td",{className:"py-1 sm:py-2 px-1 sm:px-4 border border-gray-200"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/table/LineupTableFooter.tsx",lineNumber:22,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/table/LineupTableFooter.tsx",lineNumber:15,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/table/LineupTableFooter.tsx",lineNumber:14,columnNumber:5},void 0),jd=({group:e,groupIndex:n,isLastGroup:t,showMinutes:r,isAuthenticated:o,onDelete:i,onDurationChange:s,onEdit:a,onBreakTextChange:c,onDetailsChange:d,calculateTotalMinutes:p,isBackupShow:u})=>{const m=e[0]?.is_divider===!0;return l.jsxDEV("div",{className:"table-section mb-4 sm:mb-8",children:[m&&l.jsxDEV(io,{draggableId:e[0].id,index:e[0].index,children:f=>l.jsxDEV("table",{ref:f.innerRef,...f.draggableProps,...f.dragHandleProps,className:"w-full table-fixed border-collapse mb-2",children:l.jsxDEV("tbody",{children:l.jsxDEV(Sd,{id:e[0].id,name:e[0].name,index:e[0].index,onDelete:i,onEdit:a,isAuthenticated:o,showMinutes:r,isBackupShow:u},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/table/LineupTableGroup.tsx",lineNumber:52,columnNumber:17},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/table/LineupTableGroup.tsx",lineNumber:51,columnNumber:15},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/table/LineupTableGroup.tsx",lineNumber:45,columnNumber:13},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/table/LineupTableGroup.tsx",lineNumber:43,columnNumber:9},void 0),l.jsxDEV("table",{className:"w-full table-fixed border-collapse text-sm sm:text-base",children:[l.jsxDEV("colgroup",{children:[l.jsxDEV("col",{className:"w-[20%] sm:w-[20%]"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/table/LineupTableGroup.tsx",lineNumber:70,columnNumber:11},void 0),l.jsxDEV("col",{className:"w-[15%] sm:w-[15%]"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/table/LineupTableGroup.tsx",lineNumber:71,columnNumber:11},void 0),l.jsxDEV("col",{className:"w-[35%] sm:w-[35%]"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/table/LineupTableGroup.tsx",lineNumber:72,columnNumber:11},void 0),o&&l.jsxDEV("col",{className:"w-[15%] sm:w-[15%]"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/table/LineupTableGroup.tsx",lineNumber:73,columnNumber:31},void 0),r&&l.jsxDEV("col",{className:"w-[7%] sm:w-[8%]"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/table/LineupTableGroup.tsx",lineNumber:74,columnNumber:27},void 0),l.jsxDEV("col",{className:"w-[8%] sm:w-[10%]"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/table/LineupTableGroup.tsx",lineNumber:75,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/table/LineupTableGroup.tsx",lineNumber:69,columnNumber:9},void 0),l.jsxDEV(Vd,{isAuthenticated:o,showMinutes:r},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/table/LineupTableGroup.tsx",lineNumber:78,columnNumber:9},void 0),l.jsxDEV("tbody",{children:e.slice(m?1:0).map(f=>l.jsxDEV(Cd,{...f,index:f.index,onDelete:i,onDurationChange:s,onEdit:a,onBreakTextChange:c,onDetailsChange:d,showMinutes:r,isBackupShow:u},f.id,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/table/LineupTableGroup.tsx",lineNumber:85,columnNumber:13},void 0))},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/table/LineupTableGroup.tsx",lineNumber:83,columnNumber:9},void 0),r&&t&&l.jsxDEV(Ad,{isAuthenticated:o,totalMinutes:p()},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/table/LineupTableGroup.tsx",lineNumber:101,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/table/LineupTableGroup.tsx",lineNumber:68,columnNumber:7},void 0)]},`group-${n}`,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/table/LineupTableGroup.tsx",lineNumber:41,columnNumber:5},void 0)},Rd=({items:e,onDelete:n,onDurationChange:t,onEdit:r,onBreakTextChange:o,onDetailsChange:i,onDragEnd:s,showMinutes:a=!1,onToggleMinutes:c,isBackupShow:d})=>{const[p,u]=b.useState(a),{isAuthenticated:m}=Ft();b.useEffect(()=>{u(a)},[a]);const f=h=>{u(h),c&&c(h)},g=()=>e.reduce((h,x)=>h+(x.duration||0),0),N=e.reduce((h,x,v)=>{const w=x.is_divider===!0;return x.is_break,x.is_note,w?h.push([{...x,index:v,is_divider:!0}]):h.length===0?h.push([{...x,index:v}]):h[h.length-1].push({...x,index:v}),h},[]);return l.jsxDEV("div",{className:"space-y-2 sm:space-y-4",children:[l.jsxDEV(Nd,{showMinutes:p,onToggleMinutes:f},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/LineupTable.tsx",lineNumber:88,columnNumber:7},void 0),l.jsxDEV("div",{className:"hidden md:block lineup-table-wrapper",children:l.jsxDEV(wc,{onDragEnd:s,children:l.jsxDEV(bd,{droppableId:"lineup",children:h=>l.jsxDEV("div",{ref:h.innerRef,...h.droppableProps,className:"min-h-[200px]",children:[N.map((x,v)=>l.jsxDEV(jd,{group:x,groupIndex:v,isLastGroup:v===N.length-1,showMinutes:p,isAuthenticated:m,onDelete:n,onDurationChange:t,onEdit:r,onBreakTextChange:o,onDetailsChange:i,calculateTotalMinutes:g,isBackupShow:d},`group-${v}`,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/LineupTable.tsx",lineNumber:100,columnNumber:19},void 0)),h.placeholder]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/LineupTable.tsx",lineNumber:98,columnNumber:15},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/LineupTable.tsx",lineNumber:96,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/LineupTable.tsx",lineNumber:95,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/LineupTable.tsx",lineNumber:94,columnNumber:7},void 0),l.jsxDEV("div",{className:"md:hidden space-y-2",children:e.map((h,x)=>l.jsxDEV("div",{className:"rounded border p-3 bg-white",children:[l.jsxDEV("div",{className:"flex justify-between items-center",children:[l.jsxDEV("div",{className:"font-semibold text-sm",children:h.name||(h.is_break?"×”×¤×¡×§×”":h.is_note?"×”×¢×¨×”":"")},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/LineupTable.tsx",lineNumber:128,columnNumber:15},void 0),p&&l.jsxDEV("div",{className:"text-xs text-slate-600",children:[h.duration||0," ×“×§'"]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/LineupTable.tsx",lineNumber:130,columnNumber:17},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/LineupTable.tsx",lineNumber:127,columnNumber:13},void 0),h.title&&l.jsxDEV("div",{className:"text-xs text-slate-700 mt-1",children:h.title},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/LineupTable.tsx",lineNumber:134,columnNumber:15},void 0),h.details&&l.jsxDEV("div",{className:"prose prose-sm rtl text-xs mt-2",dangerouslySetInnerHTML:{__html:$t(h.details)}},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/LineupTable.tsx",lineNumber:137,columnNumber:15},void 0),m&&h.phone&&l.jsxDEV("div",{className:"text-xs text-slate-600 mt-2",children:["×˜×œ×¤×•×Ÿ: ",h.phone]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/LineupTable.tsx",lineNumber:140,columnNumber:15},void 0),l.jsxDEV("div",{className:"flex justify-end gap-2 mt-2",children:[l.jsxDEV("button",{className:"text-xs px-2 py-1 border rounded",onClick:()=>r(h.id,h),children:"×¢×¨×•×š"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/LineupTable.tsx",lineNumber:143,columnNumber:15},void 0),l.jsxDEV("button",{className:"text-xs px-2 py-1 border rounded",onClick:()=>n(h.id),children:"××—×§"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/LineupTable.tsx",lineNumber:144,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/LineupTable.tsx",lineNumber:142,columnNumber:13},void 0)]},h.id,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/LineupTable.tsx",lineNumber:126,columnNumber:11},void 0))},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/LineupTable.tsx",lineNumber:124,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/LineupTable.tsx",lineNumber:87,columnNumber:5},void 0)},co=b.memo(({showName:e,showTime:n,showDate:t,items:r,editor:o,editingItem:i,onNameChange:s,onTimeChange:a,onDateChange:c,onSave:d,onShare:p,onPrint:u,onExportPDF:m,onExportWord:f,onAdd:g,onDelete:N,onDurationChange:h,onEdit:x,onBreakTextChange:v,onDragEnd:w,handleNameLookup:y,onBackToDashboard:D,onDetailsChange:I,showMinutes:R,onToggleMinutes:k,onDividerAdd:W,nextShowName:L,nextShowHost:z,onRemoveNextShowLine:M,isBackupShow:F,isSaving:S})=>{const ce=r.filter(ge=>!ge.is_divider).length>3;return l.jsxDEV("main",{className:"space-y-8 text-right",dir:"rtl",children:[l.jsxDEV(Si,{showName:e,showTime:n,showDate:t,onNameChange:s,onTimeChange:a,onDateChange:c,onSave:d,onShare:p,onPrint:u,onExportPDF:m,onExportWord:f,isSaving:S},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/editor/MainContent.tsx",lineNumber:82,columnNumber:7},void 0),l.jsxDEV("div",{className:"space-y-8",children:[l.jsxDEV(Ti,{editor:o,nextShowName:L,nextShowHost:z,onRemoveNextShowLine:M,showDate:t,showTime:n},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/editor/MainContent.tsx",lineNumber:98,columnNumber:9},void 0),F?null:l.jsxDEV(ut,{onAdd:g,onNameChange:y,onBackToDashboard:D,editingItem:i,onDividerAdd:W},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/editor/MainContent.tsx",lineNumber:108,columnNumber:11},void 0),l.jsxDEV(Rd,{items:r,onDelete:N,onDurationChange:h,onEdit:x,onBreakTextChange:v,onDetailsChange:I,onDragEnd:w,showMinutes:R,onToggleMinutes:k,isBackupShow:F},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/editor/MainContent.tsx",lineNumber:117,columnNumber:9},void 0),ce&&!F&&l.jsxDEV("div",{className:"mt-8 pt-8 border-t border-gray-200",children:[l.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"×”×•×¡×¤×ª ××™×™×˜×"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/editor/MainContent.tsx",lineNumber:133,columnNumber:13},void 0),l.jsxDEV(ut,{onAdd:g,onNameChange:y,onBackToDashboard:D,editingItem:i,onDividerAdd:W},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/editor/MainContent.tsx",lineNumber:134,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/editor/MainContent.tsx",lineNumber:132,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/editor/MainContent.tsx",lineNumber:97,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/editor/MainContent.tsx",lineNumber:81,columnNumber:5},void 0)});co.displayName="MainContent";const Td=()=>l.jsxDEV("div",{className:"lineup-editor-footer flex justify-center mt-12 mb-8",children:l.jsxDEV("img",{src:"/storage/uploads/general/103fm-logo.png",alt:"103FM",className:"h-12 opacity-50"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/editor/FooterSection.tsx",lineNumber:6,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/editor/FooterSection.tsx",lineNumber:5,columnNumber:5},void 0),Ld=({showName:e,onSave:n,onBackToDashboard:t,isSaving:r=!1})=>{const[o,i]=b.useState(!1);b.useEffect(()=>{const c=()=>{const d=window.scrollY;i(d>200)};return window.addEventListener("scroll",c),()=>window.removeEventListener("scroll",c)},[]);const s=()=>{window.scrollTo({top:0,behavior:"smooth"})},a=async()=>{if(!r)try{await n()}catch{G.error("×©×’×™××” ×‘×©××™×¨×ª ×”×œ×™×™× ××¤")}};return o?l.jsxDEV("div",{className:"fixed top-0 left-0 right-0 bg-white z-50 shadow-md py-2 px-4 flex justify-between items-center print:hidden",children:[l.jsxDEV("div",{className:"text-lg font-semibold truncate mr-4 text-right floatShowName",children:e},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/editor/FloatingHeader.tsx",lineNumber:42,columnNumber:7},void 0),l.jsxDEV("div",{className:"flex items-center space-x-2 floatButtons",children:[l.jsxDEV(j,{variant:"outline",size:"sm",onClick:t,className:"flex items-center gap-1 ml-2",children:[l.jsxDEV(li,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/editor/FloatingHeader.tsx",lineNumber:47,columnNumber:11},void 0),l.jsxDEV("span",{children:"××¡×š ×”×‘×™×ª"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/editor/FloatingHeader.tsx",lineNumber:48,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/editor/FloatingHeader.tsx",lineNumber:46,columnNumber:9},void 0),l.jsxDEV(j,{variant:"outline",size:"sm",onClick:s,className:"flex items-center gap-1 ml-2",children:[l.jsxDEV(ai,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/editor/FloatingHeader.tsx",lineNumber:52,columnNumber:11},void 0),l.jsxDEV("span",{children:"×œ××¢×œ×”"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/editor/FloatingHeader.tsx",lineNumber:53,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/editor/FloatingHeader.tsx",lineNumber:51,columnNumber:9},void 0),l.jsxDEV(j,{variant:"default",size:"sm",onClick:a,disabled:r,className:"flex items-center gap-1 bg-red-950 hover:bg-red-800",children:[l.jsxDEV(zt,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/editor/FloatingHeader.tsx",lineNumber:57,columnNumber:11},void 0),l.jsxDEV("span",{className:"text-slate-50",children:r?"×©×•××¨...":"×©××•×¨"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/editor/FloatingHeader.tsx",lineNumber:58,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/editor/FloatingHeader.tsx",lineNumber:56,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/editor/FloatingHeader.tsx",lineNumber:45,columnNumber:5},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/editor/FloatingHeader.tsx",lineNumber:41,columnNumber:10},void 0):null},uo=b.memo(({showName:e,showTime:n,showDate:t,items:r,editor:o,editingItem:i,onNameChange:s,onTimeChange:a,onDateChange:c,onSave:d,onShare:p,onPrint:u,onExportPDF:m,onExportWord:f,onAdd:g,onDelete:N,onDurationChange:h,onEdit:x,onBreakTextChange:v,onDragEnd:w,handleNameLookup:y,onBackToDashboard:D,onDetailsChange:I,showMinutes:R,onToggleMinutes:k,onDividerAdd:W,isSaving:L,nextShowName:z,nextShowHost:M,onRemoveNextShowLine:F,isBackupShow:S})=>l.jsxDEV("div",{className:"print:hidden lineup-editor",children:[l.jsxDEV(Ld,{showName:e,onSave:d,onBackToDashboard:D,isSaving:L},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/LineupEditor.tsx",lineNumber:78,columnNumber:7},void 0),l.jsxDEV(Ci,{showName:e,showDate:t,onBackToDashboard:D,isBackupShow:S},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/LineupEditor.tsx",lineNumber:85,columnNumber:7},void 0),l.jsxDEV(co,{showName:e,showTime:n,showDate:t,items:r,editor:o,editingItem:i,onNameChange:s,onTimeChange:a,onDateChange:c,onSave:d,onShare:p,onPrint:u,onExportPDF:m,onExportWord:f,onAdd:g,onDelete:N,onDurationChange:h,onEdit:x,onBreakTextChange:v,onDragEnd:w,handleNameLookup:y,onBackToDashboard:D,onDetailsChange:I,showMinutes:R,onToggleMinutes:k,onDividerAdd:W,nextShowName:z,nextShowHost:M,onRemoveNextShowLine:F,isBackupShow:S,isSaving:L},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/LineupEditor.tsx",lineNumber:92,columnNumber:7},void 0),l.jsxDEV(Td,{},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/LineupEditor.tsx",lineNumber:126,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/components/lineup/LineupEditor.tsx",lineNumber:77,columnNumber:5},void 0));uo.displayName="LineupEditor";const Pd=async(e,n)=>{try{if(!e||!n)return console.log("Current show date or time is missing"),null;const t=ue(e,"yyyy-MM-dd");console.log("Finding next show for date:",t,"after time:",n);const{data:r,error:o}=await Te.query("/schedule/slots",{selectedDate:t,isMasterSchedule:!1});if(o)return console.error("Error fetching daily schedule:",o),null;if(!r||r.length===0)return console.log("No shows found for the day:",t),null;console.log("All shows for the day:",r);const i=new Date(`${t}T${n}`);console.log("Current show datetime:",i),console.log("Looking for shows after:",i.toISOString());const s=r.filter(c=>{try{const d=new Date(c.slot_date),p=ue(d,"yyyy-MM-dd"),u=p===t;return console.log(`Show: ${c.show_name}, slot_date: ${c.slot_date}, local_date: ${p}, isSameDay: ${u}`),u}catch(d){return console.error("Error parsing slot_date:",d,c),!1}});console.log(`Shows for current day (${t}):`,s.map(c=>({name:c.show_name,host:c.host_name,time:c.start_time,slot_date:c.slot_date})));const a=s.find(c=>{try{return new Date(`${t}T${c.start_time}`)>i}catch(d){return console.error("Error comparing show datetime:",d,c),!1}});return a?(console.log("Found next show on same day:",a.show_name,"with host:",a.host_name,"at",a.start_time),{name:a.show_name,host:a.host_name||void 0}):(console.log("No next show found on the same day after:",i),null)}catch(t){return console.error("Error getting next show:",t),null}},wn=e=>{if(!e)return[new q({text:""})];const n=e.split(/<br\s*\/?>/gi),t=[];return n.forEach((r,o)=>{o>0&&t.push(new q({text:`
`,break:1}));const i=r.replace(/<[^>]*>/g,"").replace(/&nbsp;/g," ").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').trim();i&&t.push(new q({text:i,font:"Arial"}))}),t.length>0?t:[new q({text:""})]},zd=()=>{const{id:e}=Fo(),n=Go(),{state:t}=Ho(),[r,o]=b.useState([]),[i,s]=b.useState(""),[a,c]=b.useState(""),[d,p]=b.useState(new Date),[u,m]=b.useState(null),[f,g]=b.useState(!1),[N,h]=b.useState(!1),[x,v]=b.useState(!1),[w,y]=b.useState(null),[D,I]=b.useState(!1),[R,k]=b.useState(null),[W,L]=b.useState(!1),z=b.useRef(null),M=!e,F=Bn({extensions:[_n,Wt,Ht],content:"",editorProps:{attributes:{class:"prose prose-sm focus:outline-none min-h-[100px] p-4",placeholder:"×§×¨×“×™×˜×™×"}},onUpdate:()=>g(!0)}),S=b.useCallback(async()=>{if(d&&a)try{console.log("Fetching next show info for exact date:",ue(d,"yyyy-MM-dd"),a),console.log("showDate object:",d),console.log("showDate.toISOString():",d.toISOString()),console.log("showDate.getTime():",d.getTime());const C=await Pd(d,a);console.log("Next show info result:",C),k(C)}catch(C){console.error("Error fetching next show:",C),k(null)}},[d,a]);b.useEffect(()=>{if(M&&t){console.log("Processing new lineup state:",t);let C;t.generatedShowName?C=t.generatedShowName:C=t.showName===t.hostName?t.hostName:`${t.showName} ×¢× ${t.hostName}`,console.log("Setting show name:",C),console.log("Setting show time:",t.time),console.log("Setting show date:",t.date),console.log("Setting show date (ISO):",t.date?.toISOString()),console.log("Setting show date (day of week):",t.date?.getDay()),s(C),c(t.time||""),t.date&&p(new Date(t.date)),y({name:C,time:t.time||"",date:t.date?new Date(t.date):new Date,notes:"",items:[]})}},[M,t]),b.useEffect(()=>{(async()=>{if(e)try{console.log("Loading show with ID:",e);const A=await at(e);if(console.log("Result from getShowWithItems:",A),!A){G.error("×”×ª×•×›× ×™×ª ×œ× × ××¦××”"),n("/");return}const{show:P,items:H}=A;console.log("Show data:",P),console.log("Show items count:",H?.length),console.log("Show items:",H),P&&(s(P.name),c(P.time),p(P.date?new Date(P.date):new Date),L(P.is_backup||!1),F&&F.commands.setContent(P.notes||""),y({name:P.name,time:P.time,date:P.date?new Date(P.date):new Date,notes:P.notes||"",items:H})),H&&(console.log("Setting items in state:",H),o(H)),g(!1)}catch(A){console.error("Error loading show:",A),G.error("×©×’×™××” ×‘×˜×¢×™× ×ª ×”×ª×•×›× ×™×ª"),n("/")}})()},[e,F,n]),b.useEffect(()=>{t&&M&&g(!1)},[t,M]),b.useEffect(()=>{S()},[S]);const Q=b.useCallback(async(C,A)=>{console.log(`Editing item ${C} with data:`,A),o(P=>{const H=P.map(T=>T.id===C?{...T,...A,is_divider:A.is_divider===void 0?T.is_divider:A.is_divider,is_break:A.is_break===void 0?T.is_break:A.is_break,is_note:A.is_note===void 0?T.is_note:A.is_note,interviewees:A.interviewees}:T);return console.log("After edit, items are:",H.map(T=>({id:T.id,name:T.name,is_divider:T.is_divider,is_break:T.is_break,is_note:T.is_note}))),H}),g(!0)},[]),ce=b.useCallback(async()=>{if(!x)try{v(!0),console.log("Items before saving:",r.map(T=>({name:T.name,is_divider:T.is_divider,is_divider_type:typeof T.is_divider,is_break:T.is_break,is_note:T.is_note})));const C={name:i,time:a,date:d?ue(d,"yyyy-MM-dd"):"",notes:F?.getHTML()||"",slot_id:t?.slotId},A=r.map(({id:T,...J})=>(console.log(`Preparing item to save: ${J.name}`,{is_divider:J.is_divider,is_divider_type:typeof J.is_divider,is_break:J.is_break,is_note:J.is_note}),{name:J.name,title:J.title,details:J.details,phone:J.phone,duration:J.duration,is_break:!!J.is_break,is_note:!!J.is_note,is_divider:!!J.is_divider,interviewees:J.interviewees||[]}));console.log("Final items to save:",A.map(T=>({name:T.name,is_divider:T.is_divider,is_divider_type:typeof T.is_divider,is_break:T.is_break,is_note:T.is_note})));const P=await Oo(C,A,e);P&&!e&&n(`/show/${P.id}`,{replace:!0});const H=await at(e||P.id);H&&(console.log("Items after reloading:",H.items.map(T=>({name:T.name,is_divider:T.is_divider,is_break:T.is_break,is_note:T.is_note}))),o(H.items),y({name:i,time:a,date:d,notes:F?.getHTML()||"",items:H.items})),g(!1),G.success("×”×œ×™×™× ××¤ × ×©××¨ ×‘×”×¦×œ×—×”"),S()}catch(C){console.error("Error saving show:",C),G.error("×©×’×™××” ×‘×©××™×¨×ª ×”×œ×™×™× ××¤")}finally{v(!1)}},[x,i,a,d,F,r,t,e,n,S]),ge=b.useCallback(C=>{if(u)o(r.map(A=>A.id===u.id?{...C,id:u.id}:A)),m(null);else{const A={...C,id:Qe()};o([...r,A])}g(!0)},[u,r]),mo=b.useCallback((C,A)=>{o(r.map(P=>P.id===C?{...P,details:A}:P)),g(!0)},[r]),po=b.useCallback(async()=>{try{const C=`${window.location.origin}/print/${e}${D?"?minutes=true":""}`;if(navigator.clipboard&&navigator.clipboard.writeText)await navigator.clipboard.writeText(C),G.success("×§×™×©×•×¨ ×œ×œ×™×™× ××¤ ×”×•×¢×ª×§ ×œ×œ×•×—");else{const A=document.createElement("textarea");A.value=C,A.style.position="fixed",A.style.left="-999999px",A.style.top="-999999px",document.body.appendChild(A),A.focus(),A.select();const P=document.execCommand("copy");document.body.removeChild(A),P?G.success("×§×™×©×•×¨ ×œ×œ×™×™× ××¤ ×”×•×¢×ª×§ ×œ×œ×•×—"):G.error("×œ× × ×™×ª×Ÿ ×œ×”×¢×ª×™×§ ××•×˜×•××˜×™×ª. ×”×§×™×©×•×¨: "+C)}}catch(C){console.error("Error sharing:",C);const A=`${window.location.origin}/print/${e}${D?"?minutes=true":""}`;G.error("×œ× × ×™×ª×Ÿ ×œ×”×¢×ª×™×§ ××•×˜×•××˜×™×ª. ×”×§×™×©×•×¨: "+A)}},[e,D]),fo=b.useCallback(()=>{f?h(!0):n("/")},[f,n]),go=b.useCallback(()=>{if(e){const C=`${window.location.origin}/print/${e}?export=pdf${D?"&minutes=true":""}`;window.open(C,"_blank")}else G.error("× × ×œ×©××•×¨ ××ª ×”×œ×™×™× ××¤ ×œ×¤× ×™ ×™×¦×™×¨×ª PDF")},[e,D]),ho=b.useCallback(async()=>{if(!e){G.error("× × ×œ×©××•×¨ ××ª ×”×œ×™×™× ××¤ ×œ×¤× ×™ ×™×¦×™×¨×ª Word");return}try{const C=[new Ce({children:[new de({children:[new Z({children:[new q({text:"×¤×¨×˜×™×",bold:!0,size:24,font:"Arial"})],alignment:ne.RIGHT})]}),new de({children:[new Z({children:[new q({text:"××¨×•××™×™× /×ª",bold:!0,size:24,font:"Arial"})],alignment:ne.RIGHT})]}),...D?[new de({children:[new Z({children:[new q({text:"×“×§'",bold:!0,size:24,font:"Arial"})],alignment:ne.CENTER})]})]:[]]})];if(r.forEach(T=>{T.is_divider||(T.is_break?C.push(new Ce({children:[new de({children:[new Z({children:[new q({text:T.name,bold:!0,size:22,font:"Arial"})],alignment:ne.CENTER})],columnSpan:D?3:2})]})):T.is_note?C.push(new Ce({children:[new de({children:[new Z({children:wn(T.details||""),alignment:ne.CENTER})],columnSpan:D?3:2})]})):C.push(new Ce({children:[new de({children:[new Z({children:wn(T.details||""),alignment:ne.RIGHT})]}),new de({children:[new Z({children:[new q({text:T.name,bold:!0,size:20,font:"Arial"}),new q({text:`
`,break:1}),new q({text:T.title||"",size:18,font:"Arial"})],alignment:ne.RIGHT})]}),...D?[new de({children:[new Z({children:[new q({text:T.duration?.toString()||"",size:20,font:"Arial"})],alignment:ne.CENTER})]})]:[]]})))}),D){const T=r.reduce((J,Vo)=>J+(Vo.duration||0),0);C.push(new Ce({children:[new de({children:[new Z({children:[new q({text:"×¡×”×´×› ×“×§×•×ª",bold:!0,size:22,font:"Arial"})],alignment:ne.RIGHT})],columnSpan:2}),new de({children:[new Z({children:[new q({text:T.toString(),bold:!0,size:22,font:"Arial"})],alignment:ne.CENTER})]})]}))}const A=new di({sections:[{children:[new Z({children:[new q({text:i,bold:!0,size:36,font:"Arial"})],alignment:ne.CENTER}),new Z({children:[new q({text:`${a} // ${ue(d,"dd.MM.yyyy")}`,size:24,font:"Arial"})],alignment:ne.CENTER}),new Z({children:[new q({text:""})]}),new ui({rows:C,width:{size:100,type:mi.PERCENTAGE}}),...F?.getHTML()?[new Z({children:[new q({text:""})]}),new Z({children:wn(F.getHTML()),alignment:ne.CENTER})]:[]]}]}),P=await pi.toBlob(A),H=`${i||"lineup"}-${ue(d,"dd-MM-yyyy")}.docx`;Ii.saveAs(P,H),G.success("×”×§×•×‘×¥ Word × ×•×¦×¨ ×‘×”×¦×œ×—×”")}catch(C){console.error("Error creating Word document:",C),G.error("×©×’×™××” ×‘×™×¦×™×¨×ª ×§×•×‘×¥ Word")}},[e,i,d,a,r,D,F]),bo=b.useCallback(C=>{s(C),g(!0)},[]),No=b.useCallback(C=>{c(C),g(!0),S()},[S]),xo=b.useCallback(C=>{p(C||new Date),g(!0),setTimeout(S,100)},[S]),vo=b.useCallback(C=>{o(r.filter(A=>A.id!==C)),g(!0),G.success("×¤×¨×™×˜ × ××—×§ ×‘×”×¦×œ×—×”")},[r]),Do=b.useCallback((C,A)=>{o(r.map(P=>P.id===C?{...P,duration:A}:P)),g(!0)},[r]),Eo=b.useCallback((C,A)=>{o(r.map(P=>P.id===C?{...P,name:A}:P)),g(!0)},[r]),yo=b.useCallback(C=>{if(!C.destination)return;const A=Array.from(r),[P]=A.splice(C.source.index,1);A.splice(C.destination.index,0,P),o(A),g(!0)},[r]),wo=b.useCallback(C=>{I(C)},[]),Io=b.useCallback(()=>{window.print()},[]),Co=b.useCallback(()=>{const C={id:Qe(),name:"×©×¢×” ×©× ×™×™×”",position:r.length,is_divider:!0,is_break:!1,is_note:!1,duration:0,details:"",title:"",phone:""};console.log("Creating new divider with is_divider:",C.is_divider),console.log("Full divider object:",C),o(A=>{const P=[...A,C];return console.log("Updated items after adding divider:",P.map(H=>({id:H.id,name:H.name,is_divider:H.is_divider,is_break:H.is_break,is_note:H.is_note}))),P}),g(!0),G.success("×”×¤×¨×“×” × ×•×¡×¤×” ×‘×”×¦×œ×—×”")},[r]),So=b.useCallback(()=>{setTimeout(S,100)},[S]);return l.jsxDEV(l.Fragment,{children:[l.jsxDEV("div",{className:"container mx-auto py-8 px-4",children:[l.jsxDEV(uo,{showName:i,showTime:a,showDate:d,items:r,editor:F,editingItem:u,onNameChange:bo,onTimeChange:No,onDateChange:xo,onSave:ce,onShare:po,onPrint:Io,onExportPDF:go,onExportWord:ho,onAdd:ge,onDelete:vo,onDurationChange:Do,onEdit:Q,onBreakTextChange:Eo,onDragEnd:yo,handleNameLookup:async()=>null,onBackToDashboard:fo,onDetailsChange:mo,showMinutes:D,onToggleMinutes:wo,onDividerAdd:Co,isSaving:x,nextShowName:R?.name,nextShowHost:R?.host,onRemoveNextShowLine:So,isBackupShow:W},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/Index.tsx",lineNumber:678,columnNumber:9},void 0),l.jsxDEV("div",{ref:z,className:"hidden print:block print:mt-0",children:l.jsxDEV(Mo,{showName:i,showTime:a,showDate:d,items:r,editorContent:F?.getHTML()||"",showMinutes:D},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/Index.tsx",lineNumber:713,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/Index.tsx",lineNumber:712,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/Index.tsx",lineNumber:677,columnNumber:7},void 0),l.jsxDEV(qt,{open:N,onOpenChange:h,children:l.jsxDEV(Yt,{children:[l.jsxDEV(Xt,{children:[l.jsxDEV(Kt,{children:"×©×™× ×•×™×™× ×œ× ×©××•×¨×™×"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/Index.tsx",lineNumber:727,columnNumber:13},void 0),l.jsxDEV(Jt,{children:"×™×© ×š ×©×™× ×•×™×™× ×©×œ× × ×©××¨×•. ×”×× ×‘×¨×¦×•× ×š ×œ×©××•×¨ ××•×ª× ×œ×¤× ×™ ×”×—×–×¨×” ×œ×œ×•×— ×”×‘×§×¨×”?"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/Index.tsx",lineNumber:728,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/Index.tsx",lineNumber:726,columnNumber:11},void 0),l.jsxDEV(Qt,{children:[l.jsxDEV(Zt,{onClick:()=>n("/"),children:"×”×ª×¢×œ× ××©×™× ×•×™×™×"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/Index.tsx",lineNumber:733,columnNumber:13},void 0),l.jsxDEV(er,{onClick:async()=>{x||(await ce(),n("/"))},children:"×©××•×¨ ×©×™× ×•×™×™×"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/Index.tsx",lineNumber:736,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/Index.tsx",lineNumber:732,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/Index.tsx",lineNumber:725,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/Index.tsx",lineNumber:724,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/Index.tsx",lineNumber:676,columnNumber:5},void 0)};export{zd as default};
