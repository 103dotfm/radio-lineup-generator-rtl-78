import{a as t,as as p,j as e,B as N,o as u}from"./index-DmWoIqkz.js";import{aE as g,A as d,C as h,e as c,v as f,aF as x}from"./utils-vendor-BGFQbqN_.js";import{j as b,u as v}from"./react-vendor-Dgs0PnIs.js";import{f as w}from"./date-vendor-B-iErbnr.js";import"./ui-vendor-DDOKmtGI.js";import"./export-vendor-CIONKkl6.js";import"./mui-vendor-ChyyRTJQ.js";const k=async n=>{if(console.log("Fetching show from backup with ID:",n),!n)throw console.error("No show ID provided"),new Error("No show ID provided");const{data:m,error:s}=await t.query("/shows-backup",{where:{id:n}});if(s)throw console.error("Error fetching show from backup:",s),s;const l=m?.[0];if(!l)return null;const{data:o,error:r}=await t.query("/shows-backup/"+n+"/items");if(r)throw console.error("Error fetching show items from backup:",r),r;return console.log("Retrieved items from backup database:",o?.map(i=>({id:i.id,name:i.name,is_divider:i.is_divider,is_break:i.is_break,is_note:i.is_note}))),{show:l,items:o||[]}},_=()=>{const{id:n}=b(),m=v(),{data:s,isLoading:l,error:o}=p({queryKey:["backup-show",n],queryFn:()=>k(n),enabled:!!n});if(l)return e.jsxDEV("div",{className:"container mx-auto py-8 px-4",children:e.jsxDEV("div",{className:"text-center py-8",children:"טוען..."},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/BackupShowPage.tsx",lineNumber:23,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/BackupShowPage.tsx",lineNumber:22,columnNumber:7},void 0);if(o||!s)return e.jsxDEV("div",{className:"container mx-auto py-8 px-4",children:e.jsxDEV("div",{className:"text-center py-8 text-red-500",children:"שגיאה בטעינת התוכנית"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/BackupShowPage.tsx",lineNumber:31,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/BackupShowPage.tsx",lineNumber:30,columnNumber:7},void 0);const{show:r,items:i}=s;return e.jsxDEV("div",{className:"container mx-auto py-8 px-4",children:[e.jsxDEV("div",{className:"mb-6",children:e.jsxDEV(N,{variant:"ghost",onClick:()=>m("/"),className:"flex items-center gap-2",children:[e.jsxDEV(g,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/BackupShowPage.tsx",lineNumber:48,columnNumber:11},void 0),"חזרה לדשבורד"]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/BackupShowPage.tsx",lineNumber:43,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/BackupShowPage.tsx",lineNumber:42,columnNumber:7},void 0),e.jsxDEV("div",{className:"mb-8",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-4",children:[e.jsxDEV(d,{className:"h-6 w-6 text-blue-600"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/BackupShowPage.tsx",lineNumber:55,columnNumber:11},void 0),e.jsxDEV("h1",{className:"text-3xl font-bold",children:r.name},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/BackupShowPage.tsx",lineNumber:56,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/BackupShowPage.tsx",lineNumber:54,columnNumber:9},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[r.date&&e.jsxDEV("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsxDEV(h,{className:"h-5 w-5"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/BackupShowPage.tsx",lineNumber:62,columnNumber:15},void 0),e.jsxDEV("span",{children:w(new Date(r.date),"dd/MM/yyyy")},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/BackupShowPage.tsx",lineNumber:63,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/BackupShowPage.tsx",lineNumber:61,columnNumber:13},void 0),r.time&&e.jsxDEV("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsxDEV(c,{className:"h-5 w-5"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/BackupShowPage.tsx",lineNumber:68,columnNumber:15},void 0),e.jsxDEV("span",{children:r.time},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/BackupShowPage.tsx",lineNumber:69,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/BackupShowPage.tsx",lineNumber:67,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex items-center gap-2 text-blue-600",children:[e.jsxDEV(d,{className:"h-5 w-5"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/BackupShowPage.tsx",lineNumber:73,columnNumber:13},void 0),e.jsxDEV("span",{children:"מ-Lovable"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/BackupShowPage.tsx",lineNumber:74,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/BackupShowPage.tsx",lineNumber:72,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/BackupShowPage.tsx",lineNumber:59,columnNumber:9},void 0),r.notes&&e.jsxDEV(u,{className:"p-4 mb-6",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxDEV(f,{className:"h-5 w-5"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/BackupShowPage.tsx",lineNumber:81,columnNumber:15},void 0),e.jsxDEV("h3",{className:"font-semibold",children:"הערות"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/BackupShowPage.tsx",lineNumber:82,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/BackupShowPage.tsx",lineNumber:80,columnNumber:13},void 0),e.jsxDEV("div",{className:"text-gray-700",dangerouslySetInnerHTML:{__html:r.notes}},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/BackupShowPage.tsx",lineNumber:84,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/BackupShowPage.tsx",lineNumber:79,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/BackupShowPage.tsx",lineNumber:53,columnNumber:7},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"text-2xl font-semibold mb-4",children:["תוכן התוכנית (",i.length," פריטים)"]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/BackupShowPage.tsx",lineNumber:93,columnNumber:9},void 0),i.length===0?e.jsxDEV("div",{className:"text-center py-8 text-gray-500",children:"לא נמצא תוכן לתוכנית זו"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/BackupShowPage.tsx",lineNumber:96,columnNumber:11},void 0):e.jsxDEV("div",{className:"space-y-4",children:i.map((a,B)=>e.jsxDEV(u,{className:"p-4",children:e.jsxDEV("div",{className:"flex items-start justify-between",children:e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxDEV("span",{className:"text-sm font-medium text-gray-500 bg-gray-100 px-2 py-1 rounded",children:a.position},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/BackupShowPage.tsx",lineNumber:106,columnNumber:23},void 0),e.jsxDEV("h3",{className:"font-semibold text-lg",children:a.name},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/BackupShowPage.tsx",lineNumber:109,columnNumber:23},void 0),!!a.is_break&&e.jsxDEV("span",{className:"text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded",children:"הפסקה"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/BackupShowPage.tsx",lineNumber:111,columnNumber:25},void 0),!!a.is_note&&e.jsxDEV("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:"הערה"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/BackupShowPage.tsx",lineNumber:116,columnNumber:25},void 0),!!a.is_divider&&e.jsxDEV("span",{className:"text-xs bg-gray-100 text-gray-800 px-2 py-1 rounded",children:"מפריד"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/BackupShowPage.tsx",lineNumber:121,columnNumber:25},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/BackupShowPage.tsx",lineNumber:105,columnNumber:21},void 0),a.title&&e.jsxDEV("p",{className:"text-gray-600 mb-2",children:a.title},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/BackupShowPage.tsx",lineNumber:128,columnNumber:23},void 0),a.details&&e.jsxDEV("p",{className:"text-gray-500 text-sm mb-2",children:a.details},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/BackupShowPage.tsx",lineNumber:132,columnNumber:23},void 0),e.jsxDEV("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[a.phone&&e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV(x,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/BackupShowPage.tsx",lineNumber:138,columnNumber:27},void 0),e.jsxDEV("span",{children:a.phone},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/BackupShowPage.tsx",lineNumber:139,columnNumber:27},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/BackupShowPage.tsx",lineNumber:137,columnNumber:25},void 0),a.duration&&e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV(c,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/BackupShowPage.tsx",lineNumber:144,columnNumber:27},void 0),e.jsxDEV("span",{children:[a.duration," דקות"]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/BackupShowPage.tsx",lineNumber:145,columnNumber:27},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/BackupShowPage.tsx",lineNumber:143,columnNumber:25},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/BackupShowPage.tsx",lineNumber:135,columnNumber:21},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/BackupShowPage.tsx",lineNumber:104,columnNumber:19},void 0)},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/BackupShowPage.tsx",lineNumber:103,columnNumber:17},void 0)},a.id,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/BackupShowPage.tsx",lineNumber:102,columnNumber:15},void 0))},void 0,!1,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/BackupShowPage.tsx",lineNumber:100,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/BackupShowPage.tsx",lineNumber:92,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/iteam/radio-lineup-generator-rtl-78/src/pages/BackupShowPage.tsx",lineNumber:41,columnNumber:5},void 0)};export{_ as default};
